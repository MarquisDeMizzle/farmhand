{"version":3,"sources":["serviceWorkerRegistration.js","Farmhand.context.js","enums.js","constants.js","data/crop.js","data/crops/asparagus.js","data/crops/carrot.js","data/crops/corn.js","data/crops/jalapeno.js","data/crops/onion.js","data/crops/pea.js","data/crops/potato.js","data/crops/pumpkin.js","data/crops/soybean.js","data/crops/spinach.js","data/crops/strawberry.js","data/crops/tomato.js","data/crops/watermelon.js","data/crops/wheat.js","data/ores/bronzeOre.js","data/ores/coal.js","data/ores/goldOre.js","data/ores/ironOre.js","data/ores/silverOre.js","data/ores/stone.js","data/items.js","data/shop-inventory.js","data/fruit-names.js","data/items-map.js","data/recipes.js","data/upgrades.js","data/maps.js","data/adjectives.js","data/animal-names.js","config.js","data/levels.js","img/items/scarecrow-animated.gif","img/pixel.png","img/index.js","img/plot-states/watered-plot.png","img/plot-states/fertilized-plot.png","img/plot-states/rainbow-fertilized-plot.png","img/plot-states/shoveled-plot.png","img/ores/bronze-ingot.png","img/ores/iron-ingot.png","img/ores/silver-ingot.png","img/ores/gold-ingot.png","img/tools/hoe-bronze.png","img/tools/hoe-iron.png","img/tools/hoe-silver.png","img/tools/hoe-gold.png","img/tools/scythe-bronze.png","img/tools/scythe-iron.png","img/tools/scythe-silver.png","img/tools/scythe-gold.png","img/tools/shovel-bronze.png","img/tools/shovel-iron.png","img/tools/shovel-silver.png","img/tools/shovel-gold.png","img/dishes/carrot-soup.png","img/dishes/cheese.png","img/dishes/chocolate.png","img/dishes/chocolate-soy-milk.png","img/dishes/bread.png","img/dishes/burger.png","img/dishes/butter.png","img/dishes/french-onion-soup.png","img/items/jackolantern.png","img/dishes/hot-sauce.png","img/dishes/popcorn.png","img/dishes/rainbow-cheese.png","img/dishes/salsa.png","img/dishes/soy-milk.png","img/dishes/spicy-cheese.png","img/dishes/spaghetti.png","img/dishes/strawberry-jam.png","img/dishes/summer-salad.png","img/dishes/tofu.png","img/items/asparagus.png","img/items/asparagus-growing.png","img/items/asparagus-seed.png","img/items/carrot.png","img/items/carrot-growing.png","img/items/carrot-seed.png","img/items/jalapeno.png","img/items/jalapeno-growing.png","img/items/jalapeno-seed.png","img/items/pumpkin.png","img/items/pumpkin-growing.png","img/items/pumpkin-seed.png","img/items/pea.png","img/items/pea-growing.png","img/items/pea-seed.png","img/items/spinach.png","img/items/spinach-growing.png","img/items/spinach-seed.png","img/items/corn.png","img/items/corn-growing.png","img/items/corn-seed.png","img/items/potato.png","img/items/potato-growing.png","img/items/potato-seed.png","img/items/onion.png","img/items/onion-growing.png","img/items/onion-seed.png","img/items/soybean.png","img/items/soybean-growing.png","img/items/soybean-seed.png","img/items/wheat.png","img/items/wheat-growing.png","img/items/wheat-seed.png","img/items/tomato.png","img/items/tomato-growing.png","img/items/tomato-seed.png","img/items/strawberry.png","img/items/strawberry-growing.png","img/items/strawberry-seed.png","img/items/watermelon.png","img/items/watermelon-growing.png","img/items/watermelon-seed.png","img/ores/coal.png","img/ores/stone.png","img/ores/bronze-ore.png","img/ores/iron-ore.png","img/ores/silver-ore.png","img/ores/gold-ore.png","img/items/fertilizer.png","img/items/rainbow-fertilizer.png","img/items/scarecrow.png","img/items/sprinkler.png","img/items/cow-feed.png","img/items/hugging-machine.png","img/items/milk-1.png","img/items/milk-2.png","img/items/milk-3.png","img/items/rainbow-milk-1.png","img/items/rainbow-milk-2.png","img/items/rainbow-milk-3.png","img/items/chocolate-milk.png","img/items/inventory-box.png","img/tools/hoe.png","img/tools/scythe.png","img/tools/shovel.png","img/tools/watering-can.png","img/animals/cows/rainbow-cow.png","img/animals/cows/cow-variation-1.png","img/animals/cows/cow-variation-2.png","img/animals/cows/cow-variation-3.png","img/animals/cows/cow-variation-4.png","img/animals/cows/cow-variation-5.png","img/animals/cows/cow-variation-6.png","img/animals/cows/cow-variation-7.png","utils/isRandomNumberLessThan.js","utils/totalIngredientsInRecipe.js","utils.js","strings.js","factories/OreFactory.js","factories/CoalFactory.js","factories/StoneFactory.js","factories/ResourceFactory.js","data/achievements.js","common/utils.js","templates.js","game-logic/reducers.js","handlers/ui-events.js","handlers/peer-events.js","components/AppBar/AppBar.js","common/constants.js","components/AccountingView/AccountingView.js","components/ProgressBar/ProgressBar.js","components/Achievement/Achievement.js","components/AchievementsView/AchievementsView.js","components/LogView/LogView.js","components/BailOutErrorBoundary/BailOutErrorBoundary.js","components/CowCard/Bloodline/Bloodline.js","components/CowCard/Subheader/Subheader.js","components/CowCard/CowCard.js","components/OnlinePeersView/OnlinePeer/OnlinePeer.js","components/OnlinePeersView/OnlinePeersView.js","components/AnimatedNumber/AnimatedNumber.js","components/QuantityInput/QuantityInput.js","components/Item/Item.js","components/PriceEventView/PriceEventView.js","components/SettingsView/SettingsView.js","components/StatsView/StatsView.js","components/KeybindingsView/KeybindingsView.js","components/Navigation/Navigation.js","components/Inventory/Inventory.js","components/CowPenContextMenu/TabPanel/index.js","components/CowPenContextMenu/CowPenContextMenu.js","components/ContextPane/ContextPane.js","components/Plot/Plot.js","data/tools.js","components/Toolbelt/Toolbelt.js","components/QuickSelect/QuickSelect.js","components/Field/Field.js","components/Home/Home.js","components/CowPen/CowPen.js","components/TierPurchase/TierPurchase.js","components/Shop/TabPanel/index.js","components/Shop/Shop.js","components/IngredientsList/IngredientsList.js","components/Recipe/Recipe.js","components/UpgradePurchase/UpgradePurchase.js","components/Workshop/TabPanel/index.js","components/Workshop/Workshop.js","components/Stage/Stage.js","components/NotificationSystem/NotificationSystem.js","mui-theme.js","fetch-utils.js","Farmhand.js","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","farmhand","showUpdateNotification","onUpdate","onSuccess","catch","error","FarmhandContext","createContext","enumify","keys","reduce","acc","key","cropType","recipeType","fieldMode","stageFocusType","cropLifeStage","itemType","fertilizerType","genders","cowColors","standardCowColors","RAINBOW","dialogView","toolType","toolLevel","cowTradeRejectionReason","freeze","Object","BREAKPOINTS","STANDARD_LOAN_AMOUNT","LOAN_GARNISHMENT_RATE","PURCHASEABLE_FIELD_SIZES","Map","columns","rows","price","PURCHASEABLE_COMBINES","type","PURCHASEABLE_SMELTERS","PURCHASEABLE_COW_PENS","cows","SCARECROW_ITEM_ID","SPRINKLER_ITEM_ID","COW_STARTING_WEIGHT_VARIANCE","COW_HUG_BENEFIT","COW_WEIGHT_MULTIPLIER_MINIMUM","COW_FEED_ITEM_ID","HUGGING_MACHINE_ITEM_ID","STAGE_TITLE_MAP","HOME","FIELD","SHOP","COW_PEN","WORKSHOP","I_AM_RICH_BONUSES","PERSISTED_STATE_KEYS","PEER_METADATA_STATE_KEYS","DEFAULT_ROOM","LEFT","RIGHT","TOOLBELT_FIELD_MODES","Set","CLEANUP","HARVEST","WATER","MINE","COAL_SPAWN_CHANCE","HOE_LEVEL_TO_SEED_RECLAIM_RATE","DEFAULT","BRONZE","IRON","SILVER","GOLD","COW_COLORS_HEX_MAP","BLUE","BROWN","GREEN","ORANGE","PURPLE","WHITE","YELLOW","crop","cropTimetable","growsInto","tier","isSeed","cropLifecycleDuration","values","value","rest","doesPriceFluctuate","CROP","enablesFieldMode","PLANT","isPlantableCrop","fromSeed","id","SEED","GROWING","asparagusSeed","ASPARAGUS","name","asparagus","carrotSeed","CARROT","carrot","cornSeed","CORN","corn","jalapenoSeed","JALAPENO","jalapeno","onionSeed","ONION","onion","peaSeed","PEA","pea","potatoSeed","POTATO","potato","pumpkinSeed","PUMPKIN","pumpkin","soybeanSeed","SOYBEAN","soybean","spinachSeed","SPINACH","spinach","strawberrySeed","STRAWBERRY","strawberry","tomatoSeed","TOMATO","tomato","watermelonSeed","WATERMELON","watermelon","wheatSeed","WHEAT","wheat","bronzeOre","description","ORE","spawnChance","coal","FUEL","goldOre","ironOre","silverOre","stone","STONE","COW_FEED","FERTILIZER","HUGGING_MACHINE","MILK","SCARECROW","SPRINKLER","fertilizer","FERTILIZE","rainbowFertilizer","sprinkler","SET_SPRINKLER","hoveredPlotRangeSize","isReplantable","scarecrow","SET_SCARECROW","Number","MAX_SAFE_INTEGER","cowFeed","huggingMachine","milk1","milk2","milk3","rainbowMilk1","rainbowMilk2","rainbowMilk3","chocolateMilk","inventory","itemIds","map","item","items","itemName","itemsMap","baseItemsMap","itemify","recipe","CRAFTED_ITEM","ingredients","sum","itemId","bread","condition","itemsSold","KITCHEN","butter","cheese","rainbowCheese","chocolate","carrotSoup","jackolantern","spaghetti","frenchOnionSoup","burger","summerSalad","soyMilk","chocolateSoyMilk","tofu","hotSauce","salsa","spicyCheese","strawberryJam","popcorn","bronzeIngot","purchasedSmelter","FORGE","ironIngot","silverIngot","goldIngot","coalNeededForIngots","ingotId","amount","recipes","Math","round","upgrades","HOE","nextLevel","isMaxLevel","SCYTHE","SHOVEL","i","assign","TOOL_UPGRADE","level","recipeCategories","recipesMap","upgradesMap","upgrade","cropIdToTypeMap","endpoints","getMarketData","process","postDayResults","features","matches","searchParams","URLSearchParams","search","levels","unlocksShopItem","MINING","unlocksTool","increasesSprinklerRange","length","unlockableItems","itemUnlockLevels","entries","plotStates","smeltedItems","craftedItems","scarecrowAnimated","tools","hoe","scythe","shovel","animals","cow","rainbow","variations","isRandomNumberLessThan","chance","random","totalIngredientsInRecipe","quantity","Jimp","configureJimp","types","jimpPng","GROWN","shopInventoryMap","shopInventory","chooseRandom","list","memoizationSerializer","args","JSON","stringify","arg","toString","MemoizeCache","cacheSize","cache","this","memoize","fn","fastMemoize","create","clampNumber","num","min","max","castToMoney","moneyTotal","scaleNumber","baseMin","baseMax","convertStringToInteger","string","split","char","charCodeAt","moneyString","number","Dinero","toFormat","formatNumber","format","precision","convertPrecision","dollarString","integerString","percentageString","getItemBaseValue","getItemCurrentValue","valueAdjustments","toUnit","getAdjustedItemValue","toFixed","isItemSoldInShop","getResaleValue","getPlotContentFromItemId","NONE","getPlotContentType","doesPlotContainCrop","plot","isItemAFarmProduct","isItemAGrownCrop","getCropId","getCropLifecycleDuration","getLifeStageRange","stage","concat","Array","fill","getCropLifeStage","daysWatered","floor","cropLifeStageToImageSuffixMap","getFinalCropItemIdFromSeedItemId","seedItemId","getFinalCropItemFromSeedItem","getSeedItemIdFromFinalStageCropItemId","cropItemId","find","getDefaultCowName","fruitNames","getCowDisplayName","playerId","allowCustomPeerCowNames","originalOwnerId","generateCow","options","gender","color","uuid","baseWeight","MALE","colorsInBloodline","daysOld","daysSinceMilking","daysSinceProducingFertilizer","happiness","happinessBoostsToday","isBred","isUsingHuggingMachine","ownerId","timesTraded","weightMultiplier","getCowMilkItem","isRainbowCow","getCowFertilizerItem","getCowMilkRate","FEMALE","Infinity","getCowFertilizerProductionRate","getCowWeight","getCowValue","computeSaleValue","getCowSellValue","getInventoryQuantityMap","maxYieldOfRecipe","inventoryQuantityMap","canMakeRecipe","howMany","filterItemIdsToSeeds","itemsIds","filter","findInField","field","row","serializer","doesMenuObstructStage","filterCondition","push","innerWidth","itemTypesToShowInReverse","sortItemIdsByTypeAndValue","sortBy","has","sortItems","forEach","inventorySpaceConsumed","inventorySpaceRemaining","inventoryLimit","doesInventorySpaceRemain","areHuggingMachinesInInventory","some","nullArray","arraySize","findCowById","cowInventory","farmProductsSold","numberSold","levelAchieved","sqrt","farmProductSalesVolumeNeededForLevel","targetLevel","getLevelEntitlements","levelNumber","sprinklerRange","getAvailableShopInventory","levelEntitlements","hasOwnProperty","getRandomLevelUpRewardQuantity","reduceByPersistedKeys","get7DayAverage","historicalData","revenue","cowColorToIdMap","getProfit","losses","getProfitRecord","recordSingleDayProfit","todaysRevenue","todaysLosses","computeMarketPositions","todaysStartingInventory","todaysPurchases","endingPosition","startingInventory","purchaseQuantity","unlockTool","currentToolLevels","UNAVAILABLE","transformStateDataForImport","sanitizedState","rejectedKey","isFertilized","STANDARD","unlockedTools","tool","toolLevels","showHomeScreen","stageFocus","cowForSale","getPlayerName","playerIdNumber","adjective","adjectives","adjectiveNumberValue","animal","animalNames","getCostOfNextStorageExpansion","currentInventoryLimit","sleep","ms","Promise","resolve","setTimeout","getSalePriceMultiplier","completedAchievements","salePriceMultiplier","randomChoice","weightedOptions","totalWeight","sortedOptions","option","weight","sort","o","diceRoll","runningTotal","colorizeCowTemplate","cowImageFactoryCanvas","document","createElement","setAttribute","cachedCowImages","hexToRgb","hex","exec","r","g","b","parseInt","cowTemplate","a","imageKey","cowTemplateBuffer","Buffer","from","read","image","scan","bitmap","width","height","x","y","intToRGBA","getPixelColor","cowColorRgb","colorNumber","rgbaToInt","setPixelColor","getBase64Async","MIME_PNG","pixel","getCowImage","cowIdNumber","isCowInBreedingPen","cowBreedingPen","cowId1","cowId2","PROGRESS_SAVED_MESSAGE","FARM_PRODUCTS_TOOLTIP_TEXT","SERVER_ERROR","REQUESTED_COW_TRADE_UNAVAILABLE","INVENTORY_FULL_NOTIFICATION","TOOL_LEVEL_INFO","WATERING_CAN","COW_COLOR_NAMES","SPAWNABLE_ORES","OreFactory","oreOptions","ore","spawn","CoalFactory","spawns","spawnCoal","spawnStone","StoneFactory","resources","ResourceFactory","resourceOptions","shovelLevel","opt","factory","getFactoryForItemType","generate","_instance","_factoryInstances","generateFactoryInstance","addMoney","reward","money","sumOfCropsHarvested","cropsHarvested","cropHarvested","achievements","rewardDescription","wasWateredToday","goal","purchasedCowPen","addItemToInventory","every","cowColorsPurchased","rewardItem","record7dayProfitAverage","goalItem","achievementsMap","achievement","generateValueAdjustments","priceCrashes","priceSurges","MILKS_PRODUCED","_","milksProduced","message","milkName","FERTILIZERS_PRODUCED","fertilizersProduced","fertilizerName","COW_ATTRITION_MESSAGE","COW_BORN_MESSAGE","parentCow1","parentCow2","offspringCow","PRICE_CRASH","PRICE_SURGE","LOAN_INCREASED","loanBalance","LOAN_BALANCE_NOTIFICATION","LEVEL_GAINED_NOTIFICATION","newLevel","randomCropSeed","chunks","levelObject","join","CONNECTED_TO_ROOM","room","POSITIONS_POSTED_NOTIFICATION","who","positions","positivePositions","negativePositions","positionKeys","PURCHASED_ITEM_PEER_NOTIFICATION","SOLD_ITEM_PEER_NOTIFICATION","OFFER_COW_FOR_TRADE","cowDisplayName","WITHDRAW_COW_FROM_TRADE","COW_TRADED_NOTIFICATION","cowTradedAway","cowReceived","OBSERVE","incrementPlotContentAge","setWasWateredProperty","plotContent","setWasWatered","resetWasWatered","resetWasShoveled","isShoveled","daysUntilClear","updateField","modifierFn","applyChanceEvent","chancesAndEvents","processWeather","applyPrecipitation","processNerfs","applyCrows","createPriceEvent","priceEvent","priceEventKey","processLevelUp","oldLevel","selectedItemId","showNotification","adjustItemValues","historicalValueAdjustments","plotContainsScarecrow","fieldHasScarecrow","notification","scarecrowsConsumedByReplanting","severity","scarecrowsInInventory","decrementItemFromInventory","newDayNotifications","waterField","notificationMessages","updatedField","destroyCrop","processSprinklers","crops","modifiedField","plotY","plotX","rangeSize","centerX","centerY","squareSize","rangeStartX","rangeStartY","getRangeCoords","fieldRow","modifyFieldPlotAt","set","processFeedingCows","cowInventoryLength","cowFeedInventoryPosition","findIndex","unitsSpent","anyUnitsRemain","processCowAttrition","oldCowInventory","removeCowFromInventory","processMilkingCows","milk","processCowFertilizerProduction","allowInventoryOverage","numberOfItemsToAdd","currentItemSlot","currentItem","fieldReducer","fieldUpdaters","processField","processCowBreeding","cow1","cow2","daysUntilBirth","shouldGenerateOffspring","get","customProps","Error","maleCow","femaleCow","generateOffspringCow","computeCowInventoryForNextDay","removeFieldPlotAt","itemInventoryIndex","splice","rotateNotificationLogs","notificationLog","dayCount","notifications","info","success","warning","unshift","day","generatePriceEvents","unlockedSeedItemIds","unlockedItems","cropItem","priceEventType","daysRemaining","getPriceEventForCrop","decrementPriceEventDays","priceEvents","updatePriceEvents","updateFinancialRecords","profitabilityStreak","recordProfitabilityStreak","historicalDailyLosses","historicalDailyRevenue","slice","profitAverage","loss","currentProfitabilityStreak","updateInventoryRecordsForNextDay","applyLoanInterest","computeStateForNextDay","isFirstDay","todaysNotifications","purchaseItem","totalValue","prependPendingPeerMessage","addRevenue","revenueToAdd","sellItem","initialMoney","adjustedItemValue","saleIsGarnished","saleValue","loanGarnishment","garnishedProfit","adjustLoan","newItemsSold","updateLearnedRecipes","learnedRecipes","recipeId","makeRecipe","ingredientId","upgradeTool","toolName","upgradedName","currentName","onClick","undefined","showNotifications","latestNotification","purchaseCow","cowValue","addCowToInventory","sellCow","cowsSold","cowColorId","getCowColorId","newCowsSold","indexOf","changeCowBreedingPenResident","modifyCow","cowId","cowIndex","changeCowAutomaticHugState","doAutomaticallyHug","doAdd","isPenFull","isCowInPen","newCowBreedingPen","plantInPlot","plantableItemId","finalCropItemId","fertilizerItemIdToTypeMap","fertilizePlot","fertilizerItemId","fertilizerInventory","plotContentType","initialFertilizerQuantity","doFertilizersRemain","setSprinkler","doSprinklersRemain","setScarecrow","doScarecrowsRemain","harvestPlot","seedItemIdForCrop","plotWasRainbowFertilized","harvestedQuantity","minePlot","spawnedResources","instance","generateResources","spawnedOre","resource","oreId","clearPlot","hoeLevel","seedId","purchaseField","fieldId","purchasedField","column","waterPlot","waterAllPlots","purchaseCombine","combineId","purchasedCombine","purchaseSmelter","smelterId","purchaseCowPen","cowPenId","purchaseStorageExpansion","storageUpgradeCost","hugCow","offerCow","cowIdOfferedForTrade","withdrawCow","changeCowName","newName","selectCow","selectedCowId","updateAchievements","prevState","ACHIEVEMENT_COMPLETED","adjustmentAmount","loansTakenOut","forRange","fieldFn","rangeRadius","startX","endX","startY","endY","addPeer","peerId","peers","removePeer","updatePeer","peerState","pendingPeerMessages","latestPeerMessages","handleItemPurchaseClick","handleMakeRecipeClick","handleUpgradeTool","handleCowPurchaseClick","handleCowSellClick","handleCowTradeClick","tradeForPeerCow","handleCowAutomaticHugChange","checked","target","handleCowBreedChange","handleCowHugClick","handleCowOfferClick","handleCowWithdrawClick","handleCowNameInputChange","handleItemSellClick","handleViewChange","setState","handleViewChangeButtonClick","handleFieldModeSelect","handleItemSelectClick","handlePlotClick","handleFieldActionRangeChange","range","handleClickEndDayButton","incrementDay","activeElement","blur","handleAddMoneyClick","handleClearPersistedDataClick","clearPersistedData","handleWaterAllPlotsClick","handleFieldPurchase","handleCombinePurchase","handleSmelterPurchase","handleCowPenPurchase","handleStorageExpansionPurchase","handleMenuToggle","setOpen","isMenuOpen","handleClickNextMenuButton","focusNextView","handleClickPreviousMenuButton","focusPreviousView","handleCowSelect","handleCowClick","handleCowPenUnmount","handleClickDialogViewButton","openDialogView","handleCloseDialogView","isAwaitingCowTradeRequest","closeDialogView","handleDialogViewExited","currentDialogView","handleClickLoanPaydownButton","paydownAmount","handleClickTakeOutLoanButton","loanAmount","handleExportDataClick","blob","Blob","Date","toISOString","date","saveAs","handleImportDataClick","data","file","fileReader","FileReader","addEventListener","e","json","srcElement","result","parse","createInitialState","hasBooted","readAsText","handleSaveButtonClick","persistState","handleFarmNameUpdate","farmName","handleCombineEnabledChange","_e","enableCombine","isCombineEnabled","handleUseAlternateEndDayButtonPositionChange","useAlternateEndDayButtonPosition","handleAllowCustomPeerCowNamesChange","handleShowHomeScreenChange","handleShowNotificationsChange","handleClickNotificationIndicator","FARMERS_LOG","handleOnlineToggleChange","goOnline","redirect","encodeURIComponent","handleRoomChange","trim","handleActivePlayerButtonClick","ONLINE_PEERS","handlePeerMetadataRequest","handleCowTradeRequest","cowOffered","cowRequested","wasTradeSuccessful","cowsTraded","sendCowAccept","sendCowReject","cowToTradeAway","reason","REQUESTED_COW_UNAVAILABLE","updatedCowOffered","peer","peerMetadata","cowOfferedForTrade","handleCowTradeRequestAccept","cowTradeTimeoutId","updatedCowReceived","clearTimeout","handleCowTradeRequestReject","MoneyDisplay","idleColor","useState","displayedMoney","setDisplayedMoney","textColor","setTextColor","previousMoney","setPreviousMoney","currentTweenable","setCurrentTweenable","useEffect","cancel","tweenable","tween","easing","duration","render","to","style","AppBar","viewTitle","areAnyNotificationsErrors","className","position","Toolbar","Typography","StepIcon","icon","variant","Consumer","props","gameState","handlers","SERVER_ERRORS","ROOM_FULL","MoneyNumberFormat","inputRef","onChange","setLoanInputValue","fixedDecimalScale","thousandSeparator","allowNegative","decimalScale","prefix","isAllowed","floatValue","onValueChange","AccountingView","loanInputValue","Card","CardHeader","avatar","title","subheader","CardContent","TextField","inputProps","pattern","InputProps","inputComponent","Button","disabled","LOAN_INTEREST_RATE","incompleteColor","ProgressBar","percent","displayedProgress","setDisplayedProgress","displayedColor","setDisplayedColor","delay","currentPercent","interpolate","background","Achievement","isComplete","classNames","partitionAchievements","complete","incomplete","AchievementsList","AccordionDetails","AchievementsView","partitionedAchievements","Accordion","defaultExpanded","AccordionSummary","Divider","LogView","Alert","elevation","source","j","BailOutErrorBoundary","hasError","errorInfo","children","React","Component","Bloodline","Tooltip","arrow","placement","toLowerCase","memo","isHeartFull","heartIndex","numberOfFullHearts","getCowMapById","Subheader","canCowBeTradedFor","huggingMachinesRemain","isCowPurchased","isInBreedingPen","isBreedingPenFull","isCowOfferedForTrade","canBeMovedToBreedingPen","potentialMateId","disableBreedingControlTooltip","showOriginalOwner","_null","faFullHeart","faEmptyHeart","FormControlLabel","control","Checkbox","label","disableFocusListener","disableHoverListener","disableTouchListener","genderIcons","faVenus","faMars","CowCard","debounced","isCowOfferedForTradeByPeer","isSelected","isOnline","displayName","setDisplayName","cowImage","setCowImage","cardRef","useRef","scrollAnchorRef","cowCanBeTradedAway","scrollAnchor","current","card","scrollIntoView","element","getBoundingClientRect","top","left","bottom","right","innerHeight","documentElement","clientHeight","clientWidth","isInViewport","behavior","href","ref","raised","src","alt","placeholder","CardActions","OnlinePeer","OnlinePeersView","activePlayers","peerKeys","populatedPeers","defaultFormatter","AnimatedNumber","formatter","displayedNumber","setDisplayedNumber","previousNumber","setPreviousNumber","QuantityNumberFormat","isNumericString","QuantityTextInput","handleSubmit","handleUpdateNumber","maxQuantity","onFocus","onKeyUp","which","QuantityInput","setQuantity","Fab","size","defaultProps","noop","ValueIndicator","poorValue","PurchaseValueIndicator","SellValueIndicator","Item","isPurchaseView","isSelectView","isSellView","playerInventoryQuantities","showQuantity","adjustedValue","previousDayAdjustedValue","maxQuantityPlayerCanPurchase","setPurchaseQuantity","sellQuantity","setSellQuantity","handleItemPurchase","handleItemSell","sellPrice","shopItemIds","PriceEventView","SettingsView","isClearDataDialogOpen","setIsClearDataDialogOpen","FormControl","component","FormLabel","FormGroup","Switch","as","results","Dialog","open","onClose","maxWidth","DialogTitle","DialogContent","dividers","DialogActions","autoFocus","ElevatedPaper","Paper","StatsView","totalFarmProductsSold","currentLevel","TableContainer","Table","aria-label","TableBody","TableRow","TableCell","scope","align","abs","KeybindingsView","keybinding","FarmNameDisplay","displayedFarmName","setDisplayedFarmName","maxLength","onBlur","OnlineControls","displayedRoom","setDisplayedRoom","PRICE_EVENTS","STATS","ACHIEVEMENTS","ACCOUNTING","SETTINGS","KEYBINDINGS","dialogTriggerTextMap","dialogTitleMap","dialogContentMap","Navigation","blockInput","isDialogViewOpen","viewList","levelPercent","currentDialogViewLowerCase","modalTitleId","modalContentId","Box","CircularProgress","Select","view","MenuItem","Icon","BookIcon","FlashOnIcon","AssessmentIcon","BeenhereIcon","AccountBalanceIcon","SettingsIcon","fullWidth","onExited","aria-describedby","aria-labelledby","disableTypography","categoryIds","categoryIdKeys","ANIMAL_PRODUCTS","ANIMAL_SUPPLIES","CRAFTED_ITEMS","CROPS","FIELD_TOOLS","MINED_RESOURCES","SEEDS","UPGRADES","itemTypeCategoryMap","separateItemsIntoCategories","category","Inventory","playerInventory","itemCategories","headerText","TabPanel","index","other","role","hidden","a11yProps","AGE","COLOR","GENDER","HAPPINESS","VALUE","WEIGHT","sortCows","sortType","isAscending","sorter","sortedCows","reverse","numberOfCowsBreeding","CowPenContextMenu","setSortType","setIsAscending","currentTab","setCurrentTab","Tabs","newTab","Tab","displayEmpty","PlayerInventory","prev","next","ContextPane","getBackgroundStyles","backgroundImages","Plot","isInHoverRange","setHoveredPlot","itemImages","getPlotImage","lifeStage","isRipe","daysLeftToMature","ceil","getDaysLeftToMature","isCrop","isScarecow","wasJustShoveled","setWasJustShoveled","initialIsShoveledState","setInitialIsShoveledState","showPlotImage","backgroundImage","onMouseOver","animated","heartBeat","tooltipContents","wateringCan","fieldKey","hiddenText","levelInfo","order","getTools","toolsData","getToolImage","toolImages","Toolbelt","currentFieldMode","selected","ItemList","QuickSelect","fieldToolInventory","plantableCropInventory","Grid","container","alignItems","wrap","orientation","flexItem","zoomKeyMap","zoomIn","zoomOut","fieldKeyMap","selectWateringCan","selectScythe","selectHoe","selectShovel","hoveredPlot","hoveredPlotX","hoveredPlotY","hoveredPlotRangeSizeToRender","rangeFloorX","rangeFloorY","MemoPlot","FieldContentWrapper","fieldContent","previousScale","resetTransform","scale","keyMap","FieldContent","onMouseLeave","arr","adjustableRangeFieldModes","RangeSliderValueLabelComponent","Field","currentScale","setCurrentScale","fieldActionRange","setFieldActionRange","limitToBounds","reset","animationTime","pan","onZoomChange","wheel","doubleClick","transformProps","Slider","marks","handleFieldActionRangeSliderChange","step","valueLabelDisplay","valueLabelFormat","ValueLabelComponent","onboardingAchievements","getRemainingOnboardingAchievements","isInstallable","matchMedia","origin","Home","remainingOnboardingAchievements","expandIcon","linkTarget","Cow","isTransitioning","moveDirection","rotate","showHugAnimation","randomPosition","repositionTimeoutId","animateHugTimeoutId","Tweenable","move","newX","oldDirection","newDirection","flipAnimationDuration","transitionAnimationDuration","scheduleMove","repositionTimeoutHandler","waitVariance","prevProps","hugAnimationDuration","PopperProps","disablePortal","transform","faHeart","CowPen","TierPurchase","selectedTier","tierValues","tiers","hasPurchasedTier","tierLevel","purchasedTier","handleTierPurchase","selectedTierNumber","onSelectChange","updateSelectedTier","nextTierNumber","nextTierToPurchase","String","canPlayerBuySelectedTier","maxedOutPlaceholder","renderTierLabel","hasPurchasedHighestTier","categorizeShopInventory","inventoryItem","seeds","fieldTools","Shop","IngredientsList","data-testid","ingredientName","quantityNeeded","quantityAvailable","Recipe","spaceFreedByIngredientsConsumed","canBeMade","handleMakeRecipe","UpgradePurchase","Workshop","learnedKitchenRecipes","learnedForgeRecipes","learnedRecipeId","learnedRecipe","getLearnedRecipeCategories","upgradesAvailable","learnedRecipeIds","toolUpgrades","nextLevelUpgrade","allIngredientsUnlocked","ingredient","includes","getUpgradesAvailable","showForge","Stage","scrollTop","overflow","snackbarProviderContentCallback","NotificationSystem","closeSnackbar","enqueueSnackbar","autoHideDuration","preventDuplicate","propTypes","shape","isRequired","func","withSnackbar","createMuiTheme","typography","useNextVariants","commonFetchConfig","mode","credentials","headers","referrerPolicy","getData","url","params","append","fetch","method","response","postData","body","emptyObject","computePlayerInventory","getFieldToolInventory","getPlantableCropInventory","applyPriceEvents","patchedValueAdjustments","Farmhand","arguments","localforage","createInstance","handleCowTradeTimeout","initInputHandlers","initReducers","itemInInventory","reducedState","getPeerMetadata","isAwaitingNetworkRequest","isWaitingForDayToCompleteIncrementing","heartbeatTimeoutId","path","startsWith","peerRoom","sendPeerMetadata","decodeURIComponent","version","eventHandlers","bind","debounce","nextView","openAccounting","openAchievements","openLog","openPriceEvents","openStats","openSettings","openKeybindings","previousView","toggleMenu","keyHandlers","viewName","reducerName","reducer","reducers","getItem","syncToRoom","errorCode","handleRoomSyncError","initialState","decodedRoom","newIsOnline","updatedAchievementsState","onPeerJoin","onPeerLeave","makeAction","sendCowTradeRequest","getCowTradeRequest","getCowAccept","getCowReject","wrapSendPeerMetadata","leave","throttle","trailing","peerPlayerCow","clear","farmId","scheduleHeartbeat","joinRoom","appId","roomNameChunks","roomNumber","nextRoomNumber","isNaN","roomBaseName","nextRoom","ROOM_FULL_NOTIFICATION","COW_PEN_PURCHASED","previousLearnedRecipes","recipesString","learnedRecipeNames","RECIPES_LEARNED","overrides","setItem","nextDayState","serverMessages","broadcastedPositionMessage","pendingNotifications","messagePeers","getAttribute","currentViewIndex","waiting","postMessage","reload","isInputBlocked","allowChanges","theme","anchorOrigin","vertical","horizontal","classes","containerRoot","content","maxSnack","Provider","Drawer","PaperProps","MobileStepper","steps","activeStep","ReactDOM","hashType","getElementById","URL","contentType","status","ready","unregister","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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,KAAM,uBACNhE,KAAMuH,GACNpE,MAAO,KAOIwF,GAAetJ,GAAO,CACjCsE,GAAI,iBACJK,KAAM,uBACNhE,KAAMuH,GACNpE,MAAO,MAOIyF,GAAevJ,GAAO,CACjCsE,GAAI,iBACJK,KAAM,uBACNhE,KAAMuH,GACNpE,MAAO,MAOI0F,GAAgBxJ,GAAO,CAClCsE,GAAI,iBACJK,KAAM,iBACNhE,KAAMuH,GACNpE,MAAO,KCjNH2F,GAAY,CAEhBhF,GACAI,GACAG,GACAG,GACAG,GACAG,GACAG,GACAG,GACAG,GACAG,GACAG,GACAG,GACAG,GACAG,GAGAoB,GACAO,GACAJ,IAGaiB,MAEFC,GAAU,IAAIvH,IAAIsH,GAAUE,KAAI,SAAAC,GAAI,OAAIA,EAAKtF,OC/C3C,IACb,OACA,QACA,UACA,UACA,aACA,SACA,WACA,aACA,eACA,YACA,cACA,aACA,YACA,SACA,QACA,aACA,aACA,UACA,YACA,YACA,WACA,UACA,SACA,SACA,aACA,SACA,MACA,OACA,aACA,QACA,aACA,QACA,aACA,WACA,cACA,aACA,YACA,SACA,aACA,SACA,UACA,SACA,OACA,UACA,QACA,OACA,SACA,SACA,SACA,YACA,QACA,aACA,SACA,QACA,WACA,QACA,YACA,QACA,SACA,SACA,QACA,OACA,YACA,YACA,YACA,SACA,WACA,OACA,UACA,cACA,SACA,QACA,UACA,SACA,SACA,WACA,YACA,QACA,QACA,cACA,SACA,UACA,UACA,aACA,UACA,YACA,WACA,YACA,SACA,aACA,OACA,YC3Fa,kBACVrE,OAAOpB,KAAKgL,GAAO/K,QAAO,SAACC,EAAK+K,GACjC,IAAMF,EAAOC,EAAMC,GAEnB,OADA/K,EAAI6K,EAAKtF,IAAMsF,EACR7K,IACN,KCECgL,GAAQ,eAAQC,IAEhBC,GAAU,SAAAC,GACd,IAAMN,EAAO3J,OAAOD,OAAPC,OAAA,IAAAA,QAAA,IAAAA,CAAA,GACRiK,GADQ,IAEXvJ,KAAMrB,GAAS6K,aACfrG,MAAO7D,OAAOpB,KAAKqL,EAAOE,aAAatL,QACrC,SAACu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AZgB,gBAazBG,GAAa,cAbY,gBAczBG,GAAQ,SAdiB,ICnDb,IACb,WACA,cACA,YACA,QACA,SACA,aACA,UACA,YACA,WACA,SACA,QACA,SACA,OACA,OACA,UACA,WACA,WACA,WACA,SACA,SACA,WACA,cACA,YACA,cACA,aACA,QACA,UACA,OACA,aACA,aACA,WACA,QACA,SACA,UACA,aACA,cACA,YACA,eACA,UACA,YACA,SACA,QACA,YACA,SACA,OACA,WACA,QACA,SACA,SACA,YACA,WACA,WACA,WACA,WACA,WACA,QACA,UACA,UACA,YACA,YACA,cACA,QACA,SACA,OACA,QACA,SACA,SACA,QACA,cACA,aACA,OACA,QACA,aACA,cACA,UACA,WACA,SACA,WACA,WACA,QACA,UACA,SACA,WACA,QACA,QACA,SACA,UACA,YACA,WACA,SACA,UACA,aACA,OACA,WACA,aACA,QACA,aACA,YACA,YACA,YACA,OACA,QACA,QCvGa,IACb,WACA,YACA,YACA,SACA,YACA,aACA,MACA,WACA,WACA,UACA,MACA,YACA,MACA,SACA,SACA,YACA,WACA,YACA,WACA,OACA,MACA,OACA,SACA,MACA,SACA,OACA,QACA,YACA,OACA,SACA,SACA,MACA,YACA,UACA,QACA,WACA,WACA,UACA,MACA,cACA,UACA,SACA,YACA,UACA,YACA,UACA,aACA,aACA,WACA,OACA,YACA,QACA,SACA,QACA,SACA,SACA,OACA,QACA,UACA,WACA,UACA,YACA,OACA,SACA,OACA,QACA,WACA,MACA,UACA,SACA,OACA,SACA,YACA,OACA,QACA,YACA,UACA,QACA,WACA,MACA,MACA,SACA,SACA,SACA,QACA,UACA,OACA,WACA,OACA,MACA,OACA,UACA,QACA,SACA,SACA,UACA,OACA,WACA,QACA,SACA,UACA,cACA,SACA,OACA,QACA,UACA,OACA,UACA,OACA,WACA,QACA,eACA,QACA,cACA,QACA,SACA,SACA,SACA,SACA,MACA,YACA,WACA,aACA,OACA,QACA,MACA,UACA,OACA,UACA,QACA,UACA,OACA,QACA,UACA,OACA,OACA,QACA,WACA,SACA,UACA,WACA,SACA,WACA,SACA,YACA,WACA,UACA,OACA,SACA,cACA,OACA,WACA,SACA,QACA,WACA,QACA,OACA,SACA,UACA,SACA,UACA,UACA,YACA,OACA,UACA,QACA,MACA,KACA,QACA,UACA,WACA,SACA,YACA,UACA,UACA,UACA,MACA,SACA,WACA,OACA,YACA,WACA,SACA,OACA,SACA,QACA,SACA,SACA,UACA,QACA,WACA,aACA,aACA,UACA,aACA,SACA,WACA,QACA,QACA,QACA,QACA,QACA,UACA,QACA,WACA,WACA,WACA,QACA,QACA,WACA,OACA,QACA,YACA,QACA,UACA,OACA,QACA,WACA,SACA,SACA,SACA,gBACA,OACA,UACA,SACA,UACA,QACA,UACA,OACA,YACA,SACA,aACA,OACA,MACA,SCzOWsG,GAAY,CACvBC,cAAc,GAAD,OAAKC,+BAAL,uBACbC,eAAe,GAAD,OAAKD,+BAAL,yBAiBHE,GAAW3N,OAAOpB,KAAK6O,gSAAa5O,QAAO,SAACC,EAAKC,GAC5D,IAAM6O,EAAU7O,EAAI7B,MAAM,yBAM1B,OAJI0Q,IACF9O,EAAI8O,EAAQ,KAAM,GAGb9O,IACN,IAEG+O,GAAe,IAAIC,gBAAgB/Q,KAAOC,SAAS+Q,Q,gBAEvCF,GAAajP,Q,IAA/B,8BAAuC,CAAC,IAChCgP,GAD+B,SACjB1Q,MAAM,eAEtB0Q,KACFD,GAASC,GAAQ,KAAM,I,kCC/BpB,IAAMI,GAAS,GAEtBA,GAAO,GAAK,CACVC,gBAAiBrE,GAAiBvF,IAGpC2J,GAAO,GAAK,CACVC,gBAAiBrE,GAAkBvF,IAGrC2J,GAAO,GAAK,CACVC,gBAAiBrE,GAAiBvF,IAGpC2J,GAAO,GAAK,CACVC,gBAAiBrE,GAAkBvF,IAGrC2J,GAAO,GAAK,CACVC,gBAAiBrE,GAAgBvF,IAG/BsJ,GAASO,SACXF,GAAO,GAAK,CACVG,YAAavO,GAASiN,SAI1BmB,GAAO,GAAK,CACVI,yBAAyB,GAG3BJ,GAAO,IAAM,CACXC,gBAAiBrE,GAAevF,IAGlC2J,GAAO,IAAM,CACXI,yBAAyB,GAG3BJ,GAAO,IAAM,CACXC,gBAAiBrE,GAAiBvF,IAGpC2J,GAAO,IAAM,CACXC,gBAAiBrE,GAAgBvF,IAGnC2J,GAAO,IAAM,CACXC,gBAAiBrE,GAAkBvF,IAGrC2J,GAAO,IAAM,CACXC,gBAAiBrE,GAAgBvF,IAGnC2J,GAAO,IAAM,CACXC,gBAAiBrE,GAAiBvF,IAGpC2J,GAAO,IAAM,CACXC,gBAAiBrE,GAAoBvF,IAGvC2J,GAAO,IAAM,CACXC,gBAAiBrE,GAAmBvF,IAGtC2J,GAAO,IAAM,CACXC,gBAAiBrE,GAAqBvF,IAGxC2J,GAAO,IAAM,CACXC,gBAAiBrE,GAAcvF,IAGjC2J,GAAO,IAAM,CACXC,gBAAiBrE,GAAqBvF,IAGxC,IAAK,IAAIyI,GAAI,EAAGA,GAAIkB,GAAOK,OAAQvB,KACjCkB,GAAOlB,IAAP,aAAczI,GAAIyI,IAAMkB,GAAOlB,KAGjC9M,OAAOD,OAAOiO,IAEP,I,MAAMM,GAAkBN,GAAOnP,QAAO,SAACC,EAAD,GAAmC,IAA3BuF,EAA0B,EAA1BA,GAAI4J,EAAsB,EAAtBA,gBAKvD,OAJIA,IACFnP,EAAImP,GAAmB5J,GAGlBvF,IACN,IAEUyP,GAAmBvO,OAAOwO,QAAQF,IAAiBzP,QAC9D,SAACC,EAAD,GAA2B,IAAD,oBAAnBuL,EAAmB,KAExB,OADAvL,EADwB,MACXuL,EACNvL,IAET,ICzGa,OAA0B,+CCA1B,wPC0HF2P,GC1HE,ymBD0HFA,GE1HE,qPF0HFA,GG1HE,qUH0HFA,GI1HE,qlBJiITC,GAAe,CACnB,eKlIa,iZLmIb,aMnIa,qYNoIb,eOpIa,iXPqIb,aQrIa,6ZRwIb,aSxIa,yYTyIb,WUzIa,qXV0Ib,aW1Ia,qXX2Ib,WY3Ia,6XZ4Ib,gBa5Ia,yYb6Ib,cc7Ia,yYd8Ib,gBe9Ia,yXf+Ib,cgB/Ia,yYhBgJb,gBiBhJa,6ZjBiJb,ckBjJa,ialBkJb,gBmBlJa,iZnBmJb,coBnJa,kapBsJFC,GAAY,aACvB,cqBvJa,6YrBwJbhE,OsBxJa,iatByJbE,UuBzJa,ievB0Jb,qBwB1Ja,6YxB2JbP,MyB3Ja,iVzB4JbY,O0B5Ja,6a1B6JbR,O2B7Ja,yd3B8Jb,oB4B9Ja,ya5B+JbK,a6B/Ja,6b7BgKb,Y8BhKa,qV9BiKbY,Q+BjKa,ioB/BkKbf,cgClKa,yuBhCmKbY,MiCnKa,6iBjCoKb,WkCpKa,qZlCqKb,emCrKa,6lBnCsKbR,UoCtKa,6dpCuKb,iBqCvKa,6jBrCwKb,esCxKa,ynBtCyKbM,KuCzKa,khBvC0KVoD,IAGQ9E,GAAK,aAEhBjF,UwC/Ka,ioBxCgLb,oByChLa,ykBzCiLb,iB0CjLa,6W1CkLbG,O2ClLa,ya3CmLb,iB4CnLa,6R5CoLb,c6CpLa,iW7CqLbM,S8CrLa,yX9CsLb,mB+CtLa,yW/CuLb,gBgDvLa,iThDwLbY,QiDxLa,6XjDyLb,kBkDzLa,iUlD0Lb,emD1La,qXnD2LbN,IoD3La,6rBpD4Lb,cqD5La,qwBrD6Lb,WsD7La,6ctD8LbY,QuD9La,icvD+Lb,kBwD/La,iSxDgMb,eyDhMa,qPzDiMbrB,K0DjMa,6e1DkMb,e2DlMa,qX3DmMb,Y4DnMa,qa5DoMbY,O6DpMa,yW7DqMb,iB8DrMa,iW9DsMb,c+DtMa,6R/DuMbN,MgEvMa,ibhEwMb,gBiExMa,qVjEyMb,akEzMa,yNlE0MbY,QmE1Ma,yYnE2Mb,kBoE3Ma,6VpE4Mb,eqE5Ma,6WrE6Mbe,MsE7Ma,igBtE8Mb,gBuE9Ma,6SvE+Mb,awE/Ma,yQxEgNbN,OyEhNa,yTzEiNb,iB0EjNa,qP1EkNb,c2ElNa,qP3EmNbH,W4EnNa,qf5EoNb,qB6EpNa,ypB7EqNb,kB8ErNa,q6B9EsNbM,W+EtNa,imB/EuNb,qBgFvNa,ilBhFwNb,kBiFxNa,iajF2NbQ,KkF3Na,yhBlF4NbK,MmF5Na,icnF6Nb,aoF7Na,qoBpF8Nb,WqF9Na,qpBrF+Nb,asF/Na,ydtFgOb,WuFhOa,ymBvFmObQ,WwFnOa,yWxFoOb,qByFpOa,yczFqObO,U0FrOa,6a1FsObJ,U2FtOa,yU3FyOb,W4FzOa,qmB5F0Ob,kB6F1Oa,6S7F2Ob,S8F3Oa,yU9F4Ob,S+F5Oa,qX/F6Ob,SgG7Oa,qYhG8Ob,iBiG9Oa,yajG+Ob,iBkG/Oa,ydlGgPb,iBmGhPa,ienGiPb,iBoGjPa,6VpGoPb,qBAAsBqG,GACtB,gBqGrPa,0QrGuPVD,IAGQE,GAAQ,CACnBC,IsG3Pa,yXtG4PbC,OuG5Pa,6WvG6PbC,OwG7Pa,qWxG8Pb,eyG9Pa,0ZzGiQFC,GAAU,CACrBC,IAAK,CACHC,Q0GnQW,q3B1GoQXC,WAAY,C2GpQD,yxBCAA,qyBCAA,isBCAA,y0BCAA,yyBCAA,qsBCAA,wvBCKA,SAASC,GAAuBC,GAC7C,OAAOhD,KAAKiD,UAAYD,ECNX,SAASE,GAAyBvF,GAAqB,IAAbmC,EAAY,uDAAH,EAChE,OACEA,EACApM,OAAO4D,OAAOqG,EAAOE,aAAatL,QAChC,SAACC,EAAK2Q,GAAN,OAAmB3Q,EAAM2Q,IACzB,GCmEN,IAAMC,GAAOC,KAAc,CACzBC,MAAO,CAACC,QAGFvL,GAAyBlF,GAAzBkF,KAAMC,GAAmBnF,GAAnBmF,QAASuL,GAAU1Q,GAAV0Q,MAEjBC,GAAmBC,GAAcnR,QAAO,SAACC,EAAK6K,GAElD,OADA7K,EAAI6K,EAAKtF,IAAMsF,EACR7K,IACN,IAEUmR,GAAe,SAAAC,GAAI,OAC9BA,EAAK5D,KAAKC,MAAMD,KAAKiD,UAAYW,EAAK7B,OAAS,MAO3C8B,GAAwB,SAAAC,GAAI,OAChCC,KAAKC,UACH,aAAIF,GAAM1G,KAAI,SAAA6G,GAAG,MAAoB,oBAARA,EAAqBA,EAAIC,WAAaD,OAUjEE,G,WASJ,aAAiE,IAAD,yDAAJ,GAAI,IAAlDC,iBAAkD,MvJvGrB,GuJuGqB,4BARhEC,MAAQ,GASNC,KAAKF,UAAYA,E,wCAGnB,SAAI3R,GACF,OAAOA,KAAO6R,KAAKD,Q,iBAGrB,SAAI5R,GACF,OAAO6R,KAAKD,MAAM5R,K,iBAGpB,SAAIA,EAAK8E,GACH7D,OAAOpB,KAAKgS,KAAKD,OAAOtC,OAASuC,KAAKF,YACxCE,KAAKD,MAAQ,IAGfC,KAAKD,MAAM5R,GAAO8E,M,KAITgN,GAAU,SAACC,EAAIzT,GAAL,OACrB0T,KAAYD,EAAD,aACTH,MAAO,CAAEK,OAAQ,kBAAM,IAAIP,GAAapT,MACrCA,KAQM4T,GAAc,SAACC,EAAKC,EAAKC,GAAX,OACzBF,GAAOC,EAAMA,EAAMD,GAAOE,EAAMA,EAAMF,GAE3BG,GAAc,SAAAH,GAAG,OAAI5E,KAAKC,MAAY,IAAN2E,GAAa,KAQ7CI,GAAa,sCAAIlB,EAAJ,yBAAIA,EAAJ,uBACxBA,EAAKvR,QAAO,SAACuL,EAAK8G,GAAN,OAAe9G,EAAOkC,KAAKC,MAAY,IAAN2E,KAAa,GAAK,KAWpDK,GAAc,SAAC1N,EAAOsN,EAAKC,EAAKI,EAASC,GAA3B,OACvB5N,EAAQsN,IAAQM,EAAUD,IAAaJ,EAAMD,GAAOK,GAMlDE,GAAyB,SAAAC,GAAM,OACnCA,EAAOC,MAAM,IAAI/S,QAAO,SAACC,EAAK+S,EAAM/E,GAAZ,OAAkBhO,EAAM+S,EAAKC,aAAehF,IAAG,IAW5DiF,GAAc,SAAAC,GAAM,OAC/BC,aAAO,CAAE7F,OAAQE,KAAKC,MAAe,IAATyF,KAAiBE,YAQzCC,GAAe,SAACH,EAAQI,GAAT,OACnBH,aAAO,CAAE7F,OAAQE,KAAKC,MAAe,IAATyF,GAAeK,UAAW,IACnDC,iBAAiB,GACjBJ,SAASE,IAODG,GAAe,SAAAP,GAAM,OAAIG,GAAaH,EAAQ,SAM9CQ,GAAgB,SAAAR,GAAM,OAAIG,GAAaH,EAAQ,QAM/CS,GAAmB,SAAAT,GAAM,gBAAO1F,KAAKC,MAAe,IAATyF,GAAlB,MAMhCU,GAAmB,SAAArI,GAAM,OAAIP,GAASO,GAAQxG,OAOvC8O,GAAsB,SAAC,EAAQC,GAAT,IAAGvO,EAAH,EAAGA,GAAH,OACjC4N,aAAO,CACL7F,OAAQE,KAAKC,MAIiB,KAH3BqG,EAAiBvO,GACdqO,GAAiBrO,IAChByF,GAASzF,GAAIN,mBAAqB6O,EAAiBvO,GAAM,GAC1DqO,GAAiBrO,KAEvBgO,UAAW,IACVQ,UAOQC,GAAuB,SAACF,EAAkBvI,GAAnB,OAClCxB,SAAS+J,EAAiBvI,IAAW,GAAKP,GAASO,GAAQxG,OAAOkP,QAAQ,KAM/DC,GAAmB,SAAC,GAAD,IAAG3O,EAAH,EAAGA,GAAH,OAAYvH,QAAQiT,GAAiB1L,KAMxD4O,GAAiB,SAAC,GAAD,IAAG5O,EAAH,EAAGA,GAAH,OAAYyF,GAASzF,GAAIR,MAAQ,GAkBlDqP,GAA2B,SAAA7I,GAAM,MAAK,CACjDA,SACA/K,eAAgBA,GAAe6T,OAOpBC,GAAqB,SAAC,GAAD,IAAG/I,EAAH,EAAGA,OAAH,OAChCA,EAASP,GAASO,GAAQ3J,KAAO,MAMtB2S,GAAsB,SAAAC,GAAI,OACrCA,GAAQF,GAAmBE,KAAUjU,GAAS2E,MAanCuP,GAAqB,SAAA5J,GAAI,OACpC7M,QAR8B,SAAA6M,GAAI,OAClC7M,QAAQ6M,EAAKjJ,OAASrB,GAAS2E,OAAS2F,EAAKnG,WAQ3CgQ,CAAiB7J,IACfA,EAAKjJ,OAASrB,GAAS4I,MACvB0B,EAAKjJ,OAASrB,GAAS6K,eAOhBuJ,GAAY,SAAC,GAAD,IAAGpJ,EAAH,EAAGA,OAAH,OACvBiD,GAAgBxD,GAASO,GAAQrL,WAMtB0U,GAA2B7C,IAAQ,gBAAGtN,EAAH,EAAGA,cAAH,OAC9CvD,OAAO4D,OAAOL,GAAe1E,QAAO,SAACC,EAAK+E,GAAN,OAAgB/E,EAAM+E,IAAO,MAOtD8P,GAAoB9C,IAAQ,SAAAtN,GAAa,MACpD,CAACe,GAAMC,IAAS1F,QACd,SAACC,EAAK8U,GAAN,OAAgB9U,EAAI+U,OAAOC,MAAMvQ,EAAcqQ,IAAQG,KAAKH,MAC5D,OAQSI,GAAmB,SAAC,GAAD,IAAG3J,EAAH,EAAGA,OAAQ4J,EAAX,EAAWA,YAAX,OAC9BN,GAAkB7J,GAASO,GAAQ9G,eAAe+I,KAAK4H,MAAMD,KAC7DnE,IAEIqE,IAA6B,sBAChC7P,GAAO,QADyB,gBAEhCC,GAAU,WAFsB,IAyDtB6P,GAAmC,SAAAC,GAAU,OACxDvK,GAASuK,GAAY7Q,WAMV8Q,GAA+B,SAAC,GAAD,IAAGjQ,EAAH,EAAGA,GAAH,OAC1CyF,GAASsK,GAAiC/P,KAM/BkQ,GAAwC1D,IACnD,SAAA2D,GAAU,uBACRxU,OAAO4D,OAAOkG,IAAU2K,MAAK,qBAAGjR,YAA8BgR,YADtD,aACR,EACInQ,KACN,CACEqM,UAAW,KAQTgE,GAAoB,SAAC,GAAD,IAAGrQ,EAAH,EAAGA,GAAH,OACxBsQ,GAAWjD,GAAuBrN,GAAMsQ,GAAWtG,SAQxCuG,GAAoB,SAAC1F,EAAK2F,EAAUC,GAC/C,OAAO5F,EAAI6F,kBAAoBF,GAAaC,EAExC5F,EAAIxK,KADJgQ,GAAkBxF,IASX8F,GAAc,WAAmB,IAAlBC,EAAiB,uDAAP,GAC9BC,EAASD,EAAQC,QAAUjF,GAAajQ,OAAO4D,OAAOrE,KACtD4V,EAAQF,EAAQE,OAASlF,GAAajQ,OAAO4D,OAAOnE,KACpD4E,EAAK4Q,EAAQ5Q,IAAM+Q,gBAEnBC,EAAa/I,KAAKC,MvJrYc,MuJuYjC2I,IAAW3V,GAAQ+V,KvJlYgB,IuJkYoB,GACxDtU,GACA,IAAAsL,KAAKiD,UAGHL,EAAG,aACPmG,aACAF,QACAI,kBAAkB,gBAAIJ,GAAQ,GAC9BK,QAAS,EACTC,iBAAkB,EAClBC,6BAA8B,EAC9BR,SACAS,UAAW,EACXC,qBAAsB,EACtBvR,KACAwR,QAAQ,EACRC,uBAAuB,EACvBpR,KAAM,GACNqR,QAAS,GACThB,gBAAiB,GACjBiB,YAAa,EACbC,iBAAkB,GACfhB,GAKL,OAFA/F,EAAIxK,KAAOgQ,GAAkBxF,GAEtBA,GAsDIgH,GAAiB,SAAC,GAA0B,IAAxBf,EAAuB,EAAvBA,MAAOQ,EAAgB,EAAhBA,UACtC,GAAIR,IAAU3V,GAAUwD,MACtB,OAAOuG,GAGT,IAAM4M,EAAehB,IAAU3V,GAAUE,QAEzC,OAAIiW,EAAY,EAAI,EACXQ,EAAe/M,GAAeH,GAC5B0M,EAAY,EAAI,EAClBQ,EAAe9M,GAAeH,GAGhCiN,EAAe7M,GAAeH,IAO1BiN,GAAuB,SAAC,GAAD,IAAGjB,EAAH,EAAGA,MAAH,OAClCrL,GAASqL,IAAU3V,GAAUE,QAAU,qBAAuB,eAMnD2W,GAAiB,SAAAnH,GAAG,OAC/BA,EAAIgG,SAAW3V,GAAQ+W,OACnB/E,GACErC,EAAI+G,iBACJ/U,GvJ5eqC,IAER,EACA,GuJ8e/BqV,KAMOC,GAAiC,SAAAtH,GAAG,OAC/CA,EAAIgG,SAAW3V,GAAQ+V,KACnB/D,GACErC,EAAI+G,iBACJ/U,GvJ3fqC,IAKS,EACA,GuJ0fhDqV,KAMOE,GAAe,SAAC,GAAD,IAAGpB,EAAH,EAAGA,WAAYY,EAAf,EAAeA,iBAAf,OAC1B3J,KAAKC,MAAM8I,EAAaY,IAObS,GAAc,SAACxH,GAAD,IAAMyH,EAAN,+DACzBA,EACIF,GAAavH,GACb+B,GACEM,GACErC,EAAIsG,QACJ,EvJzgBoC,IACF,EACA,GADA,EACA,GuJ+gBlB,IAApBiB,GAAavH,IAEN0H,GAAkB,SAAA1H,GAAG,OAAIwH,GAAYxH,GAAK,IAM1C2H,GAA0BhG,IAAQ,SAAArH,GAAS,OACtDA,EAAU3K,QAAO,SAACC,EAAD,GAA4B,IAApBuF,EAAmB,EAAnBA,GAAIoL,EAAe,EAAfA,SAE3B,OADA3Q,EAAIuF,GAAMoL,EACH3Q,IACN,OAQQgY,GAAmBjG,IAAQ,WAAkBrH,GAAe,IAA9BW,EAA6B,EAA7BA,YACnC4M,EAAuBF,GAAwBrN,GAErD,OACE8C,KAAK6E,IAAL,MAAA7E,KAAI,aACCtM,OAAOpB,KAAKuL,GAAaT,KAAI,SAAAW,GAAM,OACpCiC,KAAK4H,MAAM6C,EAAqB1M,GAAUF,EAAYE,UAErD,KAUI2M,GAAgB,SAAC/M,EAAQT,EAAWyN,GAApB,OAC3BH,GAAiB7M,EAAQT,IAAcyN,GAM5BC,GAAuB,SAAAC,GAAQ,OAC1CA,EAASC,QAAO,SAAA/S,GAAE,OAAIyF,GAASzF,GAAI3D,OAASrB,GAAS2E,SAwB1CqT,GAAcxG,IACzB,SAACyG,EAAO/M,GAAR,OAAsB+M,EAAM7C,MAAK,SAAA8C,GAAG,OAAIA,EAAI9C,KAAKlK,OAAe,OAChE,CACEiN,WAAYrH,KAyBHsH,IAfW5G,IACtB,SAACyG,EAAOI,GAAR,OACEJ,EAAMzY,QAAO,SAACC,EAAKyY,GAGjB,OAFAzY,EAAI6Y,KAAJ,MAAA7Y,EAAG,aAASyY,EAAIH,OAAOM,KAEhB5Y,IACN,MACL,CACE0Y,WAAYrH,KAOqB,kBAAMpT,OAAO6a,WAAa3X,KAEzD4X,GAA2B,IAAI3V,IAAI,CAAC7C,GAAS4I,OAE7C6P,GAA4BjH,IAAQ,SAAApH,GAAO,OAC/CsO,KAAOtO,EAAS,CACd,SAAApF,GAAE,OAAIwE,OAAOiB,GAASzF,GAAI3D,OAASrB,GAAS2E,OAC5C,SAAAK,GACE,MAAwByF,GAASzF,GAAzB3D,EAAR,EAAQA,KAAMmD,EAAd,EAAcA,MACd,OAAOgU,GAAyBG,IAAItX,IAASmD,EAAQA,QAS9CoU,GAAY,SAAArO,GACvB,IAAMF,EAAM,GAGZ,OAFAE,EAAMsO,SAAQ,SAAAvO,GAAI,OAAKD,EAAIC,EAAKtF,IAAMsF,KAE/BmO,GAA0BlO,EAAMF,KAAI,qBAAGrF,OAAcqF,KAAI,SAAArF,GAAE,OAAIqF,EAAIrF,OAO/D8T,GAAyBtH,IAAQ,SAAArH,GAAS,OACrDA,EAAU3K,QAAO,SAACuL,EAAD,UAAuBA,EAAvB,EAAQqF,WAA+B,MAO7C2I,GAA0B,SAAC,GAAD,IAAG5O,EAAH,EAAGA,UAAW6O,EAAd,EAAcA,eAAd,OACjB,IAApBA,EACI9B,IACAjK,KAAK8E,IAAI,EAAGiH,EAAiBF,GAAuB3O,KAM7C8O,GAA2B,SAAC,GAAD,IAAG9O,EAAH,EAAGA,UAAW6O,EAAd,EAAcA,eAAd,OACtCD,GAAwB,CAAE5O,YAAW6O,mBAAoB,GAM9CE,GAAgC1H,IAAQ,SAAArH,GAAS,OAC5DA,EAAUgP,MAAK,qBAAGnU,KAAgBjD,SAOvBqX,GAAY5H,IACvB,SAAA6H,GAAS,OAAI1Y,OAAOD,OAAO,IAAI+T,MAAM4E,GAAW3E,KAAK,SACrD,CACErD,UAAW,KASFiI,GAAc9H,IAAQ,SAAC+H,EAAcvU,GAAf,OACjCuU,EAAanE,MAAK,SAAAvF,GAAG,OAAI7K,IAAO6K,EAAI7K,SAOzBwU,GAAmBhI,IAAQ,SAAArG,GAAS,OAC/CxK,OAAOwO,QAAQhE,GAAW3L,QACxB,SAACuL,EAAD,2BAAOC,EAAP,KAAeyO,EAAf,YACE1O,GAAOmJ,GAAmBzJ,GAASO,IAAWyO,EAAa,KAC7D,MAQSC,GAAgB,SAAAF,GAAgB,OAC3CvM,KAAK4H,MAAM5H,KAAK0M,KAAKH,GAAoB,IAAM,GAMpCI,GAAuC,SAAAC,GAAW,gBACxC,IAAnBA,EAAc,GAAY,IAOjBC,GAAuBtI,IAAQ,SAAAuI,GAC1C,IAAMta,EAAM,CACVua,evJ1vBmC,EuJ2vBnCzP,MAAO,GACPiF,MAAO,IAsBT,OAlBAb,GAAOyG,MACL,YAAoE,IAAjExG,EAAgE,EAAhEA,gBAAiBE,EAA+C,EAA/CA,YAAa9J,EAAkC,EAAlCA,GAa/B,OAbiE,EAA9B+J,yBAEjCtP,EAAIua,iBAGFpL,IACFnP,EAAI8K,MAAMqE,IAAmB,GAG3BE,IACFrP,EAAI+P,MAAMV,IAAe,GAGpB9J,IAAO+U,KAIXta,KAOIwa,GAA4BzI,IAAQ,SAAA0I,GAAiB,OAChEvJ,GAAcoH,QACZ,gBAAG/S,EAAH,EAAGA,GAAH,QAEIiK,GAAgBkL,eAAenV,KAC9BkV,EAAkB3P,MAAM4P,eAAenV,UAoBnCoV,GAAiC,SAAAxM,GAAK,OAAY,GAARA,GA2B1CyM,GAAwB,SAAA3b,GAAK,OACxC6D,GAAqB/C,QAAO,SAACC,EAAKC,GAOhC,MAJ0B,qBAAfhB,EAAMgB,KACfD,EAAIC,GAAOhB,EAAMgB,IAGZD,IACN,KAMQ6a,GAAiB,SAAAC,GAAc,OAC1CA,EAAe/a,QAAO,SAACuL,EAAKyP,GAAN,OAAkBvI,GAAWlH,EAAKyP,KAAU,GvJ/yBf,GuJkzB/CC,IAAe,sBAClBta,GAAUuD,KAAO,QADC,gBAElBvD,GAAUwD,MAAQ,SAFA,gBAGlBxD,GAAUyD,MAAQ,SAHA,gBAIlBzD,GAAU0D,OAAS,UAJD,gBAKlB1D,GAAU2D,OAAS,UALD,gBAMlB3D,GAAUE,QAAU,WANF,gBAOlBF,GAAU4D,MAAQ,SAPA,gBAQlB5D,GAAU6D,OAAS,UARD,IAkBR0W,GAAY,SAACF,EAASG,GAAV,OAAqB1I,GAAWuI,EAASG,IAQrDC,GAAkB,SAC7BC,EACAC,EACAC,GAH6B,OAI1B9N,KAAK8E,IAAI8I,EAAuBH,GAAUI,EAAeC,KAQjDC,GAAyB,SACpCC,EACAC,EACA/Q,GAHoC,OAKpCA,EAAU3K,QAAO,SAACC,EAAD,GAA4C,IAApCuF,EAAmC,EAAnCA,GAAcmW,EAAqB,EAA/B/K,SACrBgL,EAAoBH,EAAwBjW,IAAO,EACnDqW,EAAmBH,EAAgBlW,IAAO,EAEhD,OAAKyF,GAASzF,GAAIN,oBAId0W,IAAsBD,IAEtBA,EAAiBC,GACjBD,EAAiBE,EAEjB5b,EAAIuF,IAAO,GAEXmW,EAAiBC,GACjBD,EAAiBE,KAEjB5b,EAAIuF,GAAM,IAIPvF,GAjBEA,IAkBR,KAOQ6b,GAAa,SAACC,EAAmBhb,GAC5C,OAAIgb,EAAkBhb,KAAcC,GAAUgb,YACrC7a,OAAO+M,OAAO,GAAI6N,EAAlB5a,OAAA,KAAAA,CAAA,GACJJ,EAAWC,GAAU4C,UAInBmY,GAOIE,GAA8B,SAAA/c,GACzC,IAAMgd,EAAc,eAAQhd,GACpBsG,EAAO0W,EAAP1W,GAEa,CAAC,WACT6T,SAAQ,SAAA8C,GAAW,cAAWD,EAAeC,MAItDD,EAAezD,QAEjByD,EAAezD,MAAQyD,EAAezD,MAAM5N,KAAI,SAAA6N,GAAG,OACjDA,EAAI7N,KAAI,SAAA4J,GACN,GAAa,OAATA,EACF,OAAO,KAGT,IAAQ2H,EAA0B3H,EAA1B2H,aAAiBnX,EAAzB,aAAkCwP,EAAlC,kBAEA,OAAO,2BACFxP,GADL,IAIExE,eACEwE,EAAKxE,iBACJ2b,EAAe3b,GAAe4b,SAAW5b,GAAe6T,eAUnE,IAJA,IAAegI,EAAkBhC,GAC/BJ,GAAcF,GAAiBkC,EAAevQ,aADxCqE,MAIR,MAAmB7O,OAAOpB,KAAKuc,GAA/B,eAA+C,CAA1C,IAAMC,EAAI,KACbL,EAAeM,WAAaV,GAAWI,EAAeM,WAAYD,GA0BpE,OAtBGL,EAAeO,gBAChBP,EAAeQ,aAAepc,GAAemC,OAE7CyZ,EAAeQ,WAAapc,GAAeqC,MAK7CuZ,EAAenC,aAAemC,EAAenC,aAAalP,KAAI,SAAAwF,GAAG,oBAC/D6G,QAAS1R,EACT0Q,gBAAiB1Q,EACjB2R,YAAa,GACV9G,MAGL6L,EAAeS,WAAf,aACEzF,QAAS,GACThB,gBAAiB,GACjBiB,YAAa,GACV+E,EAAeS,YAGbT,GAOIU,GAAgB5K,IAAQ,SAAAgE,GACnC,IAAM6G,EAAiBhK,GAAuBmD,GACxC8G,EAAYC,GAAWF,EAAiBE,GAAWvN,QACnDwN,EAAuBnK,GAAuBiK,GAE9CG,EACJC,IAAaL,EAAiBG,GAAwBE,GAAY1N,QAEpE,MAAM,GAAN,OAAUsN,EAAV,YAAuBG,MAOZE,GAAgC,SAAAC,GAI3C,OvJpjC0C,IACG,KuJijC1CA,EvJpjCgC,KACG,MuJ+jC3BC,GAAQ,SAAAC,GAAE,OAAI,IAAIC,SAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAASF,OASzDI,GAAyB,WAAiC,IAAhCC,EAA+B,uDAAP,GACzDC,EAAsB,EAU1B,OARID,EAAsB,eACxBC,GAAuB9a,GAAkB,GAChC6a,EAAsB,eAC/BC,GAAuB9a,GAAkB,GAChC6a,EAAsB,iBAC/BC,GAAuB9a,GAAkB,IAGpC8a,GAOF,SAASC,GAAaC,GAC3B,IAD4C,EACxCC,EAAc,EACdC,EAAgB,GAFwB,eAIzBF,GAJyB,IAI5C,2BAAoC,CAAC,IAA5BG,EAA2B,QAClCF,GAAeE,EAAOC,OACtBF,EAAclF,KAAKmF,IANuB,gCAS5CD,EAAcG,MAAK,SAAAC,GAAC,OAAIA,EAAEF,UAE1B,IACID,EADAI,EAAW5Q,KAAKiD,SAAWqN,EAE3BO,EAAe,EAEnB,IAAK,IAAIrQ,KAAK+P,EAAe,CAG3B,GAAIK,GAFJJ,EAASD,EAAc/P,IAEDiQ,OAASI,EAC7B,OAAOL,EAGTK,GAAgBL,EAAOC,QAI3B,I,GAAMK,GAAuB,WAC3B,IAEMC,EAAwBC,SAASC,cAAc,UACrDF,EAAsBG,aAAa,SAFZ,IAGvBH,EAAsBG,aAAa,QAJb,IAMtB,IAAMC,EAAkB,GAGlBC,EAAW7M,IAAQ,SAAA8M,GACvB,MAAoB,4CAA4CC,KAAKD,GAArE,oBAASE,EAAT,KAAYC,EAAZ,KAAeC,EAAf,KAEA,MAAO,CACLF,EAAGG,SAASH,EAAG,IACfC,EAAGE,SAASF,EAAG,IACfC,EAAGC,SAASD,EAAG,QASnB,gDAAO,WAAOE,EAAa9I,GAApB,sBAAA+I,EAAA,yDACD/I,IAAU3V,GAAUE,QADnB,yCACmCuP,GAAQC,IAAIC,SAD/C,UAGCgP,EAHD,UAGehJ,EAHf,YAGwB8I,IAEzBR,EAAgBU,GALf,yCAKiCV,EAAgBU,IALjD,uBAWGC,EAAoBC,UAAOC,KAAP,UACxBL,EAAYrM,MAAM,KAAK,UADC,QACK,GAC7B,UAbC,SAeiBlC,GAAK6O,KAAKH,GAf3B,cAeGI,EAfH,QAiBGC,KAAK,EAAG,EAAGD,EAAME,OAAOC,MAAOH,EAAME,OAAOE,QAAQ,SAASC,EAAGC,GACpE,MAAoBpP,GAAKqP,UAAUP,EAAMQ,cAAcH,EAAGC,IAAlDjB,EAAR,EAAQA,EAAGC,EAAX,EAAWA,EAAGC,EAAd,EAAcA,EAId,GAAU,MAANF,GAAmB,MAANC,GAAmB,MAANC,EAAW,CACvC,IAAMkB,EAAcvB,EAAS5a,GAAmBqS,IAC1C+J,EAAcxP,GAAKyP,UACvBF,EAAYpB,EACZoB,EAAYnB,EACZmB,EAAYlB,EACZ,KAGFS,EAAMY,cAAcF,EAAaL,EAAGC,OA/BrC,UAmC+BN,EAAMa,eAAe3P,GAAK4P,UAnCzD,eAmCH7B,EAAgBU,GAnCb,yBAqCIV,EAAgBU,IArCpB,yCA0CDlgB,QAAQO,MAAR,MA1CC,kBA6CI+gB,IA7CJ,0DAAP,wDAzB2B,GA+EhBC,GAAW,yCAAG,WAAMtQ,GAAN,oBAAAgP,EAAA,6DACnBuB,EAAc/N,GAAuBxC,EAAI7K,IACvC+K,EAAeH,GAAQC,IAAvBE,WACF6O,EAAc7O,EAAWqQ,EAAcrQ,EAAWf,QAH/B,SAKZ+O,GAAoBa,EAAa/O,EAAIiG,OALzB,mFAAH,sDA6BXuK,GAAqB,SAACxQ,EAAKyQ,GAAN,OAChCA,EAAeC,SAAW1Q,EAAI7K,IAAMsb,EAAeE,SAAW3Q,EAAI7K,IC3vCvDyb,GAAyB,kBAKzBC,GACX,sFAOWC,GACX,uIAIWC,GACX,4CAMWC,GAA8B,0BAiB9BC,GAAkB,CAC7BvT,OAAQ,CACNnK,QAAS,yCACTC,OAAQ,2CACRC,KAAM,2CACNC,OAAQ,4CACRC,KAAM,2CAERgK,OAAQ,CACNpK,QAAS,uDACTC,OAAQ,wDACRC,KAAM,sDACNC,OAAQ,wDACRC,KAAM,uDAERud,aAAc,CACZ3d,QAAS,8CACTC,OAAQ,gDACRC,KAAM,gDACNC,OAAQ,iDACRC,KAAM,gDAER4J,IAAK,CACHhK,QAAS,6BACTC,OAAQ,kEACRC,KAAM,gEACNC,OAAQ,kEACRC,KAAM,mEAOGwd,IAAe,sBACzB7gB,GAAUuD,KAAO,QADQ,gBAEzBvD,GAAUwD,MAAQ,SAFO,gBAGzBxD,GAAUyD,MAAQ,SAHO,gBAIzBzD,GAAU0D,OAAS,UAJM,gBAKzB1D,GAAU2D,OAAS,UALM,gBAMzB3D,GAAUE,QAAU,WANK,gBAOzBF,GAAU4D,MAAQ,SAPO,gBAQzB5D,GAAU6D,OAAS,UARM,IC3EtBid,GAAiB,CAAC7Y,GAASC,GAASP,GAAWQ,IAMhC4Y,G,WACnB,aAAe,qBACb3P,KAAK4P,WAAa,GADN,qBAEEF,IAFF,IAEZ,2BAA8B,CAAC,IAAtBrD,EAAqB,QAC5BrM,KAAK4P,WAAW7I,KAAK,CACnB8I,IAAKxD,EACLF,OAAQE,EAAE3V,eALF,iC,6CAcd,WACE,MAAO,CAACsJ,KAAK8P,W,mBAQf,WAEE,OADsBhE,GAAa9L,KAAK4P,YACnBC,Q,KC5BJE,G,0FAKnB,WAKE,IAJA,IAAIC,EAAS,GAEPxU,EAAS6D,GAAa,CAAC,EAAG,EAAG,EAAG,EAAG,IAEhCnD,EAAI,EAAGA,EAAIV,EAAQU,IAC1B8T,EAAOjJ,KAAK/G,KAAKiQ,aAKnB,OAFAD,EAAOjJ,KAAK/G,KAAKkQ,cAEVF,I,uBAQT,WACE,OAAOrZ,K,wBAQT,WACE,OAAOK,O,KCjCUmZ,G,0FAKnB,WACE,IAAIC,EAAY,GAQhB,OANAA,EAAUrJ,KAAK/G,KAAKkQ,cAEhBzR,GAAuB9M,KACzBye,EAAUrJ,KAAK/G,KAAKiQ,aAGfG,I,wBAQT,WACE,OAAOpZ,K,uBAQT,WACE,OAAOL,O,KCvBU0Z,G,WACnB,aAAe,qBACbrQ,KAAKsQ,gBAAkB,CACrB,CAAEnE,O5JqLwB,I4JrLE1d,SAAUA,GAASgI,KAC/C,CAAE0V,OAAQxa,GAAmBlD,SAAUA,GAASmI,MAChD,CAAEuV,O5JqL0B,G4JrLE1d,SAAUA,GAASwI,Q,sDAwErD,SAAkBsZ,GAChB,IAAIH,EAAY,GACZ1Z,E5JoG6B,G4JlGjC,OAAQ6Z,GACN,KAAKthB,GAAU6C,OACb4E,GAAe,GACf,MAEF,KAAKzH,GAAU8C,KACb2E,GAAe,GACf,MAEF,KAAKzH,GAAU+C,OACb0E,GAAe,GACf,MAEF,KAAKzH,GAAUgD,KACbyE,GAAe,GAMnB,GAAI+H,GAAuB/H,GAAc,CACvC,IAAM8Z,EAAM1E,GAAa9L,KAAKsQ,iBACxBG,EAAUJ,EAAgBK,sBAAsBF,EAAI/hB,UAEtDgiB,IACFL,EAAYK,EAAQE,YAIxB,OAAOP,K,uBApFT,WAKE,OAJKC,EAAgBO,YACnBP,EAAgBO,UAAY,IAAIP,GAG3BA,EAAgBO,Y,qCASzB,SAA+B9gB,GAC7B,OAAQA,GACN,KAAKrB,GAASwI,MACZ,OAAO,IAAIkZ,GAEb,KAAK1hB,GAASmI,KACZ,OAAO,IAAImZ,GAEb,KAAKthB,GAASgI,IACZ,OAAO,IAAIkZ,GAEb,QACE,OAAO,U,KApDMU,GAaZQ,kBAAoB,GAbRR,GAmBZO,UAAY,KAnBAP,GA+DZK,sBAAwB,SAAA5gB,GAO7B,OANKugB,GAAgBQ,kBAAkB/gB,KACrCugB,GAAgBQ,kBACd/gB,GACEugB,GAAgBS,wBAAwBhhB,IAGvCugB,GAAgBQ,kBAAkB/gB,ICrE7C,IAAQ4D,GAASlF,GAATkF,KAEFqd,GAAW,SAAC5jB,EAAO6jB,GAAR,mBAAC,eACb7jB,GADY,IAEf8jB,MAAOvQ,GAAWvT,EAAM8jB,MAAOD,MAG3BE,GAAsBjR,IAAQ,SAAAkR,GAAc,OAChD/hB,OAAO4D,OAAOme,GAAgBljB,QAC5B,SAACuL,EAAK4X,GAAN,OAAwB5X,EAAM4X,IAC9B,MAIEjZ,GAAUe,GAAS3I,YAEnB8gB,GAAe,CAClB,eAACL,EAAD,uDAAU,IAAV,MAAmB,CAClBvd,GAAI,aACJK,KAAM,eACN0C,YAAa,6CACb8a,kBAAmB3P,GAAaqP,GAChCrX,UAAW,SAAAxM,GAAK,OACdsZ,GACEtZ,EAAMuZ,OACN,SAAAhE,GAAI,OAAID,GAAoBC,IAASU,GAAiBV,KAAUhP,OAEpEsd,OAAQ,SAAA7jB,GAAK,OAAI4jB,GAAS5jB,EAAO6jB,KAVlC,GAaA,eAACA,EAAD,uDAAU,IAAV,MAAmB,CAClBvd,GAAI,aACJK,KAAM,eACN0C,YAAa,iCACb8a,kBAAmB3P,GAAaqP,GAChCrX,UAAW,SAAAxM,GAAK,OACdsZ,GACEtZ,EAAMuZ,OACN,SAAAhE,GAAI,OAAID,GAAoBC,IAASA,EAAK6O,oBAE9CP,OAAQ,SAAA7jB,GAAK,OAAI4jB,GAAS5jB,EAAO6jB,KAVlC,GAaA,eAACA,EAAD,uDAAU,IAAV,MAAmB,CAClBvd,GAAI,eACJK,KAAM,iBACN0C,YAAa,mCACb8a,kBAAmB3P,GAAaqP,GAChCrX,UAAW,SAAAxM,GAAK,OAAI+jB,GAAoB/jB,EAAMgkB,iBAAmB,GACjEH,OAAQ,SAAA7jB,GAAK,OAAI4jB,GAAS5jB,EAAO6jB,KANlC,GASA,eAACQ,EAAD,uDAAQ,IAAR,MAAmB,CAClB/d,GAAI,0BACJK,KAAM,6BACN0C,YAAY,oDAAD,OAAsDmL,GAC/D6P,GADS,2HAGXF,kBAAmB,mBACnB3X,UAAW,SAAAxM,GAAK,OAAIA,EAAM8b,SAAWuI,GAKrCR,OAAQ,SAAA7jB,GAAK,OAAIA,IAZlB,GAeA,eAAC6jB,EAAD,uDAAU,GAAV,MAAkB,CACjBvd,GAAI,mBACJK,KAAM,qBACN0C,YACE,sEACF8a,kBAAkB,GAAD,OAAKN,EAAL,qBAAwB7Y,GAAQrE,MACjD6F,UAAW,SAAAxM,GAAK,OAAIA,EAAMskB,gBAAkB,GAC5CT,OAAQ,SAAA7jB,GAAK,OAAIukB,GAAmBvkB,EAAOgL,GAAS6Y,GAAQ,KAP7D,GAUA,eAACA,EAAD,uDAAU,IAAV,MAAmB,CAClBvd,GAAI,0BACJK,KAAM,sBACN0C,YAAa,+DACb8a,kBAAkB,GAAD,OAAKN,EAAL,qBAAwB7Y,GAAQrE,MACjD6F,UAAW,SAAAxM,GAAK,OACdiC,OAAO4D,OAAOnE,IAAmB8iB,OAC/B,SAAApN,GAAK,OAAIpX,EAAMykB,mBAAmBrN,GAAS,MAE/CyM,OAAQ,SAAA7jB,GAAK,OAAIukB,GAAmBvkB,EAAOgL,GAAS6Y,GAAQ,KAT7D,GAYA,eAACQ,EAAD,uDAAQ,IAAMR,EAAd,uDAAuB,GAAvB,MAA+B,CAC9Bvd,GAAI,iBACJK,KAAK,iBAAD,OAAmB6N,GAAa6P,IACpChb,YAAY,QAAD,OAAUmL,GAAa6P,GAAvB,+BACXF,kBAAkB,GAAD,OAAKN,EAAL,qBAAwB9X,GAAS1B,WAAW1D,MAC7D6F,UAAW,SAAAxM,GAAK,OACdkc,GACElc,EAAMmc,sBACNnc,EAAMoc,cACNpc,EAAMqc,eACHgI,GACPR,OAAQ,SAAA7jB,GAAK,OACXukB,GAAmBvkB,EAAO+L,GAAS1B,WAAYwZ,GAAQ,KAZ1D,GAeA,eAACQ,EAAD,uDAAQ,KAAOR,EAAf,uDAAwB,GAAxB,MAAgC,CAC/Bvd,GAAI,iBACJK,KAAK,iBAAD,OAAmB6N,GAAa6P,IACpChb,YAAY,QAAD,OAAUmL,GAAa6P,GAAvB,+BACXF,kBAAkB,GAAD,OAAKN,EAAL,qBAAwB9X,GAAS,cAAcpF,MAChE6F,UAAW,SAAAxM,GAAK,OACdkc,GACElc,EAAMmc,sBACNnc,EAAMoc,cACNpc,EAAMqc,eACHgI,GACPR,OAAQ,SAAA7jB,GAAK,OACXukB,GAAmBvkB,EAAO+L,GAAS,cAAe8X,GAAQ,KAZ7D,GAeA,eAACQ,EAAD,uDAAQ,IAAOR,EAAf,uDAAwB,IAAxB,MAAiC,CAChCvd,GAAI,iBACJK,KAAK,iBAAD,OAAmB6N,GAAa6P,IACpChb,YAAY,QAAD,OAAUmL,GAAa6P,GAAvB,+BACXF,kBAAkB,GAAD,OAAKN,EAAL,qBAAwB9X,GAAS,eAAepF,MACjE6F,UAAW,SAAAxM,GAAK,OACdkc,GACElc,EAAMmc,sBACNnc,EAAMoc,cACNpc,EAAMqc,eACHgI,GACPR,OAAQ,SAAA7jB,GAAK,OACXukB,GAAmBvkB,EAAO+L,GAAS,eAAgB8X,GAAQ,KAZ9D,GAeA,eAACQ,EAAD,uDAAQ,KAAMR,EAAd,uDAAuB,GAAIa,EAA3B,uDAAwC3Y,GAAS,gBAAjD,MAAsE,CACrEzF,GAAI,mBACJK,KAAK,yBAAD,OAA2B6N,GAAa6P,IAC5Chb,YAAY,mCAAD,OAAqCmL,GAAa6P,GAAlD,KACXF,kBAAkB,GAAD,OAAKN,EAAL,qBAAwBa,EAAW/d,MACpD6F,UAAW,SAAAxM,GAAK,OAAIA,EAAM2kB,yBAA2BN,GACrDR,OAAQ,SAAA7jB,GAAK,OAAIukB,GAAmBvkB,EAAO0kB,EAAYb,GAAQ,KANhE,GASA,eAACQ,EAAD,uDAAQ,IAAOR,EAAf,uDAAwB,IAAKa,EAA7B,uDAA0C3Y,GAAS,eAAnD,MAAuE,CACtEzF,GAAI,mBACJK,KAAK,yBAAD,OAA2B6N,GAAa6P,IAC5Chb,YAAY,mCAAD,OAAqCmL,GAAa6P,GAAlD,KACXF,kBAAkB,GAAD,OAAKN,EAAL,qBAAwBa,EAAW/d,MACpD6F,UAAW,SAAAxM,GAAK,OAAIA,EAAM2kB,yBAA2BN,GACrDR,OAAQ,SAAA7jB,GAAK,OAAIukB,GAAmBvkB,EAAO0kB,EAAYb,GAAQ,KANhE,GASA,eAACQ,EAAD,uDAAQ,KAAOR,EAAf,uDAAwB,IAAKa,EAA7B,uDAA0C3Y,GAAS,gBAAnD,MAAwE,CACvEzF,GAAI,mBACJK,KAAK,yBAAD,OAA2B6N,GAAa6P,IAC5Chb,YAAY,mCAAD,OAAqCmL,GAAa6P,GAAlD,KACXF,kBAAkB,GAAD,OAAKN,EAAL,qBAAwBa,EAAW/d,MACpD6F,UAAW,SAAAxM,GAAK,OAAIA,EAAM2kB,yBAA2BN,GACrDR,OAAQ,SAAA7jB,GAAK,OAAIukB,GAAmBvkB,EAAO0kB,EAAYb,GAAQ,KANhE,GASA,eAACQ,EAAD,uDAAQ,IAAOR,EAAf,uDAAwB,IAAKa,EAA7B,uDAA0C3Y,GAAS,kBAAnD,MAA0E,CACzEzF,GAAI,mBACJK,KAAK,yBAAD,OAA2B6N,GAAa6P,IAC5Chb,YAAY,mCAAD,OAAqCmL,GAAa6P,GAAlD,KACXF,kBAAkB,GAAD,OAAKN,EAAL,qBAAwBa,EAAW/d,MACpD6F,UAAW,SAAAxM,GAAK,OAAIA,EAAM2kB,yBAA2BN,GACrDR,OAAQ,SAAA7jB,GAAK,OAAIukB,GAAmBvkB,EAAO0kB,EAAYb,GAAQ,KANhE,GASA,eAACQ,EAAD,uDAAQ,KAAQR,EAAhB,uDAAyB,IAAKa,EAA9B,uDAA2C3Y,GAAS,kBAApD,MAA2E,CAC1EzF,GAAI,mBACJK,KAAK,yBAAD,OAA2B6N,GAAa6P,IAC5Chb,YAAY,mCAAD,OAAqCmL,GAAa6P,GAAlD,KACXF,kBAAkB,GAAD,OAAKN,EAAL,qBAAwBa,EAAW/d,MACpD6F,UAAW,SAAAxM,GAAK,OAAIA,EAAM2kB,yBAA2BN,GACrDR,OAAQ,SAAA7jB,GAAK,OAAIukB,GAAmBvkB,EAAO0kB,EAAYb,GAAQ,KANhE,GASA,eAACQ,EAAD,uDAAQ,IAASR,EAAjB,uDAA0B,IAAMa,EAAhC,uDAA6C3Y,GAAQ,cAArD,MAA4E,CAC3EzF,GAAI,mBACJK,KAAK,yBAAD,OAA2B6N,GAAa6P,IAC5Chb,YAAY,mCAAD,OAAqCmL,GAAa6P,GAAlD,KACXF,kBAAkB,GAAD,OAAKN,EAAL,qBAAwBa,EAAW/d,MACpD6F,UAAW,SAAAxM,GAAK,OAAIA,EAAM2kB,yBAA2BN,GACrDR,OAAQ,SAAA7jB,GAAK,OAAIukB,GAAmBvkB,EAAO0kB,EAAYb,GAAQ,KANhE,GASA,eACCQ,EADD,uDACQ,IACPO,EAFD,uDAEY7Y,GAAS,UACpB8X,EAHD,uDAGU,IACTa,EAJD,uDAIc3Y,GAAQ,WAJtB,MAKK,CACJzF,GAAI,cACJK,KAAK,eACL0C,YAAY,QAAD,OAAUoL,GAAc4P,GAAxB,qBAA0CO,EAASje,KAAnD,KACXwd,kBAAkB,GAAD,OAAK1P,GAAcoP,GAAnB,YAA8Ba,EAAW/d,KAAzC,UACjB6F,UAAW,SAAAxM,GAAK,OAAIA,EAAMyM,UAAUmY,EAASte,KAAO+d,GACpDR,OAAQ,SAAA7jB,GAAK,OAAIukB,GAAmBvkB,EAAO0kB,EAAYb,GAAQ,KAXhE,GAcA,eACCQ,EADD,uDACQ,IACPO,EAFD,uDAEY7Y,GAAS,kBACpB8X,EAHD,uDAGU,IACTa,EAJD,uDAIc3Y,GAAQ,UAJtB,MAKK,CACJzF,GAAI,cACJK,KAAK,wBACL0C,YAAY,QAAD,OAAUoL,GAAc4P,GAAxB,qBAA0CO,EAASje,KAAnD,KACXwd,kBAAkB,GAAD,OAAK1P,GAAcoP,GAAnB,YAA8Ba,EAAW/d,KAAzC,UACjB6F,UAAW,SAAAxM,GAAK,OAAIA,EAAMyM,UAAUmY,EAASte,KAAO+d,GACpDR,OAAQ,SAAA7jB,GAAK,OAAIukB,GAAmBvkB,EAAO0kB,EAAYb,GAAQ,KAXhE,GAcA,eAACQ,EAAD,uDAAQ,IAAOO,EAAf,uDAA0B7Y,GAAQ,OAAY8X,EAA9C,uDAAuD,IAAvD,MAAiE,CAChEvd,GAAI,cACJK,KAAK,gBACL0C,YAAY,QAAD,OAAUoL,GAAc4P,GAAxB,YAAiCO,EAASje,KAA1C,WACXwd,kBAAkB,GAAD,OAAK1P,GAAcoP,GAAnB,gCACjBrX,UAAW,SAAAxM,GAAK,OAAIA,EAAMyM,UAAUmY,EAASte,KAAO+d,GACpDR,OAAQ,SAAA7jB,GAAK,kCACRA,GADQ,IAEXsa,eAAgBta,EAAMsa,eAAiBuJ,MAR1C,GAYA,eAACQ,EAAD,uDAAQ,IAAR,MAAoB,CACnB/d,GAAI,cACJK,KAAM,aACN0C,YAAY,QAAD,OAAUmL,GAAa6P,GAAvB,KACXF,kBAAkB,uBAAD,OAAyBzP,GACxC9Q,GAAkB,IADH,UAGjB4I,UAAW,SAAAxM,GAAK,OAAIA,EAAM8b,SAAWuI,GACrCR,OAAQ,SAAA7jB,GAAK,OAAIA,IARlB,GAWA,eAACqkB,EAAD,uDAAQ,IAAR,MAAqB,CACpB/d,GAAI,cACJK,KAAM,cACN0C,YAAY,QAAD,OAAUmL,GAAa6P,GAAvB,KACXF,kBAAkB,uBAAD,OAAyBzP,GACxC9Q,GAAkB,IADH,UAGjB4I,UAAW,SAAAxM,GAAK,OAAIA,EAAM8b,SAAWuI,GACrCR,OAAQ,SAAA7jB,GAAK,OAAIA,IARlB,GAWA,eAACqkB,EAAD,uDAAQ,IAAR,MAAwB,CACvB/d,GAAI,cACJK,KAAM,cACN0C,YAAY,QAAD,OAAUmL,GAAa6P,GAAvB,KACXF,kBAAkB,uBAAD,OAAyBzP,GACxC9Q,GAAkB,IADH,UAGjB4I,UAAW,SAAAxM,GAAK,OAAIA,EAAM8b,SAAWuI,GACrCR,OAAQ,SAAA7jB,GAAK,OAAIA,IARlB,IAYC4P,GAASO,QACX+T,GAAatK,KACX3X,OAAO+M,OACL,GACA,CACE1I,GAAI,cACJK,KAAM,cACN0C,YAAY,mCACZ8a,kBAAkB,eAClB3X,UAAW,SAAAxM,GAAK,QAAMA,EAAMyL,UAAUiL,MAAK,SAAA3H,GAAC,MAAa,aAATA,EAAEzI,OAClDud,OAAQ,SAAA7jB,GACN,OAAOukB,GAAmBvkB,EAAO+L,GAAS,cAAe,GAAG,OAOvDmY,I,sDAAAA,MAEFW,GAAkBX,GAAapjB,QAAO,SAACC,EAAK+jB,GAGvD,OAFA/jB,EAAI+jB,EAAYxe,IAAMwe,EAEf/jB,IACN,ICzSUgkB,GAA2B,eAACC,EAAD,uDAAgB,GAAIC,EAApB,uDAAkC,GAAlC,OACtChjB,OAAOpB,KAAKkL,IAAUjL,QAAO,SAACC,EAAKC,GAWjC,OAVI+K,GAAS/K,GAAKgF,qBACZgf,EAAahkB,GACfD,EAAIC,GAAO,GACFikB,EAAYjkB,GACrBD,EAAIC,GAAO,IAEXD,EAAIC,GAAOuN,KAAKiD,SAAW,IAIxBzQ,IACN,KCYQmkB,GAAiB,SAACC,EAAGC,GAChC,IAAIC,EAAO,6BAaX,OAVApjB,OAAOpB,KAAKukB,GACTnG,OACA9E,SACC,SAAAmL,GAAQ,OACLD,GAAO,cAAWD,EAAcE,GAAzB,YAAsCA,GAAtC,OACNF,EAAcE,GAAY,EAAI,IAAM,GAD9B,SAMPD,GAOIE,GAAuB,SAACJ,EAAGK,GACtC,IAAIH,EAAO,mCAaX,OAVApjB,OAAOpB,KAAK2kB,GACTvG,OACA9E,SACC,SAAAsL,GAAc,OACXJ,GAAO,cACNG,EAAoBC,GADd,YAEJA,GAFI,OAEaD,EAAoBC,GAAkB,EAAI,IAAM,GAF7D,SAMPJ,GAOIK,GAAwB,SAACP,EAAD,OAAMxe,EAAN,EAAMA,KAAN,gBAChCA,EADgC,kDASxBgf,GAAmB,SAACR,EAAGS,EAAYC,EAAYC,GAA5B,gBAC3BF,EAAWjf,KADgB,gBACJkf,EAAWlf,KADP,wBAC2Bmf,EAAanf,KADxC,mCACuEmf,EAAanf,KADpF,MA6BnBof,GAAc,SAACZ,EAAD,OAAMxe,EAAN,EAAMA,KAAN,gBACtBA,EADsB,iFAOdqf,GAAc,SAACb,EAAD,OAAMxe,EAAN,EAAMA,KAAN,gBACtBA,EADsB,wDAsBdsf,GAAiB,SAACd,EAAGe,GAAJ,iEACwBlS,GAClDkS,GAF0B,MASjBC,GAA4B,SAAChB,EAAGe,GAAJ,+CACLlS,GAAYkS,GADP,MAQ5BE,GAA4B,SAACjB,EAAGkB,EAAUC,GACrD,IAAIC,EAAS,CAAC,uBAAD,OACYF,EADZ,uBAMPG,EAAcvW,GAAOoW,GAsB3B,OApBI7V,GAAiB6V,GACnBE,EAAO3M,KAAP,uCAEI7N,GAASyE,GAAiB6V,IAAW1f,KAFzC,QAKS6f,GAAeA,EAAYnW,wBACpCkW,EAAO3M,KAAP,kCACS0M,EACTC,EAAO3M,KAAP,oBACe8B,GAA+B2K,GAD9C,qBAEIC,EAAe3f,KAFnB,oBAKS6f,GAAeA,EAAYpW,aAGpCmW,EAAO3M,KAAP,6DAGK2M,EAAOE,KAAK,MAORC,GAAoB,SAACvB,EAAGwB,GAAJ,oCAAoCA,EAApC,QAOpBC,GAAgC,SAACzB,EAAG0B,EAAKC,GACpD,IAAMC,EAAoB,GACpBC,EAAoB,GACpBC,EAAehlB,OAAOpB,KAAKimB,GAEjCG,EAAa9M,SAAQ,SAAA7N,GAAM,OACxBwa,EAAUxa,GAAU,EAAIya,EAAoBC,GAAmBpN,KAAKtN,MAGvE,IAAMia,EAASU,EAAa3W,OAAS,CAAC,GAAD,OAAIuW,EAAJ,4BAAoC,GAoBzE,OAlBIE,EAAkBzW,SACpBiW,EAAO3M,KAAK,kBACZmN,EAAkB5M,SAAQ,SAAA7N,GAAM,OAC9Bia,EAAO3M,KAAP,cAAmB7N,GAASO,GAAQ3F,WAIpCqgB,EAAkB1W,SAChByW,EAAkBzW,QACpBiW,EAAO3M,KAAK,IAGd2M,EAAO3M,KAAK,mBACZoN,EAAkB7M,SAAQ,SAAA7N,GAAM,OAC9Bia,EAAO3M,KAAP,cAAmB7N,GAASO,GAAQ3F,WAIjC4f,EAAOE,KAAK,OAgBRS,GAAmC,SAAC/B,EAAGzT,EAAJ,OAAgB/K,EAAhB,EAAgBA,KAAhB,0BACjC8N,GAAc/C,GADmB,gBAE5CA,EAAW,EAAI,IAAM,GAFuB,eAGvC/K,EAHuC,MAUnCwgB,GAA8B,SAAChC,EAAGzT,EAAJ,OAAgB/K,EAAhB,EAAgBA,KAAhB,qBACjC8N,GAAc/C,GADmB,gBACFA,EAAW,EAAI,IAAM,GADnB,eAC4B/K,EAD5B,MAqB9BygB,GAAsB,SAACjC,EAAGkC,GAAJ,sBACxBA,EADwB,mCAOtBC,GAA0B,SAACnC,EAAGkC,GAAJ,qBAC7BA,EAD6B,uBAU1BE,GAA0B,SACrCpC,EACAqC,EACAC,EACA3Q,EACAC,GALqC,2BAOvBF,GACZ2Q,EACA1Q,EACAC,GAVmC,gBAW5BF,GAAkB4Q,EAAa3Q,EAAUC,GAXb,MC3K/BzM,GAAqDnJ,GAArDmJ,UAAWod,GAA0CvmB,GAA1CumB,QAAS7c,GAAiC1J,GAAjC0J,cAAeJ,GAAkBtJ,GAAlBsJ,cACnCsH,GAAU1Q,GAAV0Q,MAYK4V,GAA0B,SAAApiB,GAAI,OACzCA,GAAQ8P,GAAmB9P,KAAUjE,GAAS2E,KAA9C,2BAESV,GAFT,IAGMkS,QAASlS,EAAKkS,QAAU,EACxBvB,YACE3Q,EAAK2Q,aACJ3Q,EAAK6e,gBACF,GACC7e,EAAKhE,iBAAmBA,GAAe6T,KACpC,EhKzHc,IgK2HlB,KAER7P,GAOAqiB,GAAwB,SAACC,EAAazD,GAC1C,OAAoB,OAAhByD,EACK,KAGFxS,GAAmBwS,KAAiBvmB,GAAS2E,KAA7C,2BACE4hB,GADF,IACezD,oBADf,eAEEyD,IAOEC,GAAgB,SAAAD,GAAW,OACtCD,GAAsBC,GAAa,IAMxBE,GAAkB,SAAAF,GAAW,OACxCD,GAAsBC,GAAa,IAMxBG,GAAmB,SAAAH,GAC9B,OAAIA,GAAeA,EAAYI,YAAcJ,EAAYK,eAAiB,EACjE,2BACFL,GADL,IAEEK,eAAgBL,EAAYK,eAAiB,IAI1CL,IAAgBA,EAAYI,WAAaJ,EAAc,MAS1DM,GAAc,SAAC5O,EAAO6O,GAAR,OAClB7O,EAAM5N,KAAI,SAAC6N,EAAKuH,GAAN,OAAYvH,EAAI7N,KAAI,SAAC4J,EAAMuL,GAAP,OAAasH,EAAW7S,EAAMuL,EAAGC,UAQ3DsH,GAAmB,SAACC,EAAkBtoB,GAAnB,OACvBsoB,EAAiBxnB,QACf,SAACC,EAAD,2BAAOwQ,EAAP,KAAewB,EAAf,YAAwBxE,KAAKiD,UAAYD,EAASwB,EAAGhS,GAAOA,IAC5Df,IAOSuoB,GAAiB,SAAAvoB,GAAK,OACjCqoB,GAAiB,CAAC,ChKjKgB,GgKiKOG,KAAsBxoB,IAMpDyoB,GAAe,SAAAzoB,GAAK,OAAIqoB,GAAiB,CAAC,CAAC,EAAGK,KAAc1oB,IAQ5D2oB,GAAmB,SAAC3oB,EAAO4oB,EAAYC,GAApB,uBAC7BA,EAD6B,YAAC,eAE1B7oB,EAAM6oB,IAFmB,mBAG3BD,EAAWtc,OAASsc,MASZE,GAAiB,SAAC9oB,EAAO+oB,GAKpC,IAJA,ITgnBoC7Z,EShnBpC,EAAsClP,EAA9ByM,EAAR,EAAQA,UAAWuc,EAAnB,EAAmBA,eAIVja,EAHQiM,GAAcF,GAAiBrO,IAGzBsC,EAAIga,EAAUha,IAAK,CACxC,IAAMyX,EAAcvW,GAAOlB,IAAM,GAE7BuX,OAAc,EAElB,GAAIrkB,OAAOpB,KAAK2lB,GAAalW,OAAS,ETumBJpB,EStmBQH,EAAxCuX,ETumBJva,GACEmG,GACEiH,GAAqBlX,OAAOpB,KAAKua,GAAqBlM,GAAOrD,USxmB7D7L,EAAQukB,GACNvkB,EACAsmB,EACA5K,GAA+B3M,IAC/B,QAEG,GAAIyX,GAAeA,EAAYpW,YACpCpQ,EAAMsd,WAAaV,GAAW5c,EAAMsd,WAAYkJ,EAAYpW,kBAKzD,GACHoW,GACAA,EAAYnW,yBACZ2Y,IAAmBhmB,GACnB,CACA,IAAQsY,EAAmBF,GACzBJ,GAAcF,GAAiBrO,KADzB6O,eAIJA,EAAiBtb,EAAM0K,uBACzB1K,EAAK,2BACAA,GADA,IAEH0K,qBAAsB4Q,KAK5Btb,EAAQipB,GACNjpB,EACAomB,GAFuB,KAAD,6BAEMrX,EAAIuX,GAChC,WAIJ,OAAOtmB,GAOHkpB,GAAmB,SAAAlpB,GAAK,kCACzBA,GADyB,IAE5BmpB,2BAA4B,CAACnpB,EAAM6U,kBACnCA,iBAAkBkQ,GAChB/kB,EAAMglB,aACNhlB,EAAMilB,gBAQJmE,GAAwB,SAAA7T,GAAI,OAAIA,GAAQA,EAAKjJ,SAAWvJ,IAMxDsmB,GAAoB,SAAA9P,GAAK,OAAID,GAAYC,EAAO6P,KAYzCZ,GAAqB,SAAAxoB,GAChC,IAEIspB,EAFE/P,EAAUvZ,EAAVuZ,MACFgQ,EAAiC,EAGrC,GAAIhb,KAAKiD,ShKrRiB,GgKsRxB,GAAI6X,GAAkB9P,GAAQ,CAC5B+P,EAAe,CACbjE,QRhVN,0DQiVMmE,SAAU,SAGZ,MAA+C1Q,GAC7C9Y,EAAMyL,WADFb,UAAW6e,OAAjB,MAAyC,EAAzC,EAIAlQ,EAAQ4O,GAAY5O,GAAO,SAAAhE,GACzB,OAAK6T,GAAsB7T,GAKzBkU,GACAlU,EAAKhU,iBAAmBA,GAAeI,SAEvC8nB,IACAF,IAEOhU,GAGF,KAbEA,UAgBX+T,EAAe,CAAEjE,QR5WM,kCQ4WkBmE,SAAU,aAGrDF,EAAe,CAAEjE,QRhXO,0BQgXgBmE,SAAU,QAgBpD,OAbAxpB,EAAQ0pB,GAA2B,2BAC5B1pB,GAD2B,IACpBuZ,UACZ,YACAgQ,GAGFvpB,EAAK,2BACAA,GADA,IAEH2pB,oBAAoB,GAAD,oBAAM3pB,EAAM2pB,qBAAZ,CAAiCL,MAGtDtpB,EAAQ4pB,GAAW5pB,IASR0oB,GAAa,SAAA1oB,GACxB,IAAQuZ,EAAUvZ,EAAVuZ,MACFoQ,EAAmB,aAAO3pB,EAAM2pB,qBAElCE,EAAuB,GAErBC,EAAeT,GAAkB9P,GACnCA,EACA4O,GAAY5O,GAAO,SAAAsO,GACjB,IAAKA,GAAexS,GAAmBwS,KAAiBvmB,GAAS2E,KAC/D,OAAO4hB,EAGT,IDpYyBtiB,ECoYnBwkB,EAAcxb,KAAKiD,UhK3VN,GgKmWnB,OANIuY,GACFF,EAAqBjQ,MAArB,+BDvYuBrU,ECwYLwG,GAAS8b,EAAYvb,QDxYpB,gCAAsC/G,EAAKoB,KAA3C,OC4YdojB,EAAc,KAAOlC,KAUlC,OAPIgC,EAAqBvZ,QACvBqZ,EAAoB/P,KAAK,CACvByL,QAASwE,EAAqBpD,KAAK,QACnC+C,SAAU,UAIP,2BAAKxpB,GAAZ,IAAmBuZ,MAAOuQ,EAAcH,yBAO7BK,GAAoB,SAAAhqB,GAC/B,IAAQuZ,EAAqBvZ,EAArBuZ,MAAO9M,EAAczM,EAAdyM,UACTwd,EAAQ,IAAI3nB,IACd4nB,EAAa,aAAO3Q,GAEhB+B,EAAmBF,GACzBJ,GAAcF,GAAiBrO,KADzB6O,eA2CR,OAvCA/B,EAAMY,SAAQ,SAACX,EAAK2Q,GAClB3Q,EAAIW,SAAQ,SAAC5E,EAAM6U,GAAW,IAAD,EACtB7U,GAAQF,GAAmBE,KAAUjU,GAAS8I,YAIlD,MACE0L,OADF,qBT5DuB,SAACuU,EAAWC,EAASC,GACjD,IAAMC,EAAa,EAAIH,EAAY,EAC7BI,EAAcH,EAAUD,EACxBK,EAAcH,EAAUF,EAE9B,OAAO,IAAItU,MAAMyU,GACdxU,OACArK,KAAI,SAACwZ,EAAGpE,GAAJ,OACH,IAAIhL,MAAMyU,GACPxU,OACArK,KAAI,SAACwZ,EAAGrE,GAAJ,MAAW,CAAEA,EAAG2J,EAAc3J,EAAGC,EAAG2J,EAAc3J,SSqDlD4J,CAAerP,EAAgB8O,EAAOD,KAE1ChQ,SAAQ,YAAe,IAAZ2G,EAAW,EAAXA,EAAGC,EAAQ,EAARA,EACP6J,EAAWrR,EAAMwH,GAEvB,GAAK6J,EAAL,CAIA,IAAM/C,EAAc+C,EAAS9J,GAG3B+G,GACAxS,GAAmBwS,KAAiBvmB,GAAS2E,OAExCgkB,EAAMhQ,IAAI4N,KACbqC,EAAgBW,GAAkB,2BAC3B7qB,GAD0B,IACnBuZ,MAAO2Q,IACnBpJ,EACAC,EACA+G,IACAvO,OAGJ0Q,EAAMa,IAAIjD,EAAa,CAAE/G,IAAGC,iBAM/B,2BAAK/gB,GAAZ,IAAmBuZ,MAAO2Q,KAOfa,GAAqB,SAAA/qB,GAehC,IAdA,IAAM6a,EAAY,aAAO7a,EAAM6a,cACfmQ,EAAuBnQ,EAA/BvK,OACFqZ,EAAmB,aAAO3pB,EAAM2pB,qBAClCle,EAAS,aAAOzL,EAAMyL,WAEpBwf,EAA2Bxf,EAAUyf,WACzC,qBAAG5kB,KAAgBlD,MAGf4H,EAAUS,EAAUwf,GACpBvZ,EAAW1G,EAAUA,EAAQ0G,SAAW,EAE1CyZ,EAAa,EAERpc,EAAI,EAAGA,EAAIic,EAAoBjc,IAAK,CAC3C,IAAMoC,EAAM0J,EAAa9L,GACnBqc,EAAiBD,EAAazZ,EAEpCmJ,EAAa9L,GAAb,2BACKoC,GADL,IAEE+G,iBAAkBhF,GAChBkY,EACIja,EAAI+G,iBhKhbkC,GgKibtC/G,EAAI+G,iBhKjbkC,GgKkb1C/U,GhKhbqC,OgKqbrCioB,GACFD,IAWJ,OAPIzZ,GAAYsZ,GAAsBA,EAAqB,GACzDrB,EAAoB/P,KAAK,CACvByL,QRlfJ,kFQmfImE,SAAU,UAIPE,GAA2B,2BAC3B1pB,GAD0B,IACnB6a,eAAcpP,YAAWke,wBACrCvmB,GACA+nB,IAQSE,GAAsB,SAAArrB,GAIjC,IAHA,IAAM2pB,EAAmB,aAAO3pB,EAAM2pB,qBAChC2B,EAAe,aAAOtrB,EAAM6a,cAEzB9L,EAAI,EAAGA,EAAIuc,EAAgBhb,OAAQvB,IAAK,CAC/C,IAAMoC,EAAMma,EAAgBvc,GAI1BjE,OAAOqG,EAAI+G,iBAAiBlD,QAAQ,MAAQ7R,KAE5CnD,EAAQurB,GAAuBvrB,EAAOmR,GAEtCwY,EAAoB/P,KAAK,CACvByL,QAASK,GAAF,+BAA0BvU,GACjCqY,SAAU,WAKhB,OAAO,2BAAKxpB,GAAZ,IAAmB2pB,yBAOR6B,GAAqB,SAAAxrB,GAMhC,IALA,IAAM6a,EAAY,aAAO7a,EAAM6a,cACzB8O,EAAmB,aAAO3pB,EAAM2pB,qBACtBqB,EAAuBnQ,EAA/BvK,OACF8U,EAAgB,GAEbrW,EAAI,EAAGA,EAAIic,EAAoBjc,IAAK,CAC3C,IAAMoC,EAAM0J,EAAa9L,GAEzB,GAAIoC,EAAIuG,iBAAmBY,GAAenH,GAAM,CAC9C0J,EAAa9L,GAAb,2BAAuBoC,GAAvB,IAA4BuG,iBAAkB,IAE9C,IAAM+T,EAAOtT,GAAehH,GACpBxK,EAAS8kB,EAAT9kB,KAER,IAAK4T,GAAyBva,GAC5B,MAGFolB,EAAcze,IAASye,EAAcze,IAAS,GAAK,EACnD3G,EAAQukB,GAAmBvkB,EAAOyrB,IAWtC,OAPIxpB,OAAOpB,KAAKukB,GAAe9U,QAC7BqZ,EAAoB/P,KAAK,CACvByL,QAASH,GAAF,+BAAmBE,GAC1BoE,SAAU,YAIP,2BAAKxpB,GAAZ,IAAmB6a,eAAc8O,yBAOtB+B,GAAiC,SAAA1rB,GAM5C,IALA,IAAM6a,EAAY,aAAO7a,EAAM6a,cACzB8O,EAAmB,aAAO3pB,EAAM2pB,qBACtBqB,EAAuBnQ,EAA/BvK,OACFkV,EAAsB,GAEnBzW,EAAI,EAAGA,EAAIic,EAAoBjc,IAAK,CAC3C,IAAMoC,EAAM0J,EAAa9L,GAEzB,IAGGoC,EAAIwG,8BAAgC,GACrCc,GAA+BtH,GAC/B,CACA0J,EAAa9L,GAAb,2BAAuBoC,GAAvB,IAA4BwG,6BAA8B,IAE1D,IAAMtN,EAAagO,GAAqBlH,GAChCxK,EAAS0D,EAAT1D,KAER,IAAK4T,GAAyBva,GAC5B,MAGFwlB,EAAoB7e,IAAS6e,EAAoB7e,IAAS,GAAK,EAC/D3G,EAAQukB,GAAmBvkB,EAAOqK,IAWtC,OAPIpI,OAAOpB,KAAK2kB,GAAqBlV,QACnCqZ,EAAoB/P,KAAK,CACvByL,QAASE,GAAF,+BAAyBC,GAChCgE,SAAU,YAIP,2BAAKxpB,GAAZ,IAAmB6a,eAAc8O,yBAYtBpF,GAAqB,SAChCvkB,EACA4L,GAGI,IAFJsN,EAEG,uDAFO,EACVyS,EACG,wDACKrlB,EAAOsF,EAAPtF,GACFmF,EAAS,aAAOzL,EAAMyL,WAEtBmgB,EAAqBD,EACvBzS,EACA3K,KAAK6E,IAAI8F,EAASmB,GAAwBra,IAE9C,GAA2B,IAAvB4rB,EACF,OAAO5rB,EAGT,IAAM6rB,EAAkBpgB,EAAUyf,WAAU,gBAAO5e,EAAP,EAAGhG,GAAH,OAAoBA,IAAOgG,KAEvE,IAAKuf,EAAiB,CACpB,IAAMC,EAAcrgB,EAAUogB,GAE9BpgB,EAAUogB,GAAV,2BACKC,GADL,IAEEpa,SAAUoa,EAAYpa,SAAWka,SAGnCngB,EAAUmO,KAAK,CAAEtT,KAAIoL,SAAUka,IAGjC,OAAO,2BAAK5rB,GAAZ,IAAmByL,eAGfsgB,GAAe,SAAChrB,EAAKgS,GAAN,OAAaA,EAAGhS,IAC/BirB,GAAgB,CACpBrE,GACAI,GACAC,IAOIiE,GAAe,SAAAjsB,GAAK,kCACrBA,GADqB,IAExBuZ,MAAO4O,GAAYnoB,EAAMuZ,OAAO,SAAAsO,GAAW,OACzCmE,GAAclrB,OAAOirB,GAAclE,SAQ1BqE,GAAqB,SAAAlsB,GAChC,IACE4hB,EAKE5hB,EALF4hB,eACA/G,EAIE7a,EAJF6a,aACAvU,EAGEtG,EAHFsG,GACAqjB,EAEE3pB,EAFF2pB,oBACArF,EACEtkB,EADFskB,gBAEMzC,EAAmBD,EAAnBC,OAAQC,EAAWF,EAAXE,OAEhB,IAAKA,EACH,OAAO9hB,EAGT,IAAMmsB,EAAOvR,GAAYC,EAAcgH,GACjCuK,EAAOxR,GAAYC,EAAciH,GAIvC,GAAIqK,EAAKhV,SAAWiV,EAAKjV,OACvB,OAAOnX,EAGT,IAAMqsB,EACJF,EAAKvU,WhK5nBqC,IgK6nB1CwU,EAAKxU,WhK7nBqC,GgK8nBtCgK,EAAeyK,eAAiB,EhK/nBC,EgKkoBjCC,EACJzR,EAAavK,OAASzN,GAAsB0pB,IAAIjI,GAAiBxhB,MAC9C,IAAnBupB,EAEEvG,EACFwG,GTpPgC,SAACH,EAAMC,EAAMpU,GAA+B,IAAD,EAArBwU,EAAqB,uDAAP,GACtE,GAAIL,EAAKhV,SAAWiV,EAAKjV,OACvB,MAAM,IAAIsV,MAAJ,UACDna,KAAKC,UAAU4Z,GADd,YACuB7Z,KAAKC,UAC9B6Z,GAFE,gEAOR,IAAMM,EAAUP,EAAKhV,SAAW3V,GAAQ+V,KAAO4U,EAAOC,EAChDO,EAAYR,EAAKhV,SAAW3V,GAAQ+V,KAAO6U,EAAOD,EAClD3U,EAAiB,6CAEpBkV,EAAQtV,OAAQ,GAFI,eAGpBuV,EAAUvV,OAAQ,GAHE,GAKlBsV,EAAQlV,mBACRmV,EAAUnV,0BAGRA,EAAkB/V,GAAUE,SAEnC,IAAMyW,EACJnW,OAAOpB,KAAK2W,GAAmBlH,SAC/BrO,OAAOpB,KAAKa,IAAmB4O,OAEjC,OAAO2G,GAAY,aACjBG,MAAOgB,EACH3W,GAAUE,QACVuQ,GAAa,CAACya,EAAUvV,MAAOsV,EAAQtV,QAC3CI,oBACAF,YAAaoV,EAAQpV,WAAaqV,EAAUrV,YAAc,EAC1DQ,QAAQ,EACRE,UACAhB,gBAAiBgB,GACdwU,ISiNwBI,CAAqBT,EAAMC,EAAM9lB,GAE9D,OAAO,2BACFtG,GADL,IAEE6a,aAAcyR,EAAuB,uBAC7BzR,GAD6B,CACfiL,IAClBjL,EACJ+G,eAAe,2BACVA,GADS,IAEZyK,eAAgBC,EhKhpBmB,EgKkpB/BD,IAEN1C,oBAAqB7D,EAAY,uBAExB6D,GAFwB,CAG3B,CACEtE,QAASM,GAAF,qCAAqBwG,EAAOC,EAAOtG,GAC1C0D,SAAU,aAGdG,KAQKkD,GAAgC,SAAA7sB,GAAK,kCAC7CA,GAD6C,IAEhD6a,aAAc7a,EAAM6a,aAAalP,KAAI,SAAAwF,GAAG,kCACnCA,GADmC,IAEtCsG,QAAStG,EAAIsG,QAAU,EACvBC,iBAAkBvG,EAAIuG,iBAAmB,EAGzCC,8BAA+BxG,EAAIwG,8BAAgC,GAAK,EACxEC,UAAWrJ,KAAK8E,IACd,EACAlC,EAAI4G,sBACAxJ,KAAK6E,IACH,EACAjC,EAAIyG,UAAY,IAElBzG,EAAIyG,UAAY1U,IAEtB2U,qBAAsB1G,EAAI4G,sBhKzsBY,EgK2sBlC,EAIJA,sBAAuBhZ,QAAQoS,EAAI4G,+BAQ1B6R,GAAa,SAAA5pB,GAAK,kCAC1BA,GAD0B,IAE7BuZ,MAAO4O,GAAYnoB,EAAMuZ,MAAOuO,OAUrB+C,GAAoB,SAAC7qB,EAAO8gB,EAAGC,EAAGqH,GAC7C,IAAQ7O,EAAUvZ,EAAVuZ,MACFC,EAAG,aAAOD,EAAMwH,IAChB8G,EAAcO,EAAW5O,EAAIsH,IACnCtH,EAAIsH,GAAK+G,EACT,IAAMqC,EAAa,aAAO3Q,GAG1B,OAFA2Q,EAAcnJ,GAAKvH,EAEZ,2BAAKxZ,GAAZ,IAAmBuZ,MAAO2Q,KASf4C,GAAoB,SAAC9sB,EAAO8gB,EAAGC,GAAX,OAC/B8J,GAAkB7qB,EAAO8gB,EAAGC,GAAG,kBAAM,SAQ1B2I,GAA6B,SAAC1pB,EAAOsM,GAAyB,IAAjB4M,EAAgB,uDAAN,EAC5DzN,EAAS,aAAOzL,EAAMyL,WACtBshB,EAAqBthB,EAAUyf,WAAU,qBAAG5kB,KAAgBgG,KAElE,IAA4B,IAAxBygB,EACF,OAAO/sB,EAGT,IAAQ0R,EAAajG,EAAUshB,GAAvBrb,SAWR,OATIA,EAAWwH,EACbzN,EAAUshB,GAAV,2BACKthB,EAAUshB,IADf,IAEErb,SAAUA,EAAWwH,IAGvBzN,EAAUuhB,OAAOD,EAAoB,GAGhC,2BAAK/sB,GAAZ,IAAmByL,eAORwhB,GAAyB,SAAAjtB,GACpC,IAAMktB,EAAe,aAAOltB,EAAMktB,iBAE1BC,EAAkCntB,EAAlCmtB,SAAUxD,EAAwB3pB,EAAxB2pB,oBAEZyD,EAAgB,CACpB3sB,MAAO,GACP4sB,KAAM,GACNC,QAAS,GACTC,QAAS,IAkBX,OAfA5D,EAAoBxP,SAAQ,gBAAGkL,EAAH,EAAGA,QAASmE,EAAZ,EAAYA,SAAZ,OAC1B4D,EAAc5D,GAAU5P,KAAKyL,MAG/BsE,EAAoBrZ,QAClB4c,EAAgBM,QAAQ,CACtBC,IAAKN,EACLC,kBAGJF,EAAgB5c,OAAS/B,KAAK6E,IAC5B8Z,EAAgB5c,OhKvxBiB,IgK2xB5B,2BAAKtQ,GAAZ,IAAmBktB,qBAORQ,GAAsB,SAAA1tB,GACjC,IAGI4oB,ETzO+B+E,ESsO7B3I,EAAY,eAAQhlB,EAAMglB,cAC1BC,EAAW,eAAQjlB,EAAMilB,aAC3B0E,EAAmB,aAAO3pB,EAAM2pB,qBAGpC,GAAIpb,KAAKiD,ShKtyBuB,GgKsyBQ,CACtC,IAAeoc,EAAkBxS,GAC/BJ,GAAcF,GAAiB9a,EAAMyM,aAD/BZ,MAIFgiB,GThP2BF,ESiP/BxU,GAAqBlX,OAAOpB,KAAK+sB,IThPrC7hB,GAASsK,GAAiCnE,GAAayb,MSkP7CrnB,EAAOunB,EAAPvnB,GAGR,IAAK0e,EAAa1e,KAAQ2e,EAAY3e,GAAK,CACzC,IAAMwnB,EACJvf,KAAKiD,SAAW,GAAM,eAAiB,cAEzCoX,EAAaD,GACX3oB,ETpP4B,SAAA6tB,GAAQ,MAAK,CAC/CvhB,OAAQuhB,EAASvnB,GACjBynB,cACEpY,GAAyBkY,GvJpkByB,GgKszB9CG,CAAqBH,GACrBC,GAGFnE,EAAoB/P,KACC,iBAAnBkU,EACI,CACEzI,QAASU,GAAF,+BAAgB8H,GACvBrE,SAAU,WAEZ,CACEnE,QAASW,GAAF,+BAAgB6H,GACvBrE,SAAU,aAMtB,OAAO,uCAAKxpB,GAAU4oB,GAAtB,IAAkCe,yBAO9BsE,GAA0B,SAAAC,GAAW,OACzCjsB,OAAOpB,KAAKqtB,GAAaptB,QAAO,SAACC,EAAKC,GACpC,MAAkCktB,EAAYltB,GAAtCsL,EAAR,EAAQA,OAAQyhB,EAAhB,EAAgBA,cAMhB,OAJIA,EAAgB,IAClBhtB,EAAIC,GAAO,CAAEsL,SAAQyhB,cAAeA,EAAgB,IAG/ChtB,IACN,KAMQotB,GAAoB,SAAAnuB,GAC/B,IAAQglB,EAA8BhlB,EAA9BglB,aAAcC,EAAgBjlB,EAAhBilB,YAEtB,OAAO,2BACFjlB,GADL,IAEEglB,aAAciJ,GAAwBjJ,GACtCC,YAAagJ,GAAwBhJ,MAQ5BmJ,GAAyB,SAAApuB,GACpC,IACEquB,EAKEruB,EALFquB,oBACAhS,EAIErc,EAJFqc,aACAD,EAGEpc,EAHFoc,cACAuI,EAEE3kB,EAFF2kB,wBACA2J,EACEtuB,EADFsuB,0BAGAC,EAGEvuB,EAHFuuB,sBACAC,EAEExuB,EAFFwuB,uBACArS,EACEnc,EADFmc,sBAGFoS,EAAwB,CAAClS,GAAD,oBAAkBkS,IAAuBE,MAC/D,EhKj3BiD,GgKq3BnDD,EAAyB,CAACpS,GAAD,oBAAmBoS,IAAwBC,MAClE,EhKt3BiD,GgK03BnD,IAAMC,EAAgB9S,GACpB2S,EAAsB5iB,KAAI,SAACgjB,EAAM5f,GAAP,OACxBwE,GAAWib,EAAuBzf,GAAI4f,OAKpCC,EADqBxS,EAAgBC,EAAe,EAEtDgS,EAAsB,EACtB,EAEJ,OAAO,2BACFruB,GADL,IAEEuuB,wBACAC,yBACAH,oBAAqBO,EACrBjK,wBAAyBpW,KAAK8E,IAAIsR,EAAyB+J,GAC3DJ,0BAA2B/f,KAAK8E,IAC9Bib,EACAM,GAEFzS,sBAAuB5N,KAAK8E,IAC1B8I,EACAH,GAAUI,EAAeC,IAE3BA,aAAc,EACdD,cAAe,KAQNyS,GAAmC,SAAA7uB,GAAK,kCAChDA,GADgD,IAEnDwc,gBAAiB,GACjBD,wBAAyBvc,EAAMyL,UAAU3K,QAAO,SAACC,EAAD,GAA4B,IAApBuF,EAAmB,EAAnBA,GAAIoL,EAAe,EAAfA,SAE1D,OADA3Q,EAAIuF,GAAMoL,EACH3Q,IACN,OAGQ+tB,GAAoB,SAAA9uB,GAC/B,IAAMkmB,EAAc3S,GAClBvT,EAAMkmB,YACN5S,GhKjgC8B,IgKigClBtT,EAAMkmB,cAGdyD,EACJzD,EAAc,EAAd,uBAESlmB,EAAM2pB,qBAFf,CAGM,CACEH,SAAU,UACVnE,QAASc,GAAF,+BAA8BD,MAGzClmB,EAAM2pB,oBAEZ,OAAO,2BACF3pB,GADL,IAEEkmB,cACAyD,yBAQSoF,GAAyB,SAAC/uB,GAAD,IAAQgvB,EAAR,+DACnCA,EACG,GACA,CACEnC,GACAX,GACAD,GACAxD,GACAF,GACAyB,GACAe,GACAM,GACAG,GACAE,GACAyC,GACAC,GACAS,GACAnB,GACAoB,GACA7B,KAGHnX,OAAO,CAACoT,KACRpoB,QAAO,SAACC,EAAKgS,GAAN,OAAaA,EAAG,eAAKhS,MAtB/B,YAAC,eAuBMf,GAvBP,IAwBIyd,WAAYxG,KACZkW,SAAUntB,EAAMmtB,SAAW,EAC3B8B,oBAAqB,OASdC,GAAe,SAAClvB,EAAO4L,GAAuB,IAAjBsN,EAAgB,uDAAN,EAClD,EAAqDlZ,EAA7C8jB,EAAR,EAAQA,MAAOtH,EAAf,EAAeA,gBAAiB3H,EAAhC,EAAgCA,iBAC1B+W,EAAqBrd,KAAK6E,IAAI8F,EAASmB,GAAwBra,IAErE,GAA2B,IAAvB4rB,EACF,OAAO5rB,EAGT,IAAM8F,EAAQiP,GAAqBF,EAAkBjJ,EAAKtF,IACpD6oB,EAAarpB,EAAQ8lB,EAE3B,OAAIuD,EAAarL,EACR9jB,GAGTA,EAAQovB,GACNpvB,EACAknB,GAFgC,KAAD,6BAEIhO,EAAUtN,IAGxC2Y,GAAmB,2BAEnBvkB,GAFkB,IAGrB8jB,MAAOvQ,GAAWuQ,GAAQqL,GAC1B3S,gBAAgB,2BACXA,GADU,mBAEZ5Q,EAAKtF,IAAMkW,EAAgB5Q,EAAKtF,KAAO,GAAKslB,MAGjDhgB,EACAggB,KASEyD,GAAa,SAACrvB,EAAOsvB,GACzB,IAAQxL,EAAkC9jB,EAAlC8jB,MAAOhI,EAA2B9b,EAA3B8b,QAASM,EAAkBpc,EAAlBoc,cAExB,OAAO,2BACFpc,GADL,IAEE8jB,MAAOvQ,GAAWuQ,EAAOwL,GACzBxT,QAASvI,GAAWuI,EAASwT,GAC7BlT,cAAe7I,GAAW6I,EAAekT,MAUhCC,GAAW,SAACvvB,EAAD,GAAiC,IAAvBsG,EAAsB,EAAtBA,GAAM4S,EAAgB,uDAAN,EAChD,GAAgB,IAAZA,EACF,OAAOlZ,EAkBT,IAfA,IAAM4L,EAAOG,GAASzF,GACtB,EAKItG,EAJFye,EADF,EACEA,sBACAhS,EAFF,EAEEA,UACO+iB,EAHT,EAGE1L,MACAjP,EAJF,EAIEA,iBAEIkU,EAAW/N,GAAcF,GAAiBrO,IAChD,EAAsBzM,EAAhBkmB,EAAN,EAAMA,YAEAuJ,EAAoBxa,GAAiBrJ,GACvCsJ,GAAetJ,GACfmJ,GAAqBF,EAAkBvO,GACrCopB,EAAkBla,GAAmB5J,GACvC+jB,EAAY,EACP5gB,EAAI,EAAGA,EAAImK,EAASnK,IAAK,CAChC,IAAM6gB,EAAkBF,EACpBnhB,KAAK6E,IACH8S,EACA5S,GAAYmc,EAAoBrtB,KAElC,EACEytB,EACJJ,EAAoBjR,GAAuBC,GAC3CmR,EACF1J,EAAc3S,GAAW2S,GAAc0J,GACvCD,EAAYpc,GAAWoc,EAAWE,GAGhCH,IACF1vB,EAAQ8vB,GAAW9vB,EAAOuT,GAAW2S,GAAclmB,EAAMkmB,eAG3D,IAAM6J,EAAY,2BAAQtjB,GAAR,mBAAoBnG,GAAMmG,EAAUnG,IAAO,GAAK4S,IAoBlE,OAhBAlZ,EAAQqvB,GAAW,2BAAKrvB,GAAN,IAAa8jB,MAAO0L,IAAgBG,GAEtD3vB,EAAK,2BACAA,GADA,IAEHyM,UAAWsjB,IAGb/vB,EAAQ8oB,GAAe9oB,EAAO+oB,GAC9B/oB,EAAQ0pB,GAA2B1pB,EAAOsG,EAAI4S,GAE9ClZ,EAAQovB,GACNpvB,EACAmnB,GAFgC,KAAD,6BAEDjO,EAAUtN,GACxC,WAGKokB,GAAqBhwB,IAOjBgwB,GAAuB,SAAAhwB,GAAK,kCACpCA,GADoC,IAEvCiwB,eAAgBhuB,OAAOpB,KAAKuO,IAAYtO,QAAO,SAACC,EAAKmvB,GAKnD,OAJI9gB,GAAW8gB,GAAU1jB,UAAUxM,KACjCe,EAAImvB,IAAY,GAGXnvB,IACN,OASQovB,GAAa,SAACnwB,EAAOkM,GAAyB,IAAjBgN,EAAgB,uDAAN,EAClD,OAAKD,GAAc/M,EAAQlM,EAAMyL,UAAWyN,IAI5ClZ,EAAQiC,OAAOpB,KAAKqL,EAAOE,aAAatL,QACtC,SAACd,EAAOowB,GAAR,OACE1G,GACE1pB,EACAowB,EACAlkB,EAAOE,YAAYgkB,GAAgBlX,KAEvClZ,GAGKukB,GAAmBvkB,EAAOkM,EAAQgN,IAbhClZ,GAoBEqwB,GAAc,SAACrwB,EAAOsP,GACjCtP,EAAQmwB,GAAWnwB,EAAOsP,GAE1B,IDj/B4CghB,EAAUC,ECi/BhDC,EACJ/hB,GAASa,EAAQzN,UAAU7B,EAAMsd,WAAWhO,EAAQzN,WAAW8E,KAQjE,OAPA3G,EAAMsd,WAAWhO,EAAQzN,UAAYyN,EAAQJ,MAE7ClP,EAAQipB,GACNjpB,GADuB,KAAD,6BDr/BoBswB,ECu/BbE,EDv/BuBD,ECu/BTjhB,EAAQ3I,KDv/Bb,eAChC2pB,EADgC,qCACKC,EADL,SC0/BjC,eAAKvwB,IAaDipB,GAAmB,SAC9BjpB,EACAqlB,GAGI,IAFJmE,EAEG,uDAFQ,OACXiH,EACG,4DADOC,EAEFC,EAA2C3wB,EAA3C2wB,kBAAmB1B,EAAwBjvB,EAAxBivB,oBAE3B,OAAO,uCACFjvB,GACC2wB,GAAqB,CACvBC,mBAAoB,CAClBvL,UACAoL,UACAjH,cANN,IAUEyF,oBAAqBA,EAAoBvY,MACvC,SAAA4S,GAAY,OAAIA,EAAajE,UAAYA,KAEvC4J,EACAA,EAAoBnZ,OAAO,CAAEuP,UAASoL,UAASjH,gBAS1CqH,GAAc,SAAC7wB,EAAOmR,GACjC,MAAyEnR,EAAjE6a,EAAR,EAAQA,aAAc4J,EAAtB,EAAsBA,mBAAoBne,EAA1C,EAA0CA,GAAIwd,EAA9C,EAA8CA,MAAOQ,EAArD,EAAqDA,gBAC7ClN,EAAUjG,EAAViG,MACF0Z,EAAWnY,GAAYxH,GAAK,GAElC,OACE2S,EAAQgN,GACY,IAApBxM,GACAzJ,EAAavK,QAAUzN,GAAsB0pB,IAAIjI,GAAiBxhB,KAE3D9C,GAGTA,EAAQ+wB,GAAkB/wB,EAAD,YAAC,eAAYmR,GAAb,IAAkB6G,QAAS1R,EAAI0Q,gBAAiB1Q,KAElE,2BACFtG,GADL,IAEEykB,mBAAmB,2BACdA,GADa,mBAEfrN,GAASqN,EAAmBrN,IAAU,GAAK,IAE9C0M,MAAOvQ,GAAWuQ,GAAQgN,GAC1BrT,WAAYxG,SASH8Z,GAAoB,SAAC/wB,EAAOmR,GACvC,IAAQ0J,EAAiB7a,EAAjB6a,aAER,OAAO,2BACF7a,GADL,IAEE6a,aAAa,GAAD,oBAAMA,GAAN,CAAoB1J,OASvB6f,GAAU,SAAChxB,EAAOmR,GAC7B,IAAQ8f,EAAajxB,EAAbixB,SACFC,ET/aqB,SAAC,GAAD,IAAG9Z,EAAH,EAAGA,MAAH,gBAAkB2E,GAAgB3E,GAAlC,QS+aR+Z,CAAchgB,GAC3B2f,EAAWnY,GAAYxH,GAAK,GAElCnR,EAAQurB,GAAuBvrB,EAAOmR,GACtCnR,EAAQqvB,GAAWrvB,EAAO8wB,GAE1B,IAAMM,EAAW,2BACZH,GADY,mBAEdC,GAAcD,EAASC,IAAe,GAAK,IAK9C,OAFAlxB,EAAK,2BAAQA,GAAR,IAAeixB,SAAUG,KAUnB7F,GAAyB,SAACvrB,EAAOmR,GAC5C,IAAM0J,EAAY,aAAO7a,EAAM6a,cACvB9C,EAA0B5G,EAA1B4G,sBAUR,OARA8C,EAAamS,OAAOnS,EAAawW,QAAQlgB,GAAM,GAE3C4G,IACF/X,EAAQukB,GAAmBvkB,EAAO+L,GAAS1I,qBAG7CrD,EAAQsxB,GAA6BtxB,EAAOmR,GAAK,GAE1C,2BAAKnR,GAAZ,IAAmB6a,kBAUR0W,GAAY,SAACvxB,EAAOwxB,EAAOze,GACtC,IAAM8H,EAAY,aAAO7a,EAAM6a,cACzB1J,EAAM0J,EAAanE,MAAK,qBAAGpQ,KAAgBkrB,KAC3CC,EAAW5W,EAAawW,QAAQlgB,GAOtC,OALA0J,EAAa4W,GAAb,2BACKtgB,GACA4B,EAAG5B,IAGD,2BACFnR,GADL,IAEE6a,kBAUS6W,GAA6B,SAAC1xB,EAAOmR,EAAKwgB,GACrD,OACGA,IAAuBnX,GAA8Bxa,EAAMyL,YAG5D1M,QAAQoS,EAAI4G,yBAA2B4Z,EAEhC3xB,GAGTA,EAAQuxB,GAAUvxB,EAAOmR,EAAI7K,IAAI,SAAA6K,GAAG,kCAC/BA,GAD+B,IAElC4G,sBAAuB4Z,OAGzB3xB,EAAQ2xB,EACJjI,GAA2B1pB,EAAOqD,IAClCkhB,GAAmBvkB,EAAO+L,GAAS1I,sBAY5BiuB,GAA+B,SAACtxB,EAAOmR,EAAKygB,GACvD,IAAQhQ,EAAmB5hB,EAAnB4hB,eACAC,EAAmBD,EAAnBC,OAAQC,EAAWF,EAAXE,OACV+P,EAAuB,OAAXhQ,GAA8B,OAAXC,EAC/BgQ,EAAajQ,IAAW1Q,EAAI7K,IAAMwb,IAAW3Q,EAAI7K,GACnDyrB,EAAiB,eAAQnQ,GAE7B,GAAIgQ,EAAO,CACT,GAAIC,GAAaC,EACf,OAAO9xB,EAGT,IAAMwxB,EAAmB,OAAX3P,EAAkB,SAAW,SAC3CkQ,EAAiB,2BAAQA,GAAR,mBAA4BP,EAAQrgB,EAAI7K,SACpD,CACL,IAAKwrB,EACH,OAAO9xB,EAGL6hB,IAAW1Q,EAAI7K,KACjByrB,EAAiB,2BACZA,GADY,IAEflQ,OAAQkQ,EAAkBjQ,UAI9BiQ,EAAiB,2BAAQA,GAAR,IAA2BjQ,OAAQ,OAGtD,OAAO,2BACF9hB,GADL,IAEE4hB,eAAe,2BACVmQ,GADS,IAEZ1F,ehK53CmC,OgKw4C5B2F,GAAc,SAAChyB,EAAO8gB,EAAGC,EAAGkR,GACvC,IACGA,IACAjyB,EAAMyL,UAAUgP,MAAK,qBAAGnU,KAAgB2rB,KAEzC,OAAOjyB,EAGT,IACMwZ,EADYxZ,EAAVuZ,MACUwH,GACZmR,EAAkB7b,GAAiC4b,GAEzD,OAAIzY,EAAIsH,GAEC9gB,GAGTA,EAAQ6qB,GAAkB7qB,EAAO8gB,EAAGC,GAAG,kBT/uCRzU,ESgvCX4lB,EThvCiB,2BAClC/c,GAAyB7I,IADS,IAErCmL,QAAS,EACTvB,YAAa,EACb3U,eAAgBA,GAAe6T,KAC/BgP,iBAAiB,IALc,IAAA9X,KSmvC/BtM,EAAQ0pB,GAA2B1pB,EAAOiyB,GAC1CjyB,EAAQgqB,GAAkBhqB,GAEnB,2BACFA,GADL,IAEEgpB,eAAgBhpB,EAAMyL,UAAUiL,MAAK,qBAAGpQ,KAAgB2rB,KACpDA,EACA,OAIFE,IAAyB,sBAC5BpmB,GAAQ,WAAezF,GAAK/E,GAAe4b,UADf,gBAE5BpR,GAAS,sBAAsBzF,GAAK/E,GAAeI,SAFvB,IAalBywB,GAAgB,SAACpyB,EAAO8gB,EAAGC,GAAO,IAAD,EAC5C,EAAkC/gB,EAA1BuZ,EAAR,EAAQA,MAAOyP,EAAf,EAAeA,eAETnB,EADMtO,EAAMwH,GACMD,GAExB,IAAK+G,IAAe,UAAA9b,GAASid,UAAT,eAA0BrmB,QAASrB,GAAS0I,WAC9D,OAAOhK,EAGT,IAAYqyB,EAAqBtmB,GAASid,GAAlC1iB,GAEFgsB,EAAsBtyB,EAAMyL,UAAUiL,MAC1C,SAAA9K,GAAI,OAAIA,EAAKtF,KAAO+rB,KAGhBE,EAAkBld,GAAmBwS,GAE3C,IACGA,IACAyK,GACDzK,EAAYtmB,iBAAmBA,GAAe6T,MAC1B,eAAnB4T,GAAmCuJ,IAAoBjxB,GAAS2E,MAC7C,uBAAnB+iB,GACCuJ,IAAoBjxB,GAAS2E,MAC7BssB,IAAoBjxB,GAAS6I,UAE/B,OAAOnK,EAGT,IAAkBwyB,EAA8BF,EAAxC5gB,SACR1R,EAAQ0pB,GAA2B1pB,EAAOqyB,GAC1C,IAAMI,EAAsBD,EAA4B,EAOxD,OALAxyB,EAAQ6qB,GAAkB7qB,EAAO8gB,EAAGC,GAAG,SAAAxb,GAAI,kCACtCA,GADsC,IAEzChE,eAAgB4wB,GAA0BE,QAGrC,2BACFryB,GADL,IAEEmB,UAAWsxB,EAAsBnoB,GAAYod,GAC7CsB,eAAgByJ,EAAsBJ,EAAmB,MAUhDK,GAAe,SAAC1yB,EAAO8gB,EAAGC,GAKrC,GAAa,OAJK/gB,EAAVuZ,MACWwH,GAAGD,GAIpB,OAAO9gB,EAKT,IAAM2yB,GAFN3yB,EAAQ0pB,GAA2B1pB,EAAOgD,KAETyI,UAAUgP,MACzC,SAAA7O,GAAI,OAAIA,EAAKtF,KAAOtD,MAStB,OANAhD,EAAQ6qB,GAAkB7qB,EAAO8gB,EAAGC,GAAG,kBACrC5L,GAAyBnS,OAG3BhD,EAAQgqB,GAAkBhqB,GAEnB,2BACFA,GADL,IAEEmB,UAAWwxB,EAAqBloB,GAAgBid,GAChDsB,eAAgB2J,EAAqB3vB,GAAoB,MAUhD4vB,GAAe,SAAC5yB,EAAO8gB,EAAGC,GAIrC,GAAa,OAHA/gB,EAAMuZ,MAAMwH,GAAGD,GAI1B,OAAO9gB,EAKT,IAAM6yB,GAFN7yB,EAAQ0pB,GAA2B1pB,EAAO+C,KAET0I,UAAUgP,MACzC,SAAA7O,GAAI,OAAIA,EAAKtF,KAAOvD,MAOtB,OAJA/C,EAAQ6qB,GAAkB7qB,EAAO8gB,EAAGC,GAAG,kBACrC5L,GAAyBpS,OAGpB,2BACF/C,GADL,IAEEmB,UAAW0xB,EAAqBhoB,GAAgB6c,GAChDsB,eAAgB6J,EAAqB9vB,GAAoB,MAUhD+vB,GAAc,SAAC9yB,EAAO8gB,EAAGC,GACpC,IACMxb,EADMvF,EAAMuZ,MAAMwH,GACPD,GAEjB,IACGvb,GACD8P,GAAmB9P,KAAUjE,GAAS2E,MACtCgQ,GAAiB1Q,KAAUwM,KAC1BwI,GAAyBva,GAE1B,OAAOA,EAGT,IAAM4L,EAAOG,GAASxG,EAAK+G,QACrBymB,EAAoBvc,GAAsC5K,EAAKtF,IAC/D0sB,EACJztB,EAAKhE,iBAAmBA,GAAeI,QAErCsxB,EAAoB,EAExB,OAAQjzB,EAAMsd,WAAWzb,GAASgN,SAChC,KAAK/M,GAAU6C,OACbsuB,GAAqB,EACrB,MAEF,KAAKnxB,GAAU8C,KACbquB,GAAqB,EACrB,MAEF,KAAKnxB,GAAU+C,OACbouB,GAAqB,EACrB,MAEF,KAAKnxB,GAAUgD,KACbmuB,GAAqB,EACrB,MAEF,QACEA,EAAoB,EAGxBjzB,EAAQ8sB,GAAkB9sB,EAAO8gB,EAAGC,GACpC/gB,EAAQukB,GAAmBvkB,EAAO4L,EAAMqnB,GAExC,IAAQhyB,EAAa2K,EAAb3K,SAEJ+xB,IAEAla,GAAwB9Y,EAAMyL,WAAWsnB,GAAqB,IAG9D/yB,EAAQgyB,GAAYhyB,EAAO8gB,EAAGC,EAAGgS,GACjC/yB,EAAQ6qB,GAAkB7qB,EAAO8gB,EAAGC,GAAG,SAAAxb,GAAI,kCACtCA,GADsC,IAEzChE,eAAgBA,GAAeI,eAKrC,IAAQqiB,EAAmBhkB,EAAnBgkB,eAER,OAAO,2BACFhkB,GADL,IAEEgkB,eAAe,2BACVA,GADS,mBAEX/iB,GAAY+iB,EAAe/iB,IAAa,GAAKgyB,OAWvCC,GAAW,SAAClzB,EAAO8gB,EAAGC,GAIjC,GAHkB/gB,EAAVuZ,MACUwH,GAEVD,GAEN,OAAO9gB,EAGT,IAAKua,GAAyBva,GAC5B,OAAOipB,GAAiBjpB,EAAOmiB,IAGjC,IAAMiB,EAAcpjB,EAAMsd,WAAWzb,GAASiN,QACxCqkB,EAAmBjQ,GAAgBkQ,WAAWC,kBAClDjQ,GAEEkQ,EAAa,KACbpL,EAAiBhW,GAAa,CAAC,EAAG,EAAG,EAAG,IAE5C,GAAIihB,EAAiB7iB,OAAQ,CAG3BgjB,EAAaH,EAAiB,GAK9BjL,GAAkB3Z,KAAKC,MACrBD,KAAKiD,UAAY,EAAI8hB,EAAW/pB,aAAe,IATtB,qBAYN4pB,GAZM,IAY3B,2BAAuC,CAAC,IAA/BI,EAA8B,QACrCvzB,EAAQukB,GAAmBvkB,EAAOuzB,IAbT,iCAyB7B,OARAvzB,EAAQ6qB,GAAkB7qB,EAAO8gB,EAAGC,GAAG,WACrC,MAAO,CACLkH,YAAY,EACZC,iBACAsL,MAAOF,EAAaA,EAAWhtB,GAAK,SAIjC,eACFtG,IAUMyzB,GAAY,SAACzzB,EAAO8gB,EAAGC,GAClC,IAAM8G,EAAc7nB,EAAMuZ,MAAMwH,GAAGD,GAC7B4S,EAAW1zB,EAAMsd,WAAWzb,GAAS6M,KAE3C,IAAKmZ,GAAeA,EAAYI,WAC9B,OAAOjoB,EAGT,GACEqV,GAAmBwS,KAAiBvmB,GAAS2E,MAC7CgQ,GAAiB4R,KAAiB9V,IAClCT,GAAuB7M,GAA+BivB,IACtD,CACA,IAAMC,EAASnd,GAAsCqR,EAAYvb,QACjEtM,EAAQukB,GAAmBvkB,EAAO+L,GAAS4nB,IAG7C,IAAM/nB,EAAOG,GAAS8b,EAAYvb,QAElC,OAAIV,EAAKjB,gBAAkB4P,GAAyBva,GAC3CA,GAGTA,EAAQ8sB,GAAkB9sB,EAAO8gB,EAAGC,GAE7BnV,EAAKjB,eAAiBsL,GAAiB4R,KAAiB9V,GAC3DwS,GAAmBvkB,EAAO4L,GAC1B5L,IAQO4zB,GAAgB,SAAC5zB,EAAO6zB,GACnC,IAAQta,EAAiCvZ,EAAjCuZ,MAAOuK,EAA0B9jB,EAA1B8jB,MACf,GADyC9jB,EAAnB8zB,gBACAD,EACpB,OAAO7zB,EAGT,MAAiCqC,GAAyBkqB,IAAIsH,GAAtDtxB,EAAR,EAAQA,QAASE,EAAjB,EAAiBA,MAAOD,EAAxB,EAAwBA,KAExB,MAAO,CACLsxB,eAAgBD,EAChBta,MAAOmB,GAAUlY,GAAMmJ,KAAI,SAACwZ,EAAG3L,GAAJ,OACzBkB,GAAUnY,GAASoJ,KACjB,SAACwZ,EAAG4O,GAAJ,OAAgBxa,EAAMC,IAAQD,EAAMC,GAAKua,IAAY,WAGzDjQ,MAAOvQ,GAAWuQ,GAAQrhB,KAUjBuxB,GAAY,SAACh0B,EAAO8gB,EAAGC,GAClC,IAAM8G,EAAc7nB,EAAMuZ,MAAMwH,GAAGD,GAEnC,OAAK+G,GAAexS,GAAmBwS,KAAiBvmB,GAAS2E,KAI1D4kB,GAAkB7qB,EAAO8gB,EAAGC,GAAG,SAAAxb,GAAI,kCACrCA,GADqC,IAExC6e,iBAAiB,OALVpkB,GAaEi0B,GAAgB,SAAAj0B,GAAK,OAAI4pB,GAAW5pB,IAOpCk0B,GAAkB,SAACl0B,EAAOm0B,GACrC,IAAQrQ,EAA4B9jB,EAA5B8jB,MAER,OAFoC9jB,EAArBo0B,kBAESD,EACfn0B,EAGF,CACLo0B,iBAAkBD,EAClBrQ,MAAOvQ,GAAWuQ,GAAQphB,GAAsB6pB,IAAI4H,GAAW1xB,SAStD4xB,GAAkB,SAACr0B,EAAOs0B,GACrC,MAAoCt0B,EAA5B8jB,EAAR,EAAQA,MAER,OAFA,EAAehW,kBAESwmB,EAAkBt0B,GAE1CA,EAAK,2BACAA,GADA,IAEH8N,iBAAkBwmB,EAClBxQ,MAAOvQ,GAAWuQ,GAAQlhB,GAAsB2pB,IAAI+H,GAAW7xB,SAGjEzC,EAAQipB,GAAiBjpB,ERjzDzB,mDQmzDOgwB,GAAqBhwB,KAQjBu0B,GAAiB,SAACv0B,EAAOw0B,GACpC,IAAQ1Q,EAA2B9jB,EAA3B8jB,MAER,OAFmC9jB,EAApBskB,iBAEQkQ,EACdx0B,EAGF,CACLskB,gBAAiBkQ,EACjB1Q,MAAOvQ,GAAWuQ,GAAQjhB,GAAsB0pB,IAAIiI,GAAU/xB,SAQrDgyB,GAA2B,SAAAz0B,GACtC,IAAQ8jB,EAA0B9jB,EAA1B8jB,MAAOxJ,EAAmBta,EAAnBsa,eACToa,EAAqBzW,GAA8B3D,GAEzD,OAAIwJ,EAAQ4Q,IAA0C,IAApBpa,EACzBta,EAGF,2BACFA,GADL,IAEEsa,eAAgBA,EhKt4DoB,IgKu4DpCwJ,MAAOvQ,GAAWuQ,GAAQ4Q,MASjBC,GAAS,SAAC30B,EAAOwxB,GAAR,OACpBD,GAAUvxB,EAAOwxB,GAAO,SAAArgB,GAAG,OACzBA,EAAI0G,sBhKl2DkC,EgKm2DlC1G,EACA,CACEyG,UAAWrJ,KAAK6E,IAAI,EAAGjC,EAAIyG,UAAY1U,IACvC2U,qBAAsB1G,EAAI0G,qBAAuB,OAS9C+c,GAAW,SAAC50B,EAAOwxB,GAG9B,OAFAxxB,EAAK,2BAAQA,GAAR,IAAe60B,qBAAsBrD,KAU/BsD,GAAc,SAAC90B,EAAOwxB,GAOjC,OAJIA,IAF6BxxB,EAAzB60B,uBAGN70B,EAAK,2BAAQA,GAAR,IAAe60B,qBAAsB,MAGrC70B,GASI+0B,GAAgB,SAAC/0B,EAAOwxB,EAAOwD,GAAf,OAC3BzD,GAAUvxB,EAAOwxB,GAAO,iBAAO,CAC7B7qB,KAAMquB,EAAQvG,MAAM,EhKj5Dc,SgKy5DzBwG,GAAY,SAACj1B,EAAD,OAAUsG,EAAV,EAAUA,GAAV,mBAAC,eAAwBtG,GAAzB,IAAgCk1B,cAAe5uB,KAO3D6uB,GAAqB,SAACn1B,EAAOo1B,GAAR,OAChClR,GAAapjB,QAAO,SAACd,EAAO8kB,GAoB1B,OAlBG9kB,EAAMye,sBAAsBqG,EAAYxe,KACzCwe,EAAYtY,UAAUxM,EAAOo1B,KAE7Bp1B,EAAK,2BACA8kB,EAAYjB,OAAO7jB,IADnB,IAEHye,sBAAsB,2BACjBze,EAAMye,uBADU,mBAElBqG,EAAYxe,IAAK,MAItBtG,EAAQipB,GACNjpB,EDx3D6B,SAACmlB,EAAD,OAAMxe,EAAN,EAAMA,KAAMwd,EAAZ,EAAYA,kBAAZ,8BAClBxd,EADkB,wCAGvBwd,GCs3DNkR,CAFuB,KAAD,0BAEEvQ,GACxB,YAIG9kB,IACNA,IAQQ8vB,GAAa,SAAC9vB,EAAOs1B,GAChC,IAAMpP,EAAc3S,GAAWvT,EAAMkmB,YAAaoP,GAC5CxR,EAAQvQ,GAAWvT,EAAM8jB,MAAOwR,GAYtC,OAVoB,IAAhBpP,GAAqBoP,EAAmB,EAC1Ct1B,EAAQipB,GAAiBjpB,GAAA,KAAD,uBDp4DD,4DCo4DwB,WACtCs1B,EAAmB,IAE5Bt1B,EAAK,2BACAipB,GAAiBjpB,EAAOimB,GAAP,KAAD,0BAAyBC,GAAe,SADxD,IAEHqP,cAAev1B,EAAMu1B,cAAgB,KAIlC,2BACFv1B,GADL,IAEEkmB,cACApC,WAaS0R,GAAW,SACtBx1B,EACAy1B,EACAC,EACAtL,EACAD,GAEG,IACH,IAAMwL,EAASpnB,KAAK8E,IAAI+W,EAAQsL,EAAa,GACvCE,EAAOrnB,KAAK6E,IAAIgX,EAAQsL,EAAa11B,EAAMuZ,MAAM,GAAGjJ,OAAS,GAC7DulB,EAAStnB,KAAK8E,IAAI8W,EAAQuL,EAAa,GACvCI,EAAOvnB,KAAK6E,IAAI+W,EAAQuL,EAAa11B,EAAMuZ,MAAMjJ,OAAS,GAJ7D,mBADA+B,EACA,iCADAA,EACA,kBAMH,IAAK,IAAI0O,EAAI8U,EAAQ9U,GAAK+U,EAAM/U,IAC9B,IAAK,IAAID,EAAI6U,EAAQ7U,GAAK8U,EAAM9U,IAC9B9gB,EAAQy1B,EAAO,WAAP,GAAQz1B,EAAO8gB,EAAGC,GAAlB,OAAwB1O,IAIpC,OAAOrS,GAQI+1B,GAAU,SAAC/1B,EAAOg2B,GAC7B,IAAMC,EAAK,eAAQj2B,EAAMi2B,OAGzB,OAFAA,EAAMD,GAAU,KAET,2BAAKh2B,GAAZ,IAAmBi2B,WAQRC,GAAa,SAACl2B,EAAOg2B,GAChC,IAAMC,EAAK,eAAQj2B,EAAMi2B,OAGzB,cAFOA,EAAMD,GAEN,2BAAKh2B,GAAZ,IAAmBi2B,WASRE,GAAa,SAACn2B,EAAOg2B,EAAQI,GACxC,IAAMH,EAAK,eAAQj2B,EAAMi2B,OACzBA,EAAMD,GAAUI,EAIhB,MAAqCA,EAA7BC,2BAAR,MAA8B,GAA9B,EAEA,OAAO,2BACFr2B,GADL,IAEEi2B,QACAK,mBAAoB,uBACfD,GADe,aAEfr2B,EAAMs2B,qBACT7H,MAAM,EhK96D4B,OgKw7D3BW,GAA4B,SACvCpvB,EACAqlB,GAEI,IADJmE,EACG,uDADQ,OAEX,OAAO,2BACFxpB,GADL,IAEEq2B,oBAAqB,CACnB,CAAE/vB,GAAItG,EAAMsG,GAAI+e,UAASmE,aADN,oBAEhBxpB,EAAMq2B,sBACT5H,MAAM,EhKn8D6B,MiK7JvCrqB,GAQEjD,GARFiD,QACAkG,GAOEnJ,GAPFmJ,UACAjG,GAMElD,GANFkD,QACAE,GAKEpD,GALFoD,KACA4B,GAIEhF,GAJFgF,MACA0E,GAGE1J,GAHF0J,cACAJ,GAEEtJ,GAFFsJ,cACAnG,GACEnD,GADFmD,MAGa,IAKbiyB,wBALa,SAKW3qB,GAAoB,IAAdsN,EAAa,uDAAH,EACtCrG,KAAKqc,aAAatjB,EAAMsN,IAO1Bsd,sBAba,SAaStqB,GAAsB,IAAdgN,EAAa,uDAAH,EACtCrG,KAAKsd,WAAWjkB,EAAQgN,IAM1Bud,kBApBa,SAoBKnnB,GAChBuD,KAAKwd,YAAY/gB,IAMnBonB,uBA3Ba,SA2BUvlB,GACrB0B,KAAKge,YAAY1f,IAMnBwlB,mBAlCa,SAkCMxlB,GACjB0B,KAAKme,QAAQ7f,IAMfylB,oBAzCa,SAyCOzlB,GAClB0B,KAAKgkB,gBAAgB1lB,IAOvB2lB,4BAjDa,WAiDwC3lB,GAAM,IAAnB4lB,EAAkB,EAA5BC,OAAUD,QACtClkB,KAAK6e,2BAA2BvgB,EAAK4lB,IAOvCE,qBAzDa,WAyDiC9lB,GAAM,IAAnB4lB,EAAkB,EAA5BC,OAAUD,QAC/BlkB,KAAKye,6BAA6BngB,EAAK4lB,IAMzCG,kBAhEa,SAgEK/lB,GAChB0B,KAAK8hB,OAAOxjB,EAAI7K,KAMlB6wB,oBAvEa,SAuEOhmB,GAClB0B,KAAK+hB,SAASzjB,EAAI7K,KAMpB8wB,uBA9Ea,SA8EUjmB,GACrB0B,KAAKiiB,YAAY3jB,EAAI7K,KAOvB+wB,yBAtFa,WAsFmClmB,GAAM,IAAjBrL,EAAgB,EAA1BkxB,OAAUlxB,MACnC+M,KAAKkiB,cAAc5jB,EAAI7K,GAAIR,IAO7BwxB,oBA9Fa,SA8FO1rB,GAAoB,IAAdsN,EAAa,uDAAH,EAClCrG,KAAK0c,SAAS3jB,EAAMsN,IAMtBqe,iBArGa,YAqG4B,IAAZzxB,EAAW,EAArBkxB,OAAUlxB,MAC3B+M,KAAK2kB,SAAS,CAAEha,WAAY1X,KAM9B2xB,4BA5Ga,SA4Geja,GAC1B3K,KAAK2kB,SAAS,CAAEha,gBAMlBka,sBAnHa,SAmHSv2B,GACpB0R,KAAK2kB,UAAS,gBAAGxO,EAAH,EAAGA,eAAH,MAAyB,CACrCA,eACE7nB,IAAcgF,IAASjC,GAAqB+V,IAAI9Y,GAC5C,GACA6nB,EACN7nB,iBAOJw2B,sBAhIa,YAoIT,IAHFrxB,EAGC,EAHDA,GACAJ,EAEC,EAFDA,iBAEC,EADDwE,qBAEAmI,KAAK2kB,SAAS,CACZr2B,UAAW+E,EACX8iB,eAAgB1iB,KAQpBsxB,gBA/Ia,SA+IG9W,EAAGC,GACjB,MAIIlO,KAAK7S,MAHPmB,EADF,EACEA,UACsBu0B,EAFxB,EAEEhrB,qBACAse,EAHF,EAGEA,eAGE7nB,IAAcgF,GAChB0M,KAAK2iB,SAASxD,GAAa0D,EAAa5U,EAAGC,EAAGiI,GACrC7nB,IAAckD,GACvBwO,KAAK2iB,SAAS1C,GAAa4C,EAAa5U,EAAGC,GAClC5f,IAAcoD,GACvBsO,KAAK2iB,SAAStC,GAAUwC,EAAa5U,EAAGC,GAC/B5f,IAAciD,GACvByO,KAAK2iB,SAAS/B,GAAWiC,EAAa5U,EAAGC,GAChC5f,IAAcmD,GACvBuO,KAAK2iB,SAASxB,GAAW0B,EAAa5U,EAAGC,GAChC5f,IAAcmJ,GACvBuI,KAAK2iB,SAASpD,GAAesD,EAAa5U,EAAGC,GACpC5f,IAAcsJ,GACvBoI,KAAK6f,aAAa5R,EAAGC,GACZ5f,IAAc0J,IACvBgI,KAAK+f,aAAa9R,EAAGC,IAOzB8W,6BA5Ka,SA4KgBC,GAC3BjlB,KAAK2kB,UAAS,iBAAO,CAAE9sB,qBAAsBotB,OAG/CC,wBAhLa,WAiLXllB,KAAKmlB,eAILzY,SAAS0Y,cAAcC,QAMzBC,oBA3La,SA2LO9pB,GAClBwE,KAAK2kB,UAAS,gBAAG1T,EAAH,EAAGA,MAAH,MAAgB,CAAEA,MAAOvQ,GAAWuQ,EAAOzV,QAG3D+pB,8BA/La,WAgMXvlB,KAAKwlB,sBAGPC,yBAnMa,WAoMXzlB,KAAKohB,cAAcphB,KAAK7S,QAM1Bu4B,oBA1Ma,SA0MO1E,GAClBhhB,KAAK+gB,cAAcC,IAMrB2E,sBAjNa,SAiNSrE,GACpBthB,KAAKqhB,gBAAgBC,IAMvBsE,sBAxNa,SAwNSnE,GACpBzhB,KAAKwhB,gBAAgBC,IAMvBoE,qBA/Na,SA+NQlE,GACnB3hB,KAAK0hB,eAAeC,IAGtBmE,+BAnOa,WAoOX9lB,KAAK4hB,4BAMPmE,iBA1Oa,WA0OqB,IAAjBC,EAAgB,uDAAN,KACzBhmB,KAAK2kB,UAAS,gBAAGsB,EAAH,EAAGA,WAAH,MAAqB,CACjCA,WAAwB,OAAZD,GAAoBC,EAAaD,OAIjDE,0BAhPa,WAiPXlmB,KAAKmmB,iBAGPC,8BApPa,WAqPXpmB,KAAKqmB,qBAMPC,gBA3Pa,SA2PGhoB,GACd0B,KAAKoiB,UAAU9jB,IAMjBioB,eAlQa,SAkQEjoB,GACb0B,KAAKoiB,UAAU9jB,GACf0B,KAAK8hB,OAAOxjB,EAAI7K,KAGlB+yB,oBAvQa,WAwQXxmB,KAAK2kB,SAAS,CAAEtC,cAAe,MAMjCoE,4BA9Qa,SA8Qe13B,GAC1BiR,KAAK0mB,eAAe33B,IAGtB43B,sBAlRa,WAmRP3mB,KAAK7S,MAAMy5B,2BAEf5mB,KAAK6mB,mBAGPC,uBAxRa,WAyRX9mB,KAAK2kB,SAAS,CAAEoC,kBAAmBh4B,GAAWwT,QAMhDykB,6BA/Ra,SA+RgBC,GAC3BjnB,KAAKid,YAAYgK,IAMnBC,6BAtSa,SAsSgBC,GAC3BnnB,KAAKid,WAAWkK,IAGlBC,sBA1Sa,WA2SX,IAAMC,EAAO,IAAIC,KACf,CAAC7nB,KAAKC,UAAUoJ,GAAsB9I,KAAK7S,OAAQ,KAAM,IACzD,CACE2C,KAAM,mCAIV,GAAe,IAAIy3B,MAAOC,cAAcxmB,MAAM,KAAvCymB,EAAP,qBAEAC,kBAAOL,EAAD,mBAAmBI,EAAnB,WAMRE,sBA1Ta,YA0TkB,IAAD,OAAPC,EAAO,qBACnBC,EAAT,aAAiBD,EAAjB,MACME,EAAa,IAAIC,WAEvBD,EAAWE,iBAAiB,WAAW,SAAAC,GACrC,IACE,IAAgBC,EAASD,EAAEE,WAAnBC,OACFj7B,EAAQ2b,GAAsBrJ,KAAK4oB,MAAMH,IAE/C,GACE94B,OAAOpB,KAAKb,GAAOya,MACjB,SAAAzZ,GAAG,cAAW,EAAKhB,MAAMgB,YAAgBhB,EAAMgB,MAGjD,MAAM,IAAIyrB,MT/ViB,mCSkW7B,EAAK+K,SAAL,2BACKza,GAA4B,2BAC1B,EAAKoe,sBACLn7B,KAHP,IAKEo7B,WAAW,KAGb,EAAKnS,iBAAiB,eAAgB,WACtC,MAAO6R,GACP56B,QAAQO,MAAMq6B,GACd,EAAK7R,iBAAiB6R,EAAEzV,QAAS,aAIrCsV,EAAWU,WAAWX,EAAKjM,UAGvB6M,sBA7VO,WA6VkB,IAAD,qIACtB,EAAKC,eADiB,OAE5B,EAAKtS,iBAAiBlH,GAAwB,QAFlB,8CAQ9ByZ,qBArWa,SAqWQC,GACnB5oB,KAAK2kB,SAAS,CAAEiE,cAGlBC,2BAzWa,SAyWcC,EAAIC,GAC7B/oB,KAAK2kB,SAAS,CAAEqE,iBAAkBD,KAGpCE,6CA7Wa,SA8WXH,EACAI,GAEAlpB,KAAK2kB,SAAS,CAAEuE,sCAGlBC,oCApXa,SAoXuBL,EAAI5kB,GACtClE,KAAK2kB,SAAS,CAAEzgB,6BAGlBklB,2BAxXa,SAwXcN,EAAIpe,GACzB1K,KAAK7S,MAAMwd,aAAepc,GAAemC,MAASga,GACpD1K,KAAKmmB,gBAGPnmB,KAAK2kB,SAAS,CAAEja,oBAGlB2e,8BAhYa,YAgY2C,IAAdnF,EAAa,EAAvBC,OAAUD,QACxClkB,KAAK2kB,SAAS,CAAE7G,kBAAmBoG,KAGrCoF,iCApYa,WAqYXtpB,KAAK0mB,eAAe33B,GAAWw6B,cAGjCC,yBAxYa,SAwYYV,EAAIW,GAAW,IAAD,OAChCA,GACHzpB,KAAKoW,iBT3Z8B,mBS2Zc,QAGnD,IAAQtC,EAAS9T,KAAK7S,MAAd2mB,KAORpI,YACE,kBACE,EAAKiZ,UAAS,kBACZ8E,EACI,CACEC,SAAS,WAAD,OAAaC,mBAAmB7V,KAE1C,CACE4V,SAAU,IACV1H,qBAAsB,SAGhC,IAIJ4H,iBApaa,SAoaI9V,GACf9T,KAAK2kB,UAAS,iBAAO,CACnB+E,SAAS,WAAD,OAAaC,mBAAmB7V,EAAK+V,QAAU34B,UAI3D44B,8BA1aa,WA2aX9pB,KAAK0mB,eAAe33B,GAAWg7B,gBCzbtBC,GAA4B,SAACz8B,EAAUg2B,EAAWJ,GAC7D51B,EAAS+1B,WAAWH,EAAQI,IAWjB0G,GAAqB,yCAAG,WACnC18B,EADmC,EAGnC41B,GAHmC,oBAAA7V,EAAA,sDAEjC4c,EAFiC,EAEjCA,WAAYC,EAFqB,EAErBA,aAGVC,GAAqB,EAEzB78B,EAASo3B,UACP,SAAAx3B,GAAU,IAAD,EACP,EAUIA,EATF+W,EADF,EACEA,wBACA8d,EAFF,EAEEA,qBACAqI,EAHF,EAGEA,WACAriB,EAJF,EAIEA,aACAvU,EALF,EAKEA,GACAmzB,EANF,EAMEA,0BACAxD,EAPF,EAOEA,MACAkH,EARF,EAQEA,cACAC,EATF,EASEA,cAGF,IAAKD,IAAkBC,EAErB,OADAl9B,QAAQO,MAAM,wCACP,KAGT,IAAM48B,EAAiBxiB,EAAanE,MAClC,qBAAGpQ,KAAgBuuB,KAGrB,GACE4E,GACAuD,EAAa12B,KAAOuuB,IACnBwI,EASD,OAPAD,EACE,CACEE,OAAQv7B,GAAwBw7B,2BAElCvH,GAGK,KAGT,IAAMwH,EAAiB,2BAClBT,GADkB,IAErB9kB,YACE8kB,EAAW/lB,kBAAoB1Q,EAC3By2B,EAAW9kB,YACX8kB,EAAW9kB,YAAc,IAGjC,YACEhW,OAAOwO,QAAQwlB,GAAOvf,MACpB,gBAAI+mB,EAAJ,4BAAkB,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMn3B,MAAOk3B,EAAkBxlB,kBAFjD,QAGO,GAHE0lB,EAAT,qBAKA,GAAKA,EAqBL,OAhBA19B,EAAQ0xB,GAA2B1xB,EAAOq9B,GAAgB,GAC1Dr9B,EAAQurB,GAAuBvrB,EAAOq9B,GACtCr9B,EAAQ+wB,GAAkB/wB,EAAD,YAAC,eACrBw9B,GADoB,IAEvBxlB,QAAS1R,KAEXtG,EAAQipB,GACNjpB,EACAunB,GAFuB,QAAD,gCAEI8V,EAAiBN,EAAaz2B,EAAKyQ,GAC7D,WAGFomB,EAAc,2BAAKE,GAAN,IAAsBtlB,uBAAuB,IAASie,GAEnEiH,GAAqB,EAEd,2BACFj9B,GADL,IAEE60B,qBAAsB2I,EAAkBl3B,GACxC42B,WACEM,EAAkBxmB,kBAAoB1Q,EAClC42B,EACAA,EAAa,EACnBzD,2BAA2B,EAC3BvE,cAAesI,EAAkBl3B,GACjC2vB,MAAM,2BACDA,GADA,mBAEFD,EAFE,2BAGE0H,GAHF,IAIDC,mBAAmB,2BAAMN,GAAP,IAAuBrlB,QAAS0lB,EAAap3B,WAjCnEpG,QAAQO,MAAR,2BAAkC+8B,EAAkBxlB,YApD1D,wBA0FE,uBAAAmI,EAAA,yDACO8c,EADP,iEAKQ9e,GAAM,KALd,uBAOQ/d,EAASm7B,eAPjB,OASEn7B,EAAS6oB,iBAAiBlH,GAAwB,QAClD3hB,EAASo3B,UAAS,iBAAO,CACvBiC,2BAA2B,MAX/B,4CAjGiC,2CAAH,0DAuHrBmE,GAA8B,SAACx9B,EAAUqnB,EAAauO,GACjE,IAAIiH,GAAqB,EAEzB78B,EAASo3B,UACP,SAAAx3B,GACE,MAQIA,EAPF+W,EADF,EACEA,wBACA8d,EAFF,EAEEA,qBACAha,EAHF,EAGEA,aACAqiB,EAJF,EAIEA,WACAW,EALF,EAKEA,kBACAv3B,EANF,EAMEA,GACA2vB,EAPF,EAOEA,MAGIzO,EAAgB3M,EAAanE,MACjC,qBAAGpQ,KAAgBuuB,KAGrB,IAAKrN,EAOH,OANAtnB,QAAQO,MAAR,mDAC8Co0B,EAD9C,4BAIA70B,EAAQipB,GAAiBjpB,EVzJ/B,sEUyJiE,SAEpD,2BACFA,GADL,IAEEy5B,2BAA2B,IAI/B,MAAyBx3B,OAAOwO,QAAQwlB,GAAOvf,MAC7C,wCAAMpQ,KAAiBmhB,EAAYzP,WAD5B0lB,EAAT,qBAIMI,EAAkB,2BACnBrW,GADmB,IAEtBxP,YACEwP,EAAYzQ,kBAAoB1Q,EAC5BmhB,EAAYxP,YACZwP,EAAYxP,YAAc,IAkBlC,OAfAjY,EAAQurB,GAAuBvrB,EAAOwnB,GACtCxnB,EAAQ+wB,GAAkB/wB,EAAD,YAAC,eACrB89B,GADoB,IAEvB9lB,QAAS1R,KAEXtG,EAAQipB,GACNjpB,EACAunB,GAFuB,QAAD,gCAEIC,EAAgBsW,EAAqBx3B,EAAKyQ,GACpE,WAGFgnB,aAAaF,GAEbZ,GAAqB,EAEd,2BACFj9B,GADL,IAEEk9B,WACEY,EAAmB9mB,kBAAoB1Q,EACnC42B,EACAA,EAAa,EACnBW,kBAAmB,KACnBpE,2BAA2B,EAC3B5E,qBAAsBiJ,EAAmBx3B,GACzC4uB,cAAe4I,EAAmBx3B,GAClC2vB,MAAM,2BACDA,GADA,mBAEFD,EAFE,2BAGE0H,GAHF,IAIDC,mBAAmB,2BAAMnW,GAAP,IAAsBxP,QAAS0lB,EAAap3B,aAtExE,wBA2EE,uBAAA6Z,EAAA,yDACO8c,EADP,iEAGQ78B,EAASm7B,eAHjB,OAKEn7B,EAAS6oB,iBAAiBlH,GAAwB,QALpD,6CAeSic,GAA8B,SAAC59B,EAAD,GAA0B,EAAbk9B,OAAc,IAC5DO,EAAsBz9B,EAASJ,MAA/B69B,kBAERE,aAAaF,GAEbz9B,EAASo3B,SAAS,CAChBqG,kBAAmB,KACnBpE,2BAA2B,IAG7Br5B,EAAS6oB,iBAAiB/G,GAAiC,U,0EClPvD+b,GAAe,SAAC,GAAe,IAAbna,EAAY,EAAZA,MAChBoa,EAAY,qBAClB,EAA4CC,mBAASra,GAArD,oBAAOsa,EAAP,KAAuBC,EAAvB,KACA,EAAkCF,mBAASD,GAA3C,oBAAOI,EAAP,KAAkBC,EAAlB,KACA,EAA0CJ,mBAASra,GAAnD,oBAAO0a,EAAP,KAAsBC,EAAtB,KACA,EAAgDN,qBAAhD,oBAAOO,EAAP,KAAyBC,EAAzB,KAoCA,OAlCAC,qBAAU,WACRH,EAAiB3a,KAChB,CAACA,EAAO2a,IAEXG,qBAAU,WACR,GAAI9a,IAAU0a,EAAe,CACvBE,GACFA,EAAiBG,SAGnB,IAAMC,EAAYC,iBAAM,CACtBC,OAAQ,cACRC,SAAU,IACVC,OAAQ,YAAuB,IAApB9nB,EAAmB,EAAnBA,MAAO0M,EAAY,EAAZA,MAChBya,EAAannB,GACbinB,EAAkBva,IAEpBvD,KAAM,CACJnJ,MAAO0M,EAAQ0a,EAAgB,iBAAmB,iBAClD1a,MAAO0a,GAETW,GAAI,CAAE/nB,MAAO8mB,EAAWpa,WAG1B6a,EAAoBG,GAGtB,OAAO,WACDJ,GACFA,EAAiBG,YAGpB,CAACH,EAAkB5a,EAAO0a,IAG3B,uBAEIY,MAAO,CACLhoB,MAAOknB,GAHb,SAOGtqB,GAAYoqB,MAKNiB,GAAS,SAAC,GAAD,IACpBlD,EADoB,EACpBA,iCACArY,EAFoB,EAEpBA,MACA6M,EAHoB,EAGpBA,kBACA1B,EAJoB,EAIpBA,oBACAqQ,EALoB,EAKpBA,UALoB,IAOpBC,iCAPoB,MAOQtQ,EAAoBxU,MAC9C,kBAA+B,UAA/B,EAAG+O,YARe,SAWpB,eAAC,KAAD,CAEIgW,UAAW,mBACXC,SAAU,QAHd,SAME,gBAACC,GAAA,EAAD,CAEIF,UAAW,UAFf,WAKI7O,GACA,uBAEI6O,UAAW,mCACX/O,QAAS0L,EAHb,UAME,eAACwD,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,CACQC,KAAMtxB,KAAK8E,IAAI,EAAG4b,EAAoB3e,OAAS,OAGxDivB,GACC,eAACI,GAAA,EAAD,CAEIH,UAAW,kBAFf,SAKE,eAACI,GAAA,EAAD,CAAgBn/B,OAAO,EAAMo/B,KAAM,UAK3C,eAACF,GAAA,EAAD,CAEIH,UAAW,eACXM,QAAS,KAHb,SAMGR,IAEH,eAACK,GAAA,EAAD,CAEIH,UAAW,gBACXM,QAAS,KAHb,SAME,eAAC,GAAD,CAAoBhc,kBAcb,SAASic,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAiBD,GAAcC,GAAaF,Q,8QC5IvCG,GAAgB,CAC3BC,UAAW,a,wCCePC,I,OAAoB,SAAC,GAAD,EACxBC,SADwB,IAExBjtB,EAFwB,EAExBA,IACAD,EAHwB,EAGxBA,IACAmtB,EAJwB,EAIxBA,SAEGx6B,GANqB,EAKxBy6B,kBALwB,gFAQxB,eAAC,KAAD,aACEC,mBAAiB,EACjBC,mBAAiB,GAFnB,2BAIO36B,GAJP,IAKI46B,eAAe,EACfC,aAAc,EACdC,OAAQ,IACRC,UAAW,oBAAGC,WAAH,OAAwB3tB,GAAO,SAA/B,MAAgB,EAAhB,IAAkDC,GAC7D2tB,cAAe,oBAAGD,WAAH,OAAwBR,OAAxB,MAAgB,EAAhB,UAKfU,GAAiB,SAAC,GAKjB,IAJLpH,EAII,EAJJA,6BACAE,EAGI,EAHJA,6BACA7T,EAEI,EAFJA,YACApC,EACI,EADJA,MAEA,EAA4Cqa,mBAC1C5vB,KAAK6E,IAAI8S,EAAapC,IADxB,oBAAOod,EAAP,KAAuBV,EAAvB,KASA,OALA5B,qBAAU,kBAAM4B,EAAkBjyB,KAAK6E,IAAI8S,EAAapC,MAAS,CAC/DoC,EACApC,IAIA,sBAAK0b,UAAU,iBAAf,SACE,gBAAC2B,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAEIC,OAAQ,eAAC,KAAD,IACRC,MAAO,eACPC,UAAW,6BAAIvtB,GAAYkS,OAG/B,gBAACsb,GAAA,EAAD,WACE,uBAAKhC,UAAU,iBAAf,UACE,eAACiC,GAAA,EAAD,CAEI37B,MAAOo7B,EACPQ,WAAY,CACVruB,IAAK6S,EACL9S,IAAK,EAILuuB,QAAS,UAGXpB,SAAUC,EACVoB,WAAY,CACVC,eAAgBxB,MAItB,eAACyB,GAAA,EAAD,CAEI1qB,MAAO,UACP2qB,SAA0B,IAAhB7b,EACV4Z,QAAS,YACTrP,QAAS,WACPoJ,EAA6BqH,GAC7BV,EAAkBta,EAAcgb,IAPtC,2BAaA,uGAES1sB,GAAarS,IAFtB,6FAGoE,IACjEC,EAJH,yDAKoB4/B,EALpB,qCASF,gBAACF,GAAA,EAAD,CAEI1qB,MAAO,YACP2qB,SAAUje,GAAS3hB,GACnBsuB,QAAS,WACPsJ,EAA6B53B,IAC7Bq+B,EACEjyB,KAAK6E,IACHG,GAAW2tB,EAAgB/+B,IAC3BoR,GAAWuQ,EAAO3hB,OAIxB29B,QAAS,YAbb,wBAgBctrB,GAAarS,IAhB3B,oBA+BK,SAAS49B,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAyBD,GAAcC,GAAaF,Q,4CC1ItDiC,I,OAAkB,WA8DTC,GA3DK,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACrB,EAAkDhE,mBAAS,GAA3D,oBAAOiE,EAAP,KAA0BC,EAA1B,KACA,EAA4ClE,mBAAS8D,IAArD,oBAAOK,EAAP,KAAuBC,EAAvB,KACA,EAAgDpE,qBAAhD,oBAAOO,EAAP,KAAyBC,EAAzB,KAgCA,OA9BAC,qBAAU,WACR,IAAKF,EAAkB,CACrB,IAAMI,EAAYC,iBAAM,CACtByD,MAAO,IACPxD,OAAQ,gBACRC,SAAU,KACV1e,KAAM,CAAEkiB,eAAgB,GACxBtD,GAAI,CAAEsD,eAAgBN,GACtBjD,OAAQ,YAAyB,IAAtBuD,EAAqB,EAArBA,eACTJ,EAAqBI,EAAeztB,QAAQ,IAC5CutB,EACEG,uBACE,CAAEtrB,MAAO6qB,IACT,CAAE7qB,MApBM,WAqBRqrB,EAAiB,KACjBrrB,UAKRunB,EAAoBG,GAGtB,OAAO,WACDJ,GACFA,EAAiBG,YAGpB,CAACH,EAAkByD,IAGpB,uBAAK3C,UAAU,cAAf,UACE,sBAAWA,UAAW,mBAAtB,SACE,sBAEIA,UAAW,WACXJ,MAAO,CACLuD,WAAYL,EACZ1hB,MAAM,GAAD,OAAKwhB,EAAL,UAKb,6BACE,kCAAOA,EAAP,a,qBC5CFQ,I,OAAc,SAAC,GAAD,QAClB9d,YAAezb,EADG,EACHA,YAAa/C,EADV,EACUA,GAAIK,EADd,EACcA,KAAMwd,EADpB,EACoBA,kBACtC1F,EAFkB,EAElBA,sBAFkB,IAIlBokB,kBAJkB,MAIL9jC,QAAQ0f,EAAsBnY,IAJzB,SAMlB,gBAAC66B,GAAA,EAAD,CACQ3B,UAAWsD,KAAW,cAAe,CAAE,cAAeD,IAD9D,UAGE,eAACzB,GAAA,EAAD,CAEIC,OAAQwB,EAAa,eAAC,KAAD,IAAmB,eAAC,KAAD,IACxCvB,MAAO36B,EACP46B,UAAW,0CAAYpd,OAG3B,eAACqd,GAAA,EAAD,UACE,6BAAIn4B,WAWK,SAAS02B,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAsBD,GAAcC,GAAaF,Q,WC/BnD+C,GAAwBjwB,IAAQ,SAAA2L,GAAqB,OACzDyF,GAAapjB,QACX,SAACC,EAAK+jB,GAKJ,OAJA/jB,EACE0d,EAAsBqG,EAAYxe,IAAM,WAAa,cACrDsT,KAAKkL,GAEA/jB,IAET,CAAEiiC,SAAU,GAAIC,WAAY,QAI1BC,GAAmB,SAAC,GAAD,IAAGhf,EAAH,EAAGA,aAAH,OACvB,eAACif,GAAA,EAAD,UACE,qBAAI3D,UAAU,YAAd,SACGtb,EAAavY,KAAI,SAAAmZ,GAAW,OAC3B,qBAAU9jB,IAAK8jB,EAAYxe,GAA3B,SACE,eAAC,GAAD,CAAmBwe,0BAOvBse,GAAmB,SAAC,GAAD,IACvB3kB,EADuB,EACvBA,sBADuB,IAEvB4kB,wBAA2BL,GAFJ,aAE6BD,GAClDtkB,GAHqB,GAEIukB,SAAUC,EAFd,EAEcA,WAFd,OAMvB,uBAAKzD,UAAU,mBAAf,UACE,eAAC,GAAD,CACQ2C,QAAUa,EAAS1yB,OAAS4T,GAAa5T,OAAU,MAE1D0yB,EAAS1yB,OACR,uCACE,gBAACgzB,GAAA,EAAD,CAAiBC,iBAAiB,EAAlC,UACE,eAACC,GAAA,EAAD,UACE,8CAEF,eAAC,GAAD,CAAwBtf,aAAc8e,OAExC,eAACS,GAAA,EAAD,OAEA,KACJ,gBAACH,GAAA,EAAD,CAAiBC,iBAAiB,EAAlC,UACE,eAACC,GAAA,EAAD,UACE,kDAEF,eAAC,GAAD,CAAwBtf,aAAc+e,WAS7B,SAASlD,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAA2BD,GAAcC,GAAaF,Q,kCCpEjD0D,I,OAAU,SAAC,GAAD,IAAGxW,EAAH,EAAGA,gBAAiB+B,EAApB,EAAoBA,oBAApB,OACrB,uBAAKuQ,UAAU,iCAAf,UACE,wCACA,8BACGvQ,EAAoBtjB,KAAI,gBAAG0Z,EAAH,EAAGA,QAASoL,EAAZ,EAAYA,QAASjH,EAArB,EAAqBA,SAArB,OACvB,qBAAUxoB,IAAKqkB,EAAf,SACE,eAACse,GAAA,EAAD,CAAaC,UAAW,EAAGnT,UAASjH,WAApC,SACE,eAAC,KAAD,CAAqBqa,OAAQxe,aAKrC,eAACoe,GAAA,EAAD,IACA,8BACGvW,EAAgBvhB,KAAI,WAAyBoD,GAAzB,IAAG0e,EAAH,EAAGA,IAAKL,EAAR,EAAQA,cAAR,OACnB,gCACE,uCAASK,KACR,CAAC,UAAW,OAAQ,UAAW,SAAS9hB,KAAI,SAAC6d,EAAUza,GAAX,OAC3Cqe,EAAc5D,GAAUlZ,OACtB,eAACqzB,GAAA,EAAD,CAAaC,UAAW,EAAG5iC,IAAI,GAAD,OAAKwoB,EAAL,YAAiBza,GAAKya,WAApD,SACG4D,EAAc5D,GAAU7d,KAAI,SAAC0Z,EAASye,GAAV,OAC3B,eAAC,KAAD,CACQ9iC,IAAI,GAAD,OAAK8iC,EAAL,YAAUze,GAAWwe,OAAQxe,SAI1C,UAXR,UAAYtW,EAAZ,YAAiBqe,EAAcC,KAAK5G,mBAwB7B,SAASsZ,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAkBD,GAAcC,GAAaF,Q,aCtBtC+D,G,oDAxBb,WAAY/D,GAAQ,IAAD,+BACjB,cAAMA,IACDhgC,MAAQ,CAAEgkC,UAAU,GAFR,E,sDASnB,SAAkBvjC,EAAOwjC,GACvB/jC,QAAQO,MAAMA,EAAOwjC,K,oBAGvB,WACE,OAAIpxB,KAAK7S,MAAMgkC,SACN,KAGFnxB,KAAKmtB,MAAMkE,Y,uCAbpB,SAAgCzjC,GAC9B,MAAO,CAAEujC,UAAU,O,GAPYG,IAAMC,W,gDCEnCC,I,OAAY,SAAC,GAAD,IAAG7sB,EAAH,EAAGA,kBAAH,OAChB,qBAAUgoB,UAAW,YAArB,SACGv9B,OAAOpB,KAAK2W,GACVyH,OACAtT,KAAI,SAAAyL,GAAK,OACR,eAACktB,GAAA,EAAD,CAEItjC,IAAKoW,EACLmtB,OAAO,EACPC,UAAW,MACXlD,MAAOhf,GAAgBlL,GAL3B,SAQE,qBAAUooB,UAAWpoB,EAAMqtB,yBAUtBC,kBAAKL,ICHdM,I,OAAc,SAACC,EAAYC,GAAb,OAClBD,EAAa,GAAMC,IAEfC,GAAgBhyB,IAAQ,SAAA+H,GAAY,OACxCA,EAAa/Z,QAAO,SAACC,EAAKoQ,GAExB,OADApQ,EAAIoQ,EAAI7K,IAAM6K,EACPpQ,IACN,OAiJUgkC,GA9IG,SAAC,GAYZ,IAXLC,EAWI,EAXJA,kBACA7zB,EAUI,EAVJA,IACAyQ,EASI,EATJA,eACAiT,EAQI,EARJA,qBACAha,EAOI,EAPJA,aACAiW,EAMI,EANJA,SACAgG,EAKI,EALJA,4BACAG,EAII,EAJJA,qBACAgO,EAGI,EAHJA,sBACA3+B,EAEI,EAFJA,GACA4+B,EACI,EADJA,eAEML,EAAqC,GAAhB1zB,EAAIyG,UACzButB,EAAkBxjB,GAAmBxQ,EAAKyQ,GAC1CwjB,EACsB,OAA1BxjB,EAAeC,QAA6C,OAA1BD,EAAeE,OAE7CujB,IAAyBxqB,EAAanE,MAC1C,qBAAGpQ,KAAgBuuB,KAGjByQ,GAA2BF,IAAsBC,EAErD,GAAIC,EAAyB,CAAC,IAAD,EACrBC,EAAe,UAAG3jB,EAAeE,cAAlB,QAA4BF,EAAeC,OAExC,OAApB0jB,IACFD,EACEn0B,EAAIgG,SAAW2tB,GAAcjqB,GAAc0qB,GAAiBpuB,QAIlE,IAAMquB,GACHF,IAA4BH,EAEzBM,EACJP,GAAkB5+B,IAAO6K,EAAI6F,iBAAmB1Q,IAAO6K,EAAI6G,QAE7D,OACE,uBAAWwnB,UAAW,YAAtB,UACE,eAAC,GAAD,CAAiBhoB,kBAAmBrG,EAAIqG,oBACvC0tB,GACC,+BACG/zB,EAAIsG,QADP,IACiC,IAAhBtG,EAAIsG,QAAgB,MAAQ,OAD7C,UAIF,yCAAW6K,GAAgBnR,EAAIiG,UAC/B,+BACG8tB,EAAiB,QAAU,QAD9B,KACyClxB,GAAY8c,MAErD,0CAAYpY,GAAavH,GAAzB,YACE+zB,GAAkBF,IAClB,gDAAkBvwB,GAActD,EAAI8G,gBAErCwtB,GACC,kDACkB,kCAAS/nB,GAAcvM,EAAI6F,sBAG9CkuB,GACC,uCACE,qBAAI1F,UAAU,SAAd,SACG9kB,GAAU,IAAI/O,KAAI,SAAC+5B,EAAO32B,GAAR,OACjB,8BACE,eAAC,KAAD,CAEI8wB,KAAM8E,GAAY51B,EAAG81B,GACjBc,KACAC,KACJpG,UAAWsD,KAAW,QAAS,CAC7B,UAAW6B,GAAY51B,EAAG81B,QAPlC,UAAY1zB,EAAI7K,GAAhB,YAAsByI,SAc1B,eAACu1B,GAAA,EAAD,CAEIC,OAAO,EACPC,UAAW,MACXlD,MAAM,yBAAD,OAA2BnwB,EAAIxK,KAA/B,mBAA8CsE,GAAetE,KAA7D,wGAJT,SAOE,eAACk/B,GAAA,EAAD,CAEIC,QACE,eAACC,GAAA,EAAD,CAEI3uB,MAAO,UACP2f,QAAS5lB,EAAI4G,sBACbwoB,SAAU,SAAAzF,GAAC,OACThE,GACAA,EAA4BgE,EAAG3pB,MAIvC4wB,UAAW5wB,EAAI4G,wBAA0BktB,EACzCe,MAAO,wBAIb,eAAC1B,GAAA,EAAD,CAEIC,OAAO,EACPC,UAAW,MACXyB,qBAAsBT,EACtBU,qBAAsBV,EACtBW,qBAAsBX,EACtBlE,MAAO6D,EAAe,qCACYh0B,EAAIxK,KADhB,yDAGhBwK,EAAIxK,KAHY,+CAKhBwK,EAAIgG,SAAW3V,GAAQ+V,KAAO,SAAW,OALzB,SAP1B,SAgBE,eAACsuB,GAAA,EAAD,CAEIC,QACE,eAACC,GAAA,EAAD,CAEI3uB,MAAO,UACP2f,QAASoO,EACT5E,SAAU,SAAAzF,GAAC,OACT7D,GAAwBA,EAAqB6D,EAAG3pB,MAIxD4wB,UAAUoD,IAA2BG,EACrCU,MAAO,mBC1IjBI,I,OAAW,sBACd5kC,GAAQ+W,OAAS8tB,MADH,gBAEd7kC,GAAQ+V,KAAO+uB,MAFD,IAKJC,GAAU,SAAC,GAyBjB,IAxBLxvB,EAwBI,EAxBJA,wBACA5F,EAuBI,EAvBJA,IACAyQ,EAsBI,EAtBJA,eACAiT,EAqBI,EArBJA,qBACAha,EAoBI,EApBJA,aACA2rB,EAmBI,EAnBJA,UACA1P,EAkBI,EAlBJA,4BACAG,EAiBI,EAjBJA,qBACAC,EAgBI,EAhBJA,kBAEAC,GAcI,EAfJE,yBAeI,EAdJF,qBACAT,EAaI,EAbJA,uBACAU,EAYI,EAZJA,uBACAT,EAWI,EAXJA,mBACAC,EAUI,EAVJA,oBACAtwB,EASI,EATJA,GACAmF,EAQI,EARJA,UACAg7B,EAOI,EAPJA,2BACAC,EAMI,EANJA,WACAC,EAKI,EALJA,SACA7iB,EAII,EAJJA,MACAQ,EAGI,EAHJA,gBAGI,IADJ2gB,6BACI,MADoBzqB,GAA8B/O,GAClD,EACE4b,EAAiBxQ,GAAkB1F,EAAK7K,EAAIyQ,GAElD,EAAsConB,mBAAS9W,GAA/C,oBAAOuf,EAAP,KAAoBC,EAApB,KACA,EAAgC1I,mBAAS3c,IAAzC,oBAAOslB,EAAP,KAAiBC,EAAjB,KACMC,EAAUC,mBACVC,EAAkBD,mBAElB/B,IACFrqB,EAAanE,MAAK,qBAAGpQ,KAAgB6K,EAAI7K,QAC1CmgC,EACG3V,EAAWnY,GAAYxH,EAAK+zB,GAC5BiC,EACJR,IAAahlB,GAAmBxQ,EAAKyQ,GACjCojB,EAAoBjmC,QACxB0nC,GAA8B5R,EAAqBvkB,OAAS,GAwB9D,OArBAsuB,qBAAU,WACP,wBAAC,uBAAAze,EAAA,kEACA4mB,EADA,SACkBtlB,GAAYtQ,GAD9B,4EAAD,GAID01B,EAAehwB,GAAkB1F,EAAK7K,EAAIyQ,MACzC,CAAC5F,EAAK7K,EAAIyQ,IAEb6nB,qBAAU,WACR,GAAI8H,EAAY,CACd,IAAiBU,EAAiBF,EAA1BG,QACSC,EAASN,EAAlBK,QACR,IAAKD,IAAiBE,EAAM,OAGxBF,EAAaG,iBtB6oCK,SAAAC,GAC1B,MAAqCA,EAAQC,wBAArCC,EAAR,EAAQA,IAAKC,EAAb,EAAaA,KAAMC,EAAnB,EAAmBA,OAAQC,EAA3B,EAA2BA,MAE3B,OACEH,GAAO,GACPC,GAAQ,GACRC,IAAW5oC,OAAO8oC,aAAevoB,SAASwoB,gBAAgBC,eAC1DH,IAAU7oC,OAAO6a,YAAc0F,SAASwoB,gBAAgBE,asBppClBC,CAAaZ,IAC/CF,EAAaG,eAAe,CAAEY,SAAU,cAG3C,CAACzB,IAGF,uCACE,oBAEIlH,UAAW,wBACX4I,KAAK,QAAD,OAAUj3B,EAAI7K,IAClB+hC,IAAKnB,EAJT,kBASA,gBAAC/F,GAAA,EAAD,CAEI3B,UAAWsD,KAAW,UAAW,CAC/B,cAAe4D,EACf,eAAgBxB,IAElBoD,OAAQ5B,EACR2B,IAAKrB,EAPT,UAUGN,GACC,wBAAMlH,UAAU,kBAAhB,UACGoH,EADH,4BAIF,eAACxF,GAAA,EAAD,CAEIC,OAAQ,sBAAWkH,IAAKzB,EAAY0B,IAAI,QACxClH,MACE,uCACG4D,EACC,eAACzD,GAAA,EAAD,CAEIM,SAAUz7B,IAAO6K,EAAI6F,gBACrBupB,SAAU,SAAAzF,GACJ0L,IACFK,EAAe/L,EAAE9D,OAAOlxB,OACxB0gC,EAAUnP,yBAAV,eAAwCyD,GAAK3pB,KAGjDs3B,YAAa,OACb3iC,MAAO8gC,IAIXA,EACC,IACH,eAAC,KAAD,CAEI/G,KAAMuG,GAAYj1B,EAAIgG,aAK9BoqB,UACE,eAAC,GAAD,CAEIyD,oBACA7zB,MACAyQ,iBACAiT,uBACAha,eACAiW,WACAmG,uBACAH,8BACAmO,wBACA3+B,KACA4+B,qBAMV,gBAACwD,GAAA,EAAD,YACIxD,IAAmBuB,GACnB,eAAC3E,GAAA,EAAD,CAEItC,UAAW,WACXpoB,MAAO,UACP2qB,SACEjR,EAAWhN,GACXjJ,EAAavK,QACXzN,GAAsB0pB,IAAIjI,GAAiBxhB,KAC/C2tB,QAAS,kBAAMiG,EAAuBvlB,IACtC2uB,QAAS,YATb,iBAeDkF,GACC,eAACV,GAAA,EAAD,CAEIC,OAAO,EACPC,UAAW,MACXlD,MAAO,sDAJX,SAOE,eAACQ,GAAA,EAAD,CAEItC,UAAW,WACXpoB,MAAO,UACPqZ,QAAS,kBAAMmG,EAAoBzlB,IACnC2uB,QAAS,YALb,qBAYHoF,GACC,uCACE,eAACpD,GAAA,EAAD,CAEItC,UAAW,MACXpoB,MAAO,UACPqZ,QAAS,kBAAMyG,GAAqBA,EAAkB/lB,IACtD2uB,QAAS,YALb,iBAUCqH,IACEtS,IAAyB1jB,EAAI7K,GAC5B,eAACg+B,GAAA,EAAD,CAEIC,OAAO,EACPC,UAAW,MACXlD,MAAOha,GAAF,+BAA4BD,GAJrC,SAOE,eAACya,GAAA,EAAD,CAEItC,UAAW,QACXpoB,MAAO,UACPqZ,QAAS,WACP2G,GAA0BA,EAAuBjmB,IAEnD2uB,QAAS,YAPb,wBAcF,eAACwE,GAAA,EAAD,CAEIC,OAAO,EACPC,UAAW,MACXlD,MAAOla,GAAF,+BAAwBC,GAJjC,SAOE,eAACya,GAAA,EAAD,CAEItC,UAAW,QACXpoB,MAAO,UACPqZ,QAAS,WACP0G,GAAuBA,EAAoBhmB,IAE7C2uB,QAAS,YAPb,sBAcN,eAACgC,GAAA,EAAD,CAEItC,UAAW,OACXpoB,MAAO,YACPqZ,QAAS,kBAAMkG,EAAmBxlB,IAClC2uB,QAAS,YALb,+BA2CC,SAASC,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAkBD,GAAcC,GAAaF,Q,WC9PtC2I,GA3CI,SAAC,GAEb,IAAD,IADJlL,KAAQE,EACJ,EADIA,mBAAoBxQ,EACxB,EADwBA,SAAU7mB,EAClC,EADkCA,GAAImG,EACtC,EADsCA,UAAWqX,EACjD,EADiDA,MAErD,OACE,8BACE,gBAACqd,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAEIE,MAAO5jB,GAAcpX,GACrBi7B,UACE,iCACE,uCAAS9sB,GAAc0Y,MACvB,wCACS,IACN1Y,GAAcuG,GAAcF,GAAiBrO,QAEhD,yCAAWuH,GAAY8P,WAK/B,eAAC0d,GAAA,EAAD,UACG7D,GACC,eAAC,GAAD,CACQxsB,IAAKwsB,EAAoB8I,4BAA4B,YCtBnEmC,I,OAAkB,SAAC,GAOlB,IANLC,EAMI,EANJA,cACAhU,EAKI,EALJA,qBACAha,EAII,EAJJA,aACAvU,EAGI,EAHJA,GACAgwB,EAEI,EAFJA,mBACAL,EACI,EADJA,MAEM6S,EAAW7mC,OAAOpB,KAAKo1B,GAEvB0H,EAAqB9iB,EAAanE,MACtC,qBAAGpQ,KAAgBuuB,KAIfkU,EAAiBD,EAASzvB,QAAO,SAAA2c,GAAM,OAAIC,EAAMD,MAEvD,OACE,uBAAWwJ,UAAW,kBAAtB,UACGqJ,EAAgB,EAAIE,EAAez4B,QAAU,sDAC9C,mDACA,eAAC6wB,GAAA,EAAD,UACE,eAACK,GAAA,EAAD,UACE,kCAAS9jB,GAAcpX,SAG1Bq3B,GACC,uCACE,eAAC8F,GAAA,EAAD,IACA,iEACA,eAAC,GAAD,CAAetyB,IAAKwsB,OAGvBoL,EAAez4B,OAAS,GACvB,uCACE,eAACmzB,GAAA,EAAD,IACA,qBAAIjE,UAAU,YAAd,SACGxlB,KAAO+uB,EAAgB,CACtB,SAAA/S,GAAM,OAEHhb,GAAcF,GAAiBmb,EAAMD,GAAQvpB,WAAa,OAC5Dd,KAAI,SAAAqqB,GAAM,OACX,eAAC,GAAD,CAA4Bh1B,IAAKg1B,EAAjC,SACE,eAAC,GAAD,CAAkByH,KAAMxH,EAAMD,eAMvCM,EAAmBhmB,OAAS,GAC3B,uCACE,eAACmzB,GAAA,EAAD,IACA,8BACGnN,EAAmB3qB,KAAI,WAAqCoD,GAArC,IAAGzI,EAAH,EAAGA,GAAI+e,EAAP,EAAOA,QAAP,IAAgBmE,gBAAhB,MAA2B,OAA3B,SACtB,qBAAUxoB,IAAK+N,EAAf,SACE,eAAC40B,GAAA,EAAD,CAAaC,UAAW,EAAGpa,WAA3B,SACE,eAAC,KAAD,CACQqa,OAAO,KAAD,OAAOnmB,GAAcpX,GAArB,cAA8B+e,sBAqB/C,SAAS0a,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAA0BD,GAAcC,GAAaF,Q,8CChGvDgJ,I,OAAmB,SAAA/0B,GAAM,gBAAOA,KA8CvBg1B,GA5CQ,SAAC,GAA8C,IAA5Ch1B,EAA2C,EAA3CA,OAA2C,IAAnCi1B,iBAAmC,MAAvBF,GAAuB,EACnE,EAA8C7K,mBAASlqB,GAAvD,oBAAOk1B,EAAP,KAAwBC,EAAxB,KACA,EAA4CjL,mBAASlqB,GAArD,oBAAOo1B,EAAP,KAAuBC,EAAvB,KACA,EAAgDnL,qBAAhD,oBAAOO,EAAP,KAAyBC,EAAzB,KAiCA,OA/BAC,qBAAU,WACR0K,EAAkBr1B,KACjB,CAACA,EAAQq1B,IAEZ1K,qBAAU,WACR,GAAI3qB,IAAWo1B,EAAgB,CACzB3K,GACFA,EAAiBG,SAGnB,IAAMC,EAAYC,iBAAM,CACtBC,OAAQ,cACRC,SAAU,IACVC,OAAQ,YAAiB,IAAdjrB,EAAa,EAAbA,OACTm1B,EAAmBn1B,IAErBsM,KAAM,CACJtM,OAAQo1B,GAEVlK,GAAI,CAAElrB,YAGR0qB,EAAoBG,GAGtB,OAAO,WACDJ,GACFA,EAAiBG,YAGpB,CAACH,EAAkBzqB,EAAQo1B,IACvB,uBAAM7J,UAAU,iBAAhB,SAAkC0J,EAAUC,MC9B/CI,I,OAAuB,SAAC,GAAD,EAAGjJ,SAAH,EAAaltB,IAAb,IAAkBC,EAAlB,EAAkBA,IAAKktB,EAAvB,EAAuBA,SAAax6B,EAApC,2DAC3B,eAAC,KAAD,aACEyjC,iBAAe,EACf9I,mBAAiB,GAFnB,2BAIO36B,GAJP,IAKI46B,eAAe,EACfC,aAAc,EACdI,cAAe,oBAAGD,kBAAH,MAAgB,EAAhB,SACbR,EAAShyB,KAAK6E,IAAI2tB,EAAY1tB,WAKhCo2B,GAAoB,SAAC,GAAD,IACxBC,EADwB,EACxBA,aACAC,EAFwB,EAExBA,mBACAC,EAHwB,EAGxBA,YACA9jC,EAJwB,EAIxBA,MAJwB,OAMxB,eAAC27B,GAAA,EAAD,CAEI37B,QACA47B,WAAY,CACVC,QAAS,SACTvuB,IAAK,EACLC,IAAKu2B,GAEPrJ,SAAUoJ,EACVE,QAAS,WAEPF,OAAmBjZ,IAGrBoZ,QAAS,YAEO,KAFQ,EAAZC,OAGRL,KAIJ9H,WAAY,CACVC,eAAgB0H,OAMlBS,GAAgB,SAAC,GAAD,IACpBN,EADoB,EACpBA,aACAC,EAFoB,EAEpBA,mBACAC,EAHoB,EAGpBA,YACAK,EAJoB,EAIpBA,YACAnkC,EALoB,EAKpBA,MALoB,OAOpB,uBAAK05B,UAAU,gBAAf,UACE,eAAC,GAAD,CACQkK,eAAcC,qBAAoBC,cAAa9jC,UAEvD,wBAAM05B,UAAU,WAAhB,cACI,IACF,eAAC,GAAD,CAAsBvrB,OAAQ21B,EAAaV,UAAWz0B,QAExD,uBAAK+qB,UAAU,0BAAf,UACE,eAAC0K,GAAA,EAAD,CACEnI,UAAWj8B,EAET,aAAc,YACdsR,MAAO,UACPqZ,QAAS,kBAAMwZ,IAAcnkC,EAAQ8jC,EAAc,EAAI9jC,IACvDqkC,KAAM,QANV,SASE,eAAC,KAAD,MAEF,eAACD,GAAA,EAAD,CACEnI,UAAWj8B,EAET,aAAc,YACdsR,MAAO,UACPqZ,QAAS,kBAAMwZ,EAAwB,MAAVnkC,EAAc8jC,EAAc9jC,IACzDqkC,KAAM,QANV,SASE,eAAC,KAAD,aAcRH,GAAcI,aAAe,CAC3BtkC,MAAO,GAGMkkC,UCnFTK,I,OAAO,cAEPC,GAAiB,SAAC,GAAD,IAAGC,EAAH,EAAGA,UAAH,OACrB,eAACjG,GAAA,EAAD,CAEIC,OAAO,EACPC,UAAW,MACXlD,MAAM,GAAD,OAAKiJ,EAAY,OAAS,OAA1B,gBAJT,SAOGA,EACC,eAAC,KAAD,CAAmBnzB,MAAM,UAEzB,eAAC,KAAD,CAAiBA,MAAM,eAKvBozB,GAAyB,SAAC,GAAD,IAC7BlkC,EAD6B,EAC7BA,GACAR,EAF6B,EAE7BA,MACA+O,EAH6B,EAG7BA,iBAH6B,IAK7B01B,iBAL6B,MAKjBzkC,EAAQiG,GAASzF,GAAIR,MALJ,SAO7B,eAAC,GAAD,CAEIQ,KACAikC,YACAzkC,QACA+O,sBAKA41B,GAAqB,SAAC,GAAD,IACzBnkC,EADyB,EACzBA,GACAR,EAFyB,EAEzBA,MACA+O,EAHyB,EAGzBA,iBAHyB,IAKzB01B,iBALyB,MAKbzkC,EAAQiG,GAASzF,GAAIR,MALR,SAOzB,eAAC,GAAD,CAEIQ,KACAikC,YACAzkC,QACA+O,sBAKO61B,GAAO,SAAC,GAqCd,IApCLjsB,EAoCI,EApCJA,sBACA8X,EAmCI,EAnCJA,wBACAoB,EAkCI,EAlCJA,sBACAL,EAiCI,EAjCJA,oBACAnO,EAgCI,EAhCJA,2BACA1d,EA+BI,EA/BJA,UACA6O,EA8BI,EA9BJA,eACAqwB,EA6BI,EA7BJA,eACAC,EA4BI,EA5BJA,aACAlE,EA2BI,EA3BJA,WACAmE,EA0BI,EA1BJA,WACAj/B,EAyBI,EAzBJA,KAyBI,IAxBJA,KAAQvC,EAwBJ,EAxBIA,YAAarD,EAwBjB,EAxBiBA,mBAAoBM,EAwBrC,EAxBqCA,GAAIqE,EAwBzC,EAxByCA,cAAehE,EAwBxD,EAxBwDA,KAC5Dmd,EAuBI,EAvBJA,MACAgnB,EAsBI,EAtBJA,0BACAC,EAqBI,EArBJA,aACAl2B,EAoBI,EApBJA,iBAoBI,IAjBJm2B,qBAiBI,MAjBYH,GAAc51B,GAAiBrJ,GAC3CsJ,GAAetJ,GACfgJ,GAAoBhJ,EAAMiJ,GAe1B,MAbJo2B,gCAaI,MAbwBJ,GAAc51B,GAAiBrJ,IACrB,IAAtCud,EAA2B7Y,SAC1BtK,EACG,KACA4O,GAAoBhJ,EAAMud,EAA2B,IASrD,MAPJ+hB,oCAOI,MAP2B38B,KAAK8E,IAClC,EACA9E,KAAK6E,IACH7E,KAAK4H,MAAM2N,EAAQknB,GACnB3wB,GAAwB,CAAE5O,YAAW6O,qBAGrC,EACJ,EAAgD6jB,mBAAS,GAAzD,oBAAOxhB,EAAP,KAAyBwuB,EAAzB,KACA,EAAwChN,mBAAS,GAAjD,oBAAOiN,EAAP,KAAqBC,EAArB,KAEAzM,qBAAU,WAGRuM,EACE58B,KAAK6E,IAAI83B,EAA8B38B,KAAK8E,IAAI,EAAGsJ,OAEpD,CAACuuB,EAA8BvuB,IAElCiiB,qBAAU,WACRyM,EAAgB98B,KAAK6E,IAAI03B,EAA0BxkC,GAAK8kC,MACvD,CAAC9kC,EAAIwkC,EAA2BM,IAEnC,IAAME,EAAqB,WACzB/U,EAAwB3qB,EAAM+Q,GAC9BwuB,EAAoB58B,KAAK6E,IAAI,EAAG83B,KAE5BK,EAAiB,WACrBjU,EAAoB1rB,EAAMw/B,GAC1BC,EAAgB98B,KAAK6E,IAAI,EAAG03B,EAA0BxkC,MAGlD+6B,EAAS,sBAAWkH,IAAK18B,GAAMvF,GAAOkiC,IAAK7hC,IAE7C6kC,EAAYR,EAQhB,OAJKS,GAAYxxB,IAAI3T,KACnBklC,GAAahtB,GAAuBC,IAIpC,gBAAC0iB,GAAA,EAAD,CAEI3B,UAAWsD,KAAW,OAAQ,CAC5B,gBAAiB8H,EACjB,cAAelE,IAEjBjW,QAASma,EAAe,kBAAMjT,EAAsB/rB,IAAQy+B,GAC5D/B,OAAQ5B,EAPZ,UAUE,eAACtF,GAAA,EAAD,CAEIC,QACGsJ,GAAkBthC,EACjB,eAACi7B,GAAA,EAAD,CAEIC,OAAO,EACPC,UAAW,MACXlD,MAAO,eAAC3B,GAAA,EAAD,UAAat2B,IAJxB,SAOGg4B,IAGHA,EAEJC,MAAO36B,EACP46B,UACE,iCACGoJ,GACC,+BACE,eAACrG,GAAA,EAAD,CAEIC,OAAO,EACPC,UAAW,MACXlD,MAC+B,OAA7B2J,EACI,GADJ,6BAE0Bj3B,GACpBi3B,IARZ,SAYE,2CACS,IACP,eAAC,GAAD,CACQh3B,OAAQ+2B,EAAe9B,UAAWl1B,UAI7CyK,EAAsB,4BACrB5J,EAAiBvO,IACf,eAAC,GAAD,CACQA,KAAIR,MAAOklC,EAAen2B,wBAKzCg2B,GACC,+BACE,eAACvG,GAAA,EAAD,CAEIC,OAAO,EACPC,UAAW,MACXlD,MAC+B,OAA7B2J,EACI,GADJ,kCAE+Bj3B,GACzBi3B,IARZ,SAYE,gDACc,IACZ,eAAC,GAAD,CACQh3B,OAAQu3B,EAAWtC,UAAWl1B,UAIzCyK,EAAsB,4BACrB5J,EAAiBvO,IACf,eAAC,GAAD,CACQA,KAAIR,MAAOklC,EAAen2B,wBAKzCk2B,GACC,+BACE,oDAA+B,IAC/B,eAAC,GAAD,CAEI92B,OAAQ62B,EAA0BxkC,GAClC4iC,UAAWz0B,QAKlBk2B,GAAkB/+B,EAAKnG,WACtB,iDACkB,IACfkQ,GAAyBY,GAA6B3K,YAOlE++B,IAAmBthC,GAAesB,IACjC,gBAAC62B,GAAA,EAAD,WACGn4B,GAAe,eAACs2B,GAAA,EAAD,UAAat2B,IAC5BsB,GACC,eAACg1B,GAAA,EAAD,CAAkBvoB,MAAO,gBAAzB,kIAON,gBAACsxB,GAAA,EAAD,WACGkC,GACC,eAAC9I,GAAA,EAAD,CAIItC,UAAW,SACXpoB,MAAO,UACP0oB,QAAS4G,EAAa,YAAc,WANxC,oBAYDiE,GACC,uCACE,eAAC7I,GAAA,EAAD,CAEItC,UAAW,WACXpoB,MAAO,UACP2qB,UACGplB,GAAoBquB,EAAgBruB,EAAmBmH,EAC1D2M,QAAS6a,EACTxL,QAAS,YAPb,iBAYA,eAAC,GAAD,CAEI4J,aAAc4B,EACd3B,mBAAoBwB,EACpBvB,YAAasB,EACbjB,YAAakB,EACbrlC,MAAO6W,OAKdkuB,GACC,uCACE,eAAC/I,GAAA,EAAD,CAEItC,UAAW,OACXpoB,MAAO,YACP2qB,SAA2B,IAAjBqJ,IAAuBA,EACjC3a,QAAS8a,EACTzL,QAAS,YANb,kBAWA,eAAC,GAAD,CAEI4J,aAAc6B,EACd5B,mBAAoB0B,EACpBzB,YAAakB,EAA0BxkC,GACvC2jC,YAAaoB,EACbvlC,MAAOslC,cA8BR,SAASrL,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAeD,GAAcC,GAAaF,Q,WCvW5C0L,GAAiB,SAAC,GAAD,IAAG1mB,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,YAAjB,OACrB,uBAAKua,UAAU,iBAAf,UACE,+CACA,qBAAIA,UAAU,YAAd,SACGv9B,OAAOpB,KAAKokB,GAAatZ,KAAI,SAAAW,GAAM,OAClC,qBAAUtL,IAAKsL,EAAf,SACE,eAAC,GAAD,CAEIu+B,YAAY,EACZj/B,KAAMG,GAASO,GACfy+B,cAAc,WAMxB,eAACtH,GAAA,EAAD,IACA,gDACA,qBAAIjE,UAAU,YAAd,SACGv9B,OAAOpB,KAAKmkB,GAAcrZ,KAAI,SAAAW,GAAM,OACnC,qBAAUtL,IAAKsL,EAAf,SACE,eAAC,GAAD,CAEIV,KAAMG,GAASO,gBAcd,SAASyzB,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAyBD,GAAcC,GAAaF,Q,mCC/BtD2L,I,OAAe,SAAC,GAaf,IAZL50B,EAYI,EAZJA,wBACAilB,EAWI,EAXJA,oCACA5D,EAUI,EAVJA,8BACA6B,EASI,EATJA,sBACAO,EAQI,EARJA,sBACAc,EAOI,EAPJA,sBACAY,EAMI,EANJA,8BACAJ,EAKI,EALJA,6CACAG,EAII,EAJJA,2BACAtL,EAGI,EAHJA,kBACAoL,EAEI,EAFJA,iCACAxe,EACI,EADJA,eAEA,EAA0D4gB,oBAAS,GAAnE,oBAAOyN,EAAP,KAA8BC,EAA9B,KAEA,OACE,uBAAKrM,UAAU,eAAf,UACE,sBAAKA,UAAU,aAAf,SACE,eAACsC,GAAA,EAAD,CAEI1qB,MAAO,UACPqZ,QAAS6K,EACTwE,QAAS,YAJb,yBAUF,eAAC2D,GAAA,EAAD,IAEA,gBAACqI,GAAA,EAAD,CAAaC,UAAU,WAAvB,UACE,eAACC,GAAA,EAAD,CAAWD,UAAU,SAArB,qBACA,gBAACE,GAAA,EAAD,WACE,eAACpG,GAAA,EAAD,CACEC,QACE,eAACoG,GAAA,EAAD,CACE90B,MAAM,UACN2f,QAASgF,EACTwE,SAAUzE,EACVn1B,KAAK,0CAGTq/B,MAAM,0CAER,eAACH,GAAA,EAAD,CACEC,QACE,eAACoG,GAAA,EAAD,CACE90B,MAAM,UACN2f,QAASpG,EACT4P,SAAUrE,EACVv1B,KAAK,uBAGTq/B,MAAM,2BAER,eAACH,GAAA,EAAD,CACEC,QACE,eAACoG,GAAA,EAAD,CACE90B,MAAM,UACN2f,QAASxZ,EACTgjB,SAAUtE,EACVt1B,KAAK,qBAGTq/B,MAAM,yBAER,eAACH,GAAA,EAAD,CACEC,QACE,eAACoG,GAAA,EAAD,CACE90B,MAAM,UACN2f,QAAShgB,EACTwpB,SAAUvE,EACVr1B,KAAK,gCAGTq/B,MAAM,oEAKZ,eAACvC,GAAA,EAAD,IACA,uBAAKjE,UAAU,aAAf,UACE,eAAC8E,GAAA,EAAD,CAEIC,OAAO,EACPC,UAAW,MACXlD,MAAO,+CAJX,SAOE,eAACQ,GAAA,EAAD,CAEI1qB,MAAO,UACPqZ,QAASwJ,EACT6F,QAAS,YAJb,gCAUF,eAAC,KAAD,CAEIqM,GAAI,OACJ5L,SAAU,SAACzF,EAAGsR,GACZ5R,EAAsB4R,IAJ5B,SAQE,eAAC9H,GAAA,EAAD,CAEIC,OAAO,EACPC,UAAW,MACXlD,MAAO,2CAJX,SAOE,eAACQ,GAAA,EAAD,CAAc1qB,MAAO,UAAW0oB,QAAS,YAAzC,qCAMN,eAAC2D,GAAA,EAAD,IACA,sBAAKjE,UAAU,aAAf,SACE,eAACsC,GAAA,EAAD,CAEI1qB,MAAO,UACPqZ,QAAS,kBAAMob,GAAyB,IACxC/L,QAAS,YAJb,gCAWF,gBAACuM,GAAA,EAAD,CAEI7M,UAAW,WACX8M,KAAMV,EACNW,QAAS,kBAAMV,GAAyB,IACxCW,SAAU,KALd,UAQE,eAACC,GAAA,EAAD,gCACA,gBAACC,GAAA,EAAD,CAAeC,UAAQ,EAAvB,UACE,yJAIA,gBAACC,GAAA,EAAD,WACE,eAAC9K,GAAA,EAAD,CACE+K,WAAS,EAEPz1B,MAAO,UACPqZ,QAAS,kBAAMob,GAAyB,IAJ5C,oBASA,eAAC/J,GAAA,EAAD,CAEI1qB,MAAO,YACPqZ,QAAS,WACP2H,IACAyT,GAAyB,IAL/B,iCAiCG,SAAS9L,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAuBD,GAAcC,GAAaF,Q,gECtLpD8M,I,OAAgB,SAAA9M,GAAK,OACzB,eAAC+M,GAAA,EAAD,sDAAgB/M,GAAhB,IAAuB4D,UAAW,KAAlC,aAAwC5D,EAAMkE,cAG1C8I,GAAY,SAAC,GAAD,IAChB9P,EADgB,EAChBA,WACAzB,EAFgB,EAEhBA,SACAlN,EAHgB,EAGhBA,sBACAC,EAJgB,EAIhBA,uBACA/hB,EALgB,EAKhBA,UACA8oB,EANgB,EAMhBA,cACAlH,EAPgB,EAOhBA,oBACA1J,EARgB,EAQhBA,wBACA2J,EATgB,EAShBA,0BACAnS,EAVgB,EAUhBA,sBACAL,EAXgB,EAWhBA,QACAO,EAZgB,EAYhBA,aACAD,EAbgB,EAahBA,cAbgB,IAehB6wB,6BAfgB,MAeQnyB,GAAiBrO,GAfzB,MAgBhBygC,oBAhBgB,MAgBDlyB,GAAciyB,GAhBb,SAkBhB,uBAAKzN,UAAU,YAAf,UACE,eAAC2N,GAAA,EAAD,CAAsBpB,UAAWe,GAAjC,SACE,eAACM,GAAA,EAAD,CAAOC,aAAW,eAAlB,SACE,gBAACC,GAAA,EAAD,WACE,gBAACC,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,uBAGA,gBAACD,GAAA,EAAD,CAAWE,MAAM,QAAjB,UAA0BjS,EAA1B,cAEF,gBAAC8R,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,0BAGA,eAACD,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0Bj5B,GAAcy4B,QAE1C,eAAC5I,GAAA,EAAD,CAEIC,OAAO,EACPC,UAAW,MACXlD,MAAOtf,GAJX,SAOE,gBAACurB,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,gCAGA,eAACD,GAAA,EAAD,CAAWE,MAAM,QAAjB,SACGj5B,GAAcw4B,UAIrB,eAAC3I,GAAA,EAAD,CAEIC,OAAO,EACPC,UAAW,MACXlD,MAAOtf,GAJX,SAOE,gBAACurB,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,yCAGA,eAACD,GAAA,EAAD,CAAWE,MAAM,QAAjB,SACGj5B,GACCyG,GAAqCgyB,EAAe,GAClDD,UAKV,gBAACM,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,6BAGA,eAACD,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0Bj5B,GAAc8gB,QAE1C,eAAC+O,GAAA,EAAD,CAEIC,OAAO,EACPC,UAAW,MACXlD,M7B1GZ,sE6BsGQ,SAOE,gBAACiM,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,yBAGA,eAACD,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0Bj5B,GAAcyoB,iBAMlD,oDACA,eAACiQ,GAAA,EAAD,CAAsBpB,UAAWe,GAAjC,SACE,eAACM,GAAA,EAAD,CAAOC,aAAW,wBAAlB,SACE,gBAACC,GAAA,EAAD,WACE,gBAACC,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,6BAGA,eAACD,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0B15B,GAAYoI,QAExC,gBAACmxB,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,4BAGA,eAACD,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0B15B,GAAYqI,QAExC,gBAACkxB,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,4BAGA,eAACD,GAAA,EAAD,CAEIE,MAAO,QACPlO,UAAWsD,KAAW,CACpB,cAAev0B,KAAKo/B,IAAItxB,GAAgBD,IAJ9C,SAQGpI,GAAYgI,GAAUI,EAAeC,SAG1C,gBAACkxB,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,sCAGA,eAACD,GAAA,EAAD,CAEIE,MAAO,QAFX,SAKG15B,GACCkI,GACEC,EACAC,EACAC,SAKR,gBAACkxB,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,0CAGA,gBAACD,GAAA,EAAD,CAAWE,MAAM,QAAjB,UACGrf,EADH,IACiD,IAAxBA,EAA4B,MAAQ,aAG/D,gBAACkf,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,yCAGA,gBAACD,GAAA,EAAD,CAAWE,MAAM,QAAjB,UACGpf,EAA2B,IACG,IAA9BA,EAAkC,MAAQ,aAG/C,gBAACif,GAAA,EAAD,WACE,gBAACC,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,UrLpFyC,EqLoFzC,yBAGA,eAACD,GAAA,EAAD,CAAWE,MAAM,QAAjB,SACG15B,GACC4H,GACE2S,EAAsB5iB,KAAI,SAACgjB,EAAM5f,GAAP,OACxBwE,GAAWib,EAAuBzf,GAAI4f,aAMhD,gBAAC4e,GAAA,EAAD,WACE,gBAACC,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,oBrLlGyC,EqLkGzC,yBAGA,eAACD,GAAA,EAAD,CAAWE,MAAM,QAAjB,SACG15B,GAAY2Q,QAGjB,gBAAC4oB,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,oCAGA,eAACD,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0B15B,GAAY8H,eAK7C7Z,OAAOpB,KAAK4L,GAAW6D,OAAS,GAC/B,uCACE,6CACA,eAAC68B,GAAA,EAAD,CAAsBpB,UAAWe,GAAjC,SACE,eAACM,GAAA,EAAD,CAAOC,aAAW,wBAAlB,SACE,eAACC,GAAA,EAAD,UACGtzB,KAAO/X,OAAOwO,QAAQhE,IAAY,2CAAsBd,KACvD,oCAAEW,EAAF,KAAUoF,EAAV,YACE,gBAAC67B,GAAA,EAAD,CAAgBvsC,IAAKsL,EAArB,UACE,eAACkhC,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,SACG1hC,GAASO,GAAQ3F,OAEpB,eAAC6mC,GAAA,EAAD,CAAWE,MAAM,QAAjB,SACGj5B,GAAc/C,wBA2BtB,SAASquB,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAoBD,GAAcC,GAAaF,Q,oBCpQjD8M,GAAgB,SAAA9M,GAAK,OACzB,eAAC+M,GAAA,EAAD,sDAAgB/M,GAAhB,IAAuB4D,UAAW,KAAlC,aAAwC5D,EAAMkE,aA0DjC0J,GAvDS,kBACtB,uBAAKpO,UAAU,kBAAf,UACE,eAAC2N,GAAA,EAAD,CAAsBpB,UAAWe,GAAjC,SACE,eAACM,GAAA,EAAD,CAAOC,aAAW,qBAAlB,SACE,eAACC,GAAA,EAAD,UACG,CACC,CACEtH,MAAO,wCACP6H,WAAY,aAEd,CAAE7H,MAAO,cAAe6H,WAAY,KACpC,CAAE7H,MAAO,cAAe6H,WAAY,aACpC,CAAE7H,MAAO,8BAA+B6H,WAAY,SACpD,CAAE7H,MAAO,oBAAqB6H,WAAY,mBAC1C,CAAE7H,MAAO,wBAAyB6H,WAAY,kBAC9C,CAAE7H,MAAO,mBAAoB6H,WAAY,KACzC,CAAE7H,MAAO,qBAAsB6H,WAAY,KAC3C,CAAE7H,MAAO,qBAAsB6H,WAAY,KAC3C,CAAE7H,MAAO,qBAAsB6H,WAAY,KAC3C,CAAE7H,MAAO,qBAAsB6H,WAAY,KAC3C,CAAE7H,MAAO,iBAAkB6H,WAAY,MACvCliC,KAAI,gBAAGq6B,EAAH,EAAGA,MAAO6H,EAAV,EAAUA,WAAV,OACJ,gBAACN,GAAA,EAAD,CAAgBvsC,IAAKglC,EAArB,UACE,eAACwH,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,SACGzH,IAEH,eAACwH,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0BG,gBAMpC,oEACA,eAACV,GAAA,EAAD,CAAsBpB,UAAWe,GAAjC,SACE,eAACM,GAAA,EAAD,CAAOC,aAAW,qBAAlB,SACE,eAACC,GAAA,EAAD,UACG,CACC,CAAEtH,MAAO,UAAW6H,WAAY,KAChC,CAAE7H,MAAO,WAAY6H,WAAY,MACjCliC,KAAI,gBAAGq6B,EAAH,EAAGA,MAAO6H,EAAV,EAAUA,WAAV,OACJ,gBAACN,GAAA,EAAD,CAAgBvsC,IAAKglC,EAArB,UACE,eAACwH,GAAA,EAAD,CAAiBzB,UAAW,KAAM0B,MAAO,MAAzC,SACGzH,IAEH,eAACwH,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0BG,oBCLlCC,I,OAAkB,SAAC,GAAwC,IAAtCrS,EAAqC,EAArCA,SAAUD,EAA2B,EAA3BA,qBACnC,EAAkD2C,mBAAS1C,GAA3D,oBAAOsS,EAAP,KAA0BC,EAA1B,KAMA,OAJApP,qBAAU,WACRoP,EAAqBvS,KACpB,CAACA,EAAUuS,IAGZ,sBAAIxO,UAAU,YAAd,UACE,eAACiC,GAAA,EAAD,CAEIC,WAAY,CACVuM,UAAW,IAEb1N,SAAU,YAA4B,IAAfz6B,EAAc,EAAxBkxB,OAAUlxB,MACrBkoC,EAAqBloC,IAEvBooC,OAAQ,YAA4B,IAAfpoC,EAAc,EAAxBkxB,OAAUlxB,MACnB01B,EAAqB11B,IAEvB2iC,YAAa,YACb3iC,MAAOioC,IAER,IAfL,YAqBEI,GAAiB,SAAC,GAOjB,IANLtF,EAMI,EANJA,cACAlM,EAKI,EALJA,8BACAN,EAII,EAJJA,yBACAI,EAGI,EAHJA,iBACAkK,EAEI,EAFJA,SACAhgB,EACI,EADJA,KAEA,EAA0CwX,mBAASxX,GAAnD,oBAAOynB,EAAP,KAAsBC,EAAtB,KAMA,OAJAzP,qBAAU,WACRyP,EAAiB1nB,KAChB,CAACA,EAAM0nB,IAGR,uCACE,gBAACvC,GAAA,EAAD,CACQtM,UAAW,2BAA4BuM,UAAW,WAD1D,UAGE,eAACE,GAAA,EAAD,CAAiBzM,UAAW,mBAA5B,SACE,eAACqG,GAAA,EAAD,CACEC,QACE,eAACoG,GAAA,EAAD,CACE90B,MAAM,UACN2f,QAAS4P,EACTpG,SAAUlE,EACV11B,KAAK,0CAGTq/B,MAAM,kBAGV,eAACvE,GAAA,EAAD,CAEIjC,UAAW,YACXkC,WAAY,CACVuM,UnBtHsB,ImBwHxBjI,MAAO,YACPzF,SAAU,YAA4B,IAAfz6B,EAAc,EAAxBkxB,OAAUlxB,MACrBuoC,EAAiBvoC,IAEnBooC,OAAQ,YAA4B,IAAfpoC,EAAc,EAAxBkxB,OAAUlxB,MACnB22B,EAAiB32B,IAEnBgkC,QAAS,YAAmC,IAAtBhkC,EAAqB,EAA/BkxB,OAAUlxB,MAEN,KAF2B,EAAZikC,OAG3BtN,EAAiB32B,IAGrBA,MAAOsoC,EACPtO,QAAS,gBAId+I,GACC,gBAAC/G,GAAA,EAAD,CAEI1qB,MAAO,UACPqZ,QAASkM,EACTmD,QAAS,YAJb,6BAOmBrrB,GAAco0B,UAQvCzM,GAUEx6B,GAVFw6B,YACAkS,GASE1sC,GATF0sC,aACAC,GAQE3sC,GARF2sC,MACAC,GAOE5sC,GAPF4sC,aACAC,GAME7sC,GANF6sC,WACAC,GAKE9sC,GALF8sC,SACA9R,GAIEh7B,GAJFg7B,aAGA+R,GACE/sC,GADF+sC,YAKIC,IAAoB,sBACvBxS,GAAc,yBADS,gBAEvBkS,GAAe,wBAFQ,gBAGvBC,GAAQ,uBAHe,gBAIvBC,GAAe,yBAJQ,gBAKvBC,GAAa,yBALU,gBAMvBC,GAAW,yBANY,IASpBG,IAAc,sBACjBzS,GAAc,gBADG,gBAEjBkS,GAAe,gBAFE,gBAGjBC,GAAQ,cAHS,gBAIjBC,GAAe,gBAJE,gBAKjBC,GAAa,gBALI,gBAMjBC,GAAW,YANM,gBAOjB9R,GAAe,kBAPE,gBAUjB+R,GAAc,sBAVG,IAadG,IAAgB,sBACnB1S,GAAc,eAAC,GAAD,KADK,gBAEnBkS,GAAe,eAAC,GAAD,KAFI,gBAGnBC,GAAQ,eAAC,GAAD,KAHW,gBAInBC,GAAe,eAAC,GAAD,KAJI,gBAKnBC,GAAa,eAAC,GAAD,KALM,gBAMnBC,GAAW,eAAC,GAAD,KANQ,gBAOnB9R,GAAe,eAAC,GAAD,KAPI,gBAUnB+R,GAAc,eAAC,GAAD,KAVK,IAaTI,GAAa,SAAC,GAAD,IACxBlG,EADwB,EACxBA,cACAmG,EAFwB,EAExBA,WACApV,EAHwB,EAGxBA,kBACAzM,EAJwB,EAIxBA,SACAsO,EALwB,EAKxBA,SACAkB,EANwB,EAMxBA,8BACArD,EAPwB,EAOxBA,4BACAE,EARwB,EAQxBA,sBACAG,EATwB,EASxBA,uBACA6B,EAVwB,EAUxBA,qBACAa,EAXwB,EAWxBA,yBACAI,EAZwB,EAYxBA,iBACAlF,EAbwB,EAaxBA,iBACA9rB,EAdwB,EAcxBA,UACA6O,EAfwB,EAexBA,eACA7N,EAhBwB,EAgBxBA,UACAwiC,EAjBwB,EAiBxBA,iBACAtI,EAlBwB,EAkBxBA,SACAhgB,EAnBwB,EAmBxBA,KACAnJ,EApBwB,EAoBxBA,WACA0xB,EArBwB,EAqBxBA,SArBwB,IAuBxBjC,6BAvBwB,MAuBAnyB,GAAiBrO,GAvBjB,MAwBxBygC,oBAxBwB,MAwBTlyB,GAAciyB,GAxBL,MAyBxBkC,oBAzBwB,MAyBT37B,GACby5B,EACA/xB,GAAqCgyB,GACrChyB,GAAqCgyB,EAAe,GACpD,EACA,KA9BsB,MAgCxBkC,kCAhCwB,MAgCKxV,EAAkB6K,cAhCvB,MAiCxB4K,oBAjCwB,gBAiCND,EAjCM,sBAkCxBE,sBAlCwB,gBAkCJF,EAlCI,2BAoCxB,0BAAQ5P,UAAU,aAAlB,UACE,2CACA,qBAAGA,UAAU,UAAb,cAAyB9vB,YACzB,eAAC,GAAD,CAAuB+rB,WAAUD,yBACjC,sBAAIgE,UAAU,6BAAd,UACE,yCAAW/qB,GAAc0Y,GAAzB,cACA,eAACmX,GAAA,EAAD,CAEIC,OAAO,EACPC,UAAW,MACXlD,MAAM,GAAD,OAAK7sB,GACRyG,GAAqCgyB,EAAe,GAClDD,GAFC,wCAG4Bx4B,GAAcy4B,EAAe,IAPlE,SAUE,gBAACqC,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAEI1pC,MAAOqpC,EACPrP,QAAS,gBAGb,uBAAYN,UAAW,gBAAvB,SACG/qB,GAAcy4B,aAKvB,eAAC,GAAD,CAEIrE,gBACAlM,gCACAN,2BACAI,mBACAkK,WACAhgB,SAGHrM,GAAkB,GACjB,sBAEIklB,UAAWsD,KAAW,iBAAkB,CACtC,qBAAsBvoB,GAAyB,CAC7C9O,YACA6O,qBALR,wBAUc7F,GAAc2F,GAAuB3O,IAVnD,KAUkE,IAC/DgJ,GAAc6F,MAInB,eAACm1B,GAAA,EAAD,CAEIjQ,UAAW,cACXe,SAAUhJ,EACVzxB,MAAO0X,EAJX,SAOG0xB,EAASvjC,KAAI,SAAC+jC,EAAM3gC,GAAP,OACZ,gBAAC4gC,GAAA,EAAD,CAAgB3uC,IAAK0uC,EAAM5pC,MAAO4pC,EAAlC,UACG3gC,EAAI,EADP,KACYzL,GAAgBosC,WAIhC,sBAAKlQ,UAAU,eAAf,SACG,CACC,CAAE59B,WAAYw6B,GAAawT,KAAMC,MACjC,CAAEjuC,WAAY0sC,GAAcsB,KAAME,MAClC,CAAEluC,WAAY2sC,GAAOqB,KAAMG,MAC3B,CAAEnuC,WAAY4sC,GAAcoB,KAAMI,MAClC,CAAEpuC,WAAY6sC,GAAYmB,KAAMK,MAChC,CAAEruC,WAAY8sC,GAAUkB,KAAMM,OAC9BvkC,KAAI,gBAAG/J,EAAH,EAAGA,WAAYguC,EAAf,EAAeA,KAAf,OACJ,eAACtL,GAAA,EAAD,CAEIC,OAAO,EACPvjC,IAAKY,EACL4iC,UAAW,MACXlD,MAAOsN,GAAqBhtC,GALhC,SAQE,eAACsoC,GAAA,EAAD,CAEI,aAAc0E,GAAqBhtC,GACnCwV,MAAO,UACPqZ,QAAS,kBAAM6I,EAA4B13B,IAJ/C,SAOE,eAACguC,EAAD,aASR,gBAACvD,GAAA,EAAD,CAEI7M,UAAWsD,KAAW,WAAY,CAAE,cAAekM,IACnDmB,WAAW,EACX3D,SAAU,KACVD,QAAS/S,EACT8S,KAAM2C,EACNmB,SAAUzW,EAEZ0W,mBAAkBhB,EAClBiB,kBAAiBhB,EAVnB,UAYE,eAAC7C,GAAA,EAAD,CAAmB8D,mBAAmB,EAAtC,SACE,eAAC5Q,GAAA,EAAD,CAAkBr5B,GAAI+oC,EAActD,UAAW,KAAMjM,QAAS,KAA9D,SACG+O,GAAejV,OAGpB,eAAC8S,GAAA,EAAD,CAAqBpmC,GAAIgpC,EAAzB,SACGR,GAAiBlV,KAEpB,eAACgT,GAAA,EAAD,UACE,eAAC9K,GAAA,EAAD,CAAQrR,QAAS+I,EAAuBpiB,MAAM,UAAUy1B,WAAS,EAAjE,4BA8BO,SAAS9M,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAqBD,GAAcC,GAAaF,Q,cC9XtDj2B,GAYEzI,GAZFyI,SACAoC,GAWE7K,GAXF6K,aACAlG,GAUE3E,GAVF2E,KACA+D,GASE1I,GATF0I,WACAC,GAQE3I,GARF2I,gBACAC,GAOE5I,GAPF4I,KACAZ,GAMEhI,GANFgI,IACAa,GAKE7I,GALF6I,UACAC,GAIE9I,GAJF8I,UACAN,GAGExI,GAHFwI,MACAL,GAEEnI,GAFFmI,KACAwF,GACE3N,GADF2N,aAGWuhC,GAAc5vC,GAAQ,CACjC,kBACA,kBACA,gBACA,QACA,cACA,kBACA,QACA,aAEI6vC,GAAiBxuC,OAAOpB,KAAK2vC,IAEjCE,GAQEF,GARFE,gBACAC,GAOEH,GAPFG,gBACAC,GAMEJ,GANFI,cACAC,GAKEL,GALFK,MACAC,GAIEN,GAJFM,YACAC,GAGEP,GAHFO,gBACAC,GAEER,GAFFQ,MACAC,GACET,GADFS,SAGIC,GAAsBjvC,OAAOD,QAAP,IAC1BgvC,UAD0B/uC,OAAA,KAAAA,CAAA,GAEzB8H,GAAW4mC,IAFc1uC,OAAA,KAAAA,CAAA,GAGzBkK,GAAeykC,IAHU3uC,OAAA,KAAAA,CAAA,GAIzBgE,GAAO4qC,IAJkB5uC,OAAA,KAAAA,CAAA,GAKzB+H,GAAa8mC,IALY7uC,OAAA,KAAAA,CAAA,GAMzBwH,GAAOsnC,IANkB9uC,OAAA,KAAAA,CAAA,GAOzBgI,GAAkB0mC,IAPO1uC,OAAA,KAAAA,CAAA,GAQzBiI,GAAOwmC,IARkBzuC,OAAA,KAAAA,CAAA,GASzBqH,GAAMynC,IATmB9uC,OAAA,KAAAA,CAAA,GAUzBkI,GAAY2mC,IAVa7uC,OAAA,KAAAA,CAAA,GAWzBmI,GAAY0mC,IAXa7uC,OAAA,KAAAA,CAAA,GAYzB6H,GAAQinC,IAZiB9uC,OAAA,KAAAA,CAAA,GAazBgN,GAAegiC,IAbU,KAsBfE,GAA8B,SAAAtlC,GAAK,OAC9CqO,GAAUrO,GAAO/K,QAAO,SAACC,EAAK6K,GAC5B,IAAQjJ,EAASoJ,GAASH,EAAKtF,IAAvB3D,KACFyuC,EAAWF,GAAoBvuC,GAQrC,OANIyuC,IAAaP,GACf9vC,EAAI6K,EAAKxF,gBAAkB4qC,GAAQH,IAAOj3B,KAAKhO,GACtC7K,EAAIqwC,IACbrwC,EAAIqwC,GAAUx3B,KAAKhO,GAGd7K,IAhBT0vC,GAAe3vC,QAAO,SAACC,EAAKC,GAE1B,OADAD,EAAIC,GAAO,GACJD,IACN,MAgBQswC,GAAY,SAAC,GAAD,IACvBxlC,EADuB,EACvBA,MADuB,KAEvBylC,gBAFuB,EAGvBr/B,cAHuB,EAKvB04B,uBALuB,aAMvBE,kBANuB,aAQvB0G,sBARuB,MAQNJ,GAA4BtlC,GARtB,SAUvB,sBAAK2zB,UAAU,YAAf,SACG,CACC,CAACqR,GAAO,SACR,CAACG,GAAO,SACR,CAACF,GAAa,eACd,CAACJ,GAAiB,mBAClB,CAACC,GAAiB,mBAClB,CAACC,GAAe,iBAChB,CAACG,GAAiB,oBAClBplC,KAAI,oCAAEylC,EAAF,KAAYI,EAAZ,YACJD,EAAeH,GAAU9gC,OACvB,gBAAC,WAAD,WACE,qCACGq6B,EAAiB,KAAO,8BAAK6G,IAC9B,qBAAIhS,UAAU,YAAd,SACG+R,EAAeH,GAAUzlC,KAAI,SAAAC,GAAI,OAChC,8BACE,eAAC,GAAD,CAEI++B,iBACAE,aACAj/B,OACAm/B,aAAcJ,KANX/+B,EAAKtF,YAanBqkC,EAAiB,KAAO,eAAClH,GAAA,EAAD,MAlBZ2N,GAoBb,WAWK,SAASrR,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAoBD,GAAcC,GAAaF,Q,kEC1I1CyR,GAAW,SAAAzR,GACtB,IAAQkE,EAAqClE,EAArCkE,SAAUp+B,EAA2Bk6B,EAA3Bl6B,MAAO4rC,EAAoB1R,EAApB0R,MAAUC,EAAnC,aAA6C3R,EAA7C,8BAEA,OACE,kDACE4R,KAAK,WACLC,OAAQ/rC,IAAU4rC,EAClBprC,GAAE,+BAA0BorC,GAC5BpB,kBAAA,0BAAoCoB,IAChCC,GALN,aAOG7rC,IAAU4rC,EAAQxN,EAAW,SAWvB4N,GAAY,SAAAJ,GAAK,MAAK,CACjCprC,GAAG,mBAAD,OAAqBorC,GACvB,gBAAgB,wBAAhB,OAAyCA,KCI3C,I,OAAyD9wC,GAAQ,CAC/D,MACA,QACA,SACA,YACA,QACA,YANMmxC,GAAR,GAAQA,IAAKC,GAAb,GAAaA,MAAOC,GAApB,GAAoBA,OAAQC,GAA5B,GAA4BA,UAAWC,GAAvC,GAAuCA,MAAOC,GAA9C,GAA8CA,OASxCC,GAAW,SAACvvC,EAAMwvC,EAAUC,GAChC,IAAIC,EAAS,SAAArtB,GAAC,OAAIA,GAEdmtB,IAAaH,GACfK,EAAS35B,GACAy5B,IAAaF,GACtBI,EAAS95B,GACA45B,IAAaP,GACtBS,EAAS,qBAAG/6B,SACH66B,IAAaN,GACtBQ,EAAS,qBAAGp7B,OACHk7B,IAAaL,GACtBO,EAAS,qBAAGr7B,QACHm7B,IAAaJ,KACtBM,EAAS,qBAAG56B,YAGd,IAAM66B,EAAaz4B,KAAOlX,EAAM0vC,GAEhC,OAAOD,EAAcE,EAAWC,UAAYD,GAOxCE,GAAuB,SAAC,GAAD,IAAG9wB,EAAH,EAAGA,OAAQC,EAAX,EAAWA,OAAX,OAC3BD,EAAUC,EAAS,EAAI,EAAK,GAEjB8wB,GAAoB,SAAC,GAc3B,IAbLhxB,EAaI,EAbJA,eACAnE,EAYI,EAZJA,WACA5C,EAWI,EAXJA,aACAic,EAUI,EAVJA,4BACAG,EASI,EATJA,qBACAC,EAQI,EARJA,kBACAG,EAOI,EAPJA,yBACAF,EAMI,EANJA,oBACAgC,EAKI,EALJA,gBACAxC,EAII,EAJJA,mBACAS,EAGI,EAHJA,uBACA9S,EAEI,EAFJA,gBACA4Q,EACI,EADJA,cAEA,EAAgCiJ,mBAAS4T,IAAzC,oBAAOO,EAAP,KAAiBO,EAAjB,KACA,EAAsC1U,oBAAS,GAA/C,oBAAOoU,EAAP,KAAoBO,EAApB,KACA,EAAoC3U,mBAAS,GAA7C,oBAAO4U,EAAP,KAAmBC,EAAnB,KAEA,OACE,uBAAKxT,UAAU,oBAAf,UACE,2CACA,eAAC,GAAD,CAEIruB,IAAKsM,IAGT,eAAC,KAAD,CAAQgiB,SAAS,SAASroB,MAAM,UAAhC,SACE,gBAAC67B,GAAA,EAAD,CACEntC,MAAOitC,EACPxS,SAAU,SAACzF,EAAGoY,GAAJ,OAAeF,EAAcE,IACvC7F,aAAW,WAHb,UAKE,eAAC8F,GAAA,EAAD,4BAAWnN,MAAO,QAAW8L,GAAU,MACvC,eAACqB,GAAA,EAAD,4BAAWnN,MAAO,gBAAmB8L,GAAU,MAC/C,eAACqB,GAAA,EAAD,4BAAWnN,MAAO,YAAe8L,GAAU,WAG/C,gBAAC,GAAD,CAAUhsC,MAAOitC,EAAYrB,MAAO,EAApC,UACE,6CACa72B,EAAavK,OAD1B,KACoC,IACjCzN,GAAsB0pB,IAAIjI,GAAiBxhB,QAE7C+X,EAAavK,OAAS,GACrB,uBAAWkvB,UAAW,eAAtB,UACE,eAAC0K,GAAA,EAAD,CAEI,aAAc,uBACdzZ,QAAS,kBAAMqiB,GAAgBP,IAC/Bn7B,MAAO,UAJX,SAOGm7B,EAAc,eAAC,KAAD,IAAsB,eAAC,KAAD,MAEvC,gBAAC9C,GAAA,EAAD,CAEIjQ,UAAW,cACX4T,cAAc,EACdttC,MAAOwsC,EACP/R,SAAU,gBAAaz6B,EAAb,EAAGkxB,OAAUlxB,MAAb,OAA2B+sC,EAAY/sC,IALrD,UAQE,eAAC6pC,GAAA,EAAD,CAAgB7pC,MAAOqsC,GAAvB,2BACA,eAACxC,GAAA,EAAD,CAAgB7pC,MAAOisC,GAAvB,yBACA,eAACpC,GAAA,EAAD,CAAgB7pC,MAAOosC,GAAvB,+BACA,eAACvC,GAAA,EAAD,CAAgB7pC,MAAOssC,GAAvB,4BACA,eAACzC,GAAA,EAAD,CAAgB7pC,MAAOmsC,GAAvB,4BACA,eAACtC,GAAA,EAAD,CAAgB7pC,MAAOksC,GAAvB,iCAKN,qBAAIxS,UAAU,2BAAd,SACG6S,GAASx3B,EAAcy3B,EAAUC,GAAa5mC,KAAI,SAAAwF,GAAG,OACpDwQ,GAAmBxQ,EAAKyQ,GAAkB,KACxC,qBAEI5gB,IAAKmQ,EAAI7K,GACTujC,QAAS,kBAAM1Q,EAAgBhoB,IAC/Bsf,QAAS,kBAAM0I,EAAgBhoB,IAJnC,SAOE,eAAC,GAAD,CAEIA,MACA2lB,8BACAG,uBACAC,oBACAG,2BACAF,sBACAR,qBACAS,yBACA8N,gBAAgB,EAChBwB,WAAYv1B,EAAI7K,KAAO4uB,cAQrC,gBAAC,GAAD,CAAUpvB,MAAOitC,EAAYrB,MAAO,EAApC,UACE,6CAAeiB,GAAqB/wB,GAApC,UACA,qBAAI4d,UAAU,yCAAd,SACG9kB,GAAUi4B,GAAqB/wB,IAAiBjW,KAAI,SAAC+5B,EAAO32B,GAC3D,IAAMyiB,EAAQ5P,EAAe,QAAD,OAAS7S,EAAI,IACnCoC,EAAMyJ,GAAYC,EAAc2W,GACtC,OACE,qBAAUxwB,IAAKwwB,EAAf,SACE,eAAC,GAAD,CAEIrgB,MACA2lB,8BACAG,uBACAC,oBACAG,2BACAF,sBACAR,qBACAS,yBACA8N,gBAAgB,EAChBwB,WAAYv1B,EAAI7K,KAAO4uB,cAQrC,eAAC,GAAD,CAAUpvB,MAAOitC,EAAYrB,MAAO,EAApC,SACE,sBAAIlS,UAAU,YAAd,UACE,8BACE,eAAC,GAAD,CAEI5zB,KAAMZ,GACN2/B,gBAAgB,EAChBI,cAAc,MAIpB,8BACE,eAAC,GAAD,CAEIn/B,KAAMX,GACN0/B,gBAAgB,EAChBI,cAAc,eAyBf,SAAShL,KACtB,OACE,eAAC,GAAgBA,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,0CAA4BD,GAAcC,Q,WCxOrCmT,GAAkB3O,gBAC7B,gBAAG4M,EAAH,EAAGA,gBAAH,OACE,eAAC,GAAD,CAEIzlC,MAAOylC,EACPzG,YAAY,OAIlB,SAACyI,EAAMC,GAAP,OAAgBD,EAAKhC,kBAAoBiC,EAAKjC,mBAGnCkC,GAAc,SAAC,GAAD,IAAGlC,EAAH,EAAGA,gBAAiB9zB,EAApB,EAAoBA,WAApB,OACzB,sBAAKgiB,UAAU,cAAf,SACGhiB,IAAepc,GAAesC,QAC7B,eAAC,GAAD,IAEA,uCACE,4CACA,eAAC2vC,GAAD,CAEI/B,0BAaG,SAASvR,KACtB,OACE,eAAC,GAAgBA,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,0CAAsBD,GAAcC,Q,kEC1B/BuT,I,OAAsB,SAAA5rB,GACjC,IAAKA,EACH,OAAO,KAGT,IAAM6rB,EAAmB,GAczB,OAZI7rB,EAAYtmB,iBAAmBA,GAAe4b,SAChDu2B,EAAiB95B,KAAjB,cAA6BlJ,GAA7B,MACSmX,EAAYtmB,iBAAmBA,GAAeI,SACvD+xC,EAAiB95B,KAAjB,cAA6BlJ,GAA7B,MAGEmX,EAAYzD,gBACdsvB,EAAiB95B,KAAjB,cAA6BlJ,GAA7B,MACSmX,EAAYI,YACrByrB,EAAiB95B,KAAjB,cAA6BlJ,GAA7B,MAGKgjC,EAAiBjtB,KAAK,QA0BlBktB,GAAO,SAAC,GAcd,IAAD,MAbJ/b,EAaI,EAbJA,gBACAgc,EAYI,EAZJA,eACA/rB,EAWI,EAXJA,YACAmB,EAUI,EAVJA,eACA6qB,EASI,EATJA,eACA/yB,EAQI,EARJA,EACAC,EAOI,EAPJA,EAOI,IALJN,aAKI,MrCoRsB,SAAAoH,GAC1B,OAAIA,EACExS,GAAmBwS,KAAiBvmB,GAAS2E,KAC3CgQ,GAAiB4R,KAAiB9V,GAC7B+hC,GAAWp+B,GAAUmS,IAErBisB,GAAW,GAAD,OACZp+B,GAAUmS,GADE,YAEbzR,GAA8BH,GAAiB4R,OAMvD,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAa2L,OACRsgB,GAAWjsB,EAAY2L,OAEvBsgB,GAAWjsB,EAAYvb,QAI3B,KqC9SCynC,CAAalsB,GAKjB,MAJJmsB,iBAII,MAJQnsB,GACVxS,GAAmBwS,KAAiBvmB,GAAS2E,MAC7CgQ,GAAiB4R,GAEf,MADJosB,cACI,MADKD,IAAc3yC,GAAc0Q,MACjC,EACEnG,EAAOic,EAAc9b,GAAS8b,EAAYvb,QAAU,KACpD4nC,EAnC2B,SAAArsB,GAAW,OAG5CA,GAAeA,EAAY3R,aAAe,EACtC3H,KAAK8E,IACH,EACA9E,KAAK4lC,MACFx+B,GACCkS,EAAc9b,GAAS8b,EAAYvb,QAAU,MAE7Cub,EAAY3R,cACX,GACE2R,EAAYtmB,iBAAmBA,GAAe6T,KAC3C,E5LpCc,O4LwC1B,KAkBqBg/B,CAAoBvsB,GACvCwsB,EACJxsB,GAAexS,GAAmBwS,KAAiBvmB,GAAS2E,KACxDquC,GAAa,UAAAvoC,GAAQ,OAAC8b,QAAD,IAACA,OAAD,EAACA,EAAavb,eAAtB,eAA+B3J,QAASrB,GAAS6I,UACpE,EAA8Cg0B,oBAAS,GAAvD,oBAAOoW,EAAP,KAAwBC,EAAxB,KACA,EAA4DrW,mBAC1Dp/B,QAAO,OAAC8oB,QAAD,IAACA,OAAD,EAACA,EAAaI,aADvB,oBAAOwsB,EAAP,KAA+BC,EAA/B,KAIA9V,qBAAU,YAEL6V,IAAD,OACA5sB,QADA,IACAA,OADA,EACAA,EAAaI,cADb,OAEAJ,QAFA,IAEAA,OAFA,EAEAA,EAAa2L,QAEbghB,GAAmB,KAEpB,CAACC,EAAwB5sB,IAE5B+W,qBAAU,WACY,OAAhB/W,GAAsB6sB,GAA0B,KACnD,CAAC7sB,IAEJ,IAAM8sB,EAAgB51C,QACpB0hB,IACG8zB,GACC1sB,EAAYvb,QACZ+I,GAAmBwS,KAAiBvmB,GAAS2E,OAG7CsP,EACJ,sBAEIiqB,UAAWsD,KAAW,OAAQ,CAC5B,YAAajb,EACb,oBAAqB+rB,EAGrBruC,KAAM8uC,EACN,UAAWJ,EAGX,oBACGI,GAAUxsB,EAAYtmB,iBAAmBA,GAAe6T,MACxDk/B,GACCzsB,EAAYtmB,iBAAmBA,GAAe6T,MAC3B,uBAAnB4T,EAEJ,gBAAiBnB,EAGjB,iBAAkBA,IAAW,OAAIjc,QAAJ,IAAIA,OAAJ,EAAIA,EAAMjB,iBAEzCy0B,MAAO,CACLwV,gBAAiBnB,GAAoB5rB,IAEvC4I,QAAS,kBAAMmH,EAAgB9W,EAAGC,IAClC8zB,YAAa,kBAAMhB,EAAe,CAAE/yB,IAAGC,OA1B3C,SA6BE,sBAEIye,UAAWsD,KAAW,SAAD,YAAC,eAChBuR,GAAU,CACZS,SAAUb,EACVc,UAAWd,IAETM,GAAmB,CACrBO,UAAU,EACV,qBAAqB,KAGzB1V,MAAO,CACLwV,gBAAiBD,EAAa,cAAUl0B,EAAV,UAAqBiQ,GAErD6X,IAAK/mB,GACLgnB,KAAK,UAAAz8B,GAAQ,iBAAC8b,QAAD,IAACA,OAAD,EAACA,EAAavb,cAAd,eAAwBub,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAa2L,cAA7C,eAAqD7sB,OAAQ,OAMtEquC,EAAkB,KAOtB,OANIppC,EACFopC,EAAkBppC,EAAKjF,MAClB,OAAIkhB,QAAJ,IAAIA,OAAJ,EAAIA,EAAaI,cACtB+sB,EpC5IoB,YoC+IjBntB,EAKH,eAACyc,GAAA,EAAD,CAEIC,OAAO,EACPC,UAAW,MACXlD,MACE,uCACG0T,EACC,eAACrV,GAAA,EAAD,UAAaqV,IACX,KACHX,GACC,eAAC1U,GAAA,EAAD,UACGuU,EAAgB,sCACkBA,GAC/B,yBAbhB,SAoBG3+B,IAxBIA,GAwCI,SAASwqB,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAeD,GAAcC,GAAaF,Q,cCzM1C57B,GAAkCjD,GAAlCiD,QAASC,GAAyBlD,GAAzBkD,QAASE,GAAgBpD,GAAhBoD,KAEpBuM,GAAQ,CACZmkC,YAAa,CACXzM,IrCWiC,uCqCVjC0M,SAAU,UACV/zC,UANsCA,GAAVmD,MAO5B6wC,WrCUF,8CqCTE7uC,GAAI,eACJ8uC,UAAWhzB,GAAgBC,aAC3BgzB,MAAO,EACP1yC,KAAMd,GAASwgB,cAEjBrR,OAAQ,CACNw3B,IrCI2B,gCqCH3B0M,SAAU,UACV/zC,UAAWkD,GACX8wC,WrCE8B,6CqCD9B7uC,GAAI,SACJ8uC,UAAWhzB,GAAgBvT,OAC3BwmC,MAAO,EACP1yC,KAAMd,GAASgN,QAEjBkC,IAAK,CACHy3B,IrCHF,oGqCIE0M,SAAU,UACV/zC,UAAWiD,GACX+wC,WrCJF,4DqCKE7uC,GAAI,MACJ8uC,UAAWhzB,GAAgB1T,IAC3B2mC,MAAO,EACP1yC,KAAMd,GAAS6M,MAIfkB,GAASO,SACXW,GAAMG,OAAS,CACbu3B,IrCb2B,iCqCc3B0M,SAAU,UACV/zC,UAAWoD,GACX4wC,WrCf8B,mCqCgB9B7uC,GAAI,SACJ8uC,UAAWhzB,GAAgBtT,OAC3BumC,MAAO,EACP1yC,KAAMd,GAASiN,SAIJgC,UC3CTwkC,I,OAAWxiC,IAAQ,SAAAwK,GAGvB,IAFA,IAAMxM,EAAQ,GAEd,MAAiB7O,OAAO4D,OAAO0vC,IAA/B,eAA2C,CAAtC,IAAIl4B,EAAI,KACPC,EAAWD,EAAK1a,QAAUb,GAAUgb,aACtChM,EAAM8I,KAAKyD,GAIf,OAAOvM,EAAMmO,MAAK,SAACkB,EAAGH,GAAJ,OAAUG,EAAEk1B,MAAQr1B,EAAEq1B,aAGpCG,GAAe,SAAAn4B,GACnB,GAAIA,EAAKnO,QAAUpN,GAAU4C,QAC3B,OAAO+wC,GAAWp4B,EAAK/W,IAGzB,IAAMA,EAAE,UAAM+W,EAAK/W,GAAX,YAAiB+W,EAAKnO,MAAMu1B,eACpC,OAAO7zB,GAAatK,IAGTovC,GAAW,SAAC,GAKlB,IAJMC,EAIP,EAJJx0C,UACAu2B,EAGI,EAHJA,sBAEApa,GACI,EAFJmB,sBAEI,EADJnB,YAEMxM,EAAQwkC,GAASh4B,GAEvB,OACE,sBAAKkiB,UAAU,WAAf,SACE,sBAAKA,UAAU,eAAf,SACG1uB,EAAMnF,KACL,gBAAG68B,EAAH,EAAGA,IAAKrnC,EAAR,EAAQA,UAAW+zC,EAAnB,EAAmBA,SAAUC,EAA7B,EAA6BA,WAAY7uC,EAAzC,EAAyCA,GAAI8uC,EAA7C,EAA6CA,UAAWzyC,EAAxD,EAAwDA,KAAxD,OACE,eAAC2hC,GAAA,EAAD,CAEItjC,IAAKG,EACLqjC,UAAW,MACXlD,MACE,uCACE,6BAAIkH,IACJ,eAAC,KAAD,CAEIhJ,UAAW,WACXqE,OAAQuR,EAAU93B,EAAW3a,MAGjC,mCAAKuyC,EAAL,UAbR,SAkBE,gBAACpT,GAAA,EAAD,CAEItC,UAAWsD,KAAW,CACpB8S,SAAUz0C,IAAcw0C,IAE1Bv+B,MAAO,UACPqZ,QAAS,kBAAMiH,EAAsBv2B,IACrC2+B,QACE3+B,IAAcw0C,EAAmB,YAAc,OARrD,UAYE,sBAEInW,UAAU,UAAD,OAAYl5B,GACrBiiC,IAAK/mB,GACL4d,MAAO,CACLwV,gBAAgB,OAAD,OAASY,GAAa,CACnCtmC,MAAOoO,EAAW3a,GAClB2D,OAFa,MAMnBkiC,IAAKA,IAEP,uBAAMhJ,UAAU,kBAAhB,SAAmC2V,iBAsBpC,SAASpV,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAmBD,GAAcC,GAAaF,QAVtD0V,GAAStL,aAAe,CACtB1S,sBAhGW,aAiGXjZ,sBAAuB,GACvBnB,WAAY,I,WCrGRu4B,GAAW,SAAC,GAAD,IACfle,EADe,EACfA,sBACA9rB,EAFe,EAEfA,MACAi/B,EAHe,EAGfA,0BACA9hB,EAJe,EAIfA,eAJe,OAMf,sBAAWwW,UAAW,eAAtB,SACGtlB,GAAUrO,GAAOF,KAAI,SAAAC,GAAI,OACxB,eAAC04B,GAAA,EAAD,CAEItjC,IAAK4K,EAAKtF,GACVk+B,UAAW,MACXlD,MAAO11B,EAAKjF,KAJhB,SAOE,gBAACm7B,GAAA,EAAD,CAEItC,UAAWsD,KAAW,CACpB,cAAel3B,EAAKtF,KAAO0iB,IAE7B5R,MAAO,UACPqZ,QAAS,kBAAMkH,EAAsB/rB,IACrCk0B,QAASl0B,EAAKtF,KAAO0iB,EAAiB,YAAc,OAPxD,UAUE,sBACEwf,IAAK58B,EAAKjF,KAER64B,UAAW,SACX+I,IAAK/mB,GACL4d,MAAO,CAAEwV,gBAAgB,OAAD,OAASd,GAAWloC,EAAKtF,QAGrD,oBAASk5B,UAAW,WAApB,SACG/qB,GAAcq2B,EAA0Bl/B,EAAKtF,kBAepDwvC,GAAc,SAAC,GAAD,IAClBC,EADkB,EAClBA,mBACApe,EAFkB,EAElBA,sBACAmT,EAHkB,EAGlBA,0BACAkL,EAJkB,EAIlBA,uBACAhtB,EALkB,EAKlBA,eALkB,OAOlB,eAAC+jB,GAAA,EAAD,CAAavN,UAAW,cAAeoE,UAAW,GAAlD,SACE,gBAACqS,GAAA,EAAD,CAAYC,WAAW,EAAMC,WAAY,SAAUC,KAAM,SAAzD,UACE,eAAC,GAAD,IACCJ,EAAuB1lC,OAAS,GAC/B,uCACE,eAACmzB,GAAA,EAAD,CAAS4S,YAAY,WAAWC,UAAQ,IACxC,eAAC,GAAD,CAEI3e,wBACA9rB,MAAOmqC,EACPlL,4BACA9hB,sBAMP+sB,EAAmBzlC,OAAS,GAC3B,uCACE,eAACmzB,GAAA,EAAD,CAAS4S,YAAY,WAAWC,UAAQ,IACxC,eAAC,GAAD,CAEI3e,wBACA9rB,MAAOkqC,EACPjL,4BACA9hB,4BAiBC,SAAS+W,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAsBD,GAAcC,GAAaF,Q,WCvFvD57B,GASEjD,GATFiD,QACAkG,GAQEnJ,GARFmJ,UACAjG,GAOElD,GAPFkD,QACAE,GAMEpD,GANFoD,KACAmjB,GAKEvmB,GALFumB,QACAvhB,GAIEhF,GAJFgF,MACA0E,GAGE1J,GAHF0J,cACAJ,GAEEtJ,GAFFsJ,cACAnG,GACEnD,GADFmD,MAGIiyC,GAAa,CACjBC,OAAQ,CAAC,IAAK,QACdC,QAAS,KAGLC,GAAc,CAClBC,kBAAmB7lC,GAAMmkC,YAAYC,SACrC0B,aAAc9lC,GAAME,OAAOkkC,SAC3B2B,UAAW/lC,GAAMC,IAAImkC,UAGnBpkC,GAAMG,SACRylC,GAAYI,aAAehmC,GAAMG,OAAOikC,UAGnC,IAAMtB,GAAiB,SAAC,GAOxB,IANLzyC,EAMI,EANJA,UACAuJ,EAKI,EALJA,qBAKI,IAJJqsC,YAAkBC,EAId,EAJWl2B,EAAoBm2B,EAI/B,EAJ4Bl2B,EAChCtU,EAGI,EAHJA,UACAqU,EAEI,EAFJA,EACAC,EACI,EADJA,EAIA,GAAoB,MAAhBi2B,GAAwB71C,IAAcumB,GACxC,OAAO,EAGT,IAAIwvB,EAA+BxsC,EAEnC,OAAQvJ,GACN,KAAKsJ,GACHysC,EAA+B97B,GAC7BJ,GAAcF,GAAiBrO,KAC/B6O,eAEF,MAEF,KAAKzQ,GACHqsC,EAA+BpsC,OAAOC,iBAO1C,IAAMyf,EAAa,EAAI0sB,EACjBC,EAAcH,EAAeE,EAC7BE,EAAcH,EAAeC,EAInC,OACEp2B,GAAKq2B,GACLr2B,GALoBq2B,EAAc3sB,GAMlCzJ,GAAKq2B,GACLr2B,GANoBq2B,EAAc5sB,GAUzB6sB,GAAW3S,gBACtB,SAAA1E,GACE,IAAQ+W,EAAmD/W,EAAnD+W,YAAalvB,EAAsCmY,EAAtCnY,YAAagsB,EAAyB7T,EAAzB6T,eAAgB/yB,EAASkf,EAATlf,EAAGC,EAAMif,EAANjf,EAErD,OACE,eAAC,GAAD,CAEIg2B,cACAnD,eAAgBA,GAAe5T,GAC/BnY,cACAgsB,iBACA/yB,IACAC,SAKR,SAACuyB,EAAMC,GACL,OAAIK,GAAeN,KAAUM,GAAeL,KAK1CD,EAAKzrB,cAAgB0rB,EAAK1rB,aAC1ByrB,EAAK5oC,uBAAyB6oC,EAAK7oC,yBAgB5B4sC,GAAsB,SAAC,GAQ7B,IAPLC,EAOI,EAPJA,aAEAC,EAKI,EALJA,cACAC,EAII,EAJJA,eACAC,EAGI,EAHJA,MACAlB,EAEI,EAFJA,OACAC,EACI,EADJA,QAQA,OANA7X,qBAAU,WACM,IAAV8Y,GAAiC,IAAlBF,GACjBC,MAED,CAACC,EAAOF,EAAeC,IAGxB,uCACE,eAAC,iBAAD,CAEIE,OAAQpB,GACRrW,SAAU,CACRsW,SACAC,aAIN,eAAC,KAAD,UAAqBc,IACrB,sBAAK/X,UAAU,kCAAf,SACE,eAAC8E,GAAA,EAAD,CAEIE,UAAW,MACXlD,MAAO,UAHX,SAME,eAAC4I,GAAA,EAAD,CAEI,aAAc,UACd9yB,MAAO,UACPqZ,QAAS+lB,EAJb,SAOE,eAAC,KAAD,UAIN,sBAAKhX,UAAU,iCAAf,SACE,eAAC8E,GAAA,EAAD,CAEIE,UAAW,MACXlD,MAAO,WAHX,SAME,eAAC4I,GAAA,EAAD,CAEI,aAAc,WACd9yB,MAAO,UACPqZ,QAASgmB,EAJb,SAOE,eAAC,KAAD,cAYCmB,GAAe,SAAC,GAAD,IAC1Br1C,EAD0B,EAC1BA,QACAgX,EAF0B,EAE1BA,MACApY,EAH0B,EAG1BA,UACAu6B,EAJ0B,EAI1BA,2BACAqb,EAL0B,EAK1BA,YACArsC,EAN0B,EAM1BA,qBACAmxB,EAP0B,EAO1BA,iBACApvB,EAR0B,EAQ1BA,UACA2nB,EAT0B,EAS1BA,iBACA5xB,EAV0B,EAU1BA,KACAqxC,EAX0B,EAW1BA,eAX0B,OAa1B,uCACE,sBAEIrU,UAAW,cACXqY,aAAc,kBAAMhE,EAAe,CAAE/yB,EAAG,KAAMC,EAAG,QAHrD,SAMGrG,GAAUlY,GAAMmJ,KAAI,SAAC+5B,EAAO3kB,GAAR,OACnB,sBAAKye,UAAU,MAAf,SACG9kB,GAAUnY,GAASoJ,KAClB,SAAC+5B,EAAO5kB,EAAGg3B,GAAX,IAAgBjwB,EAAhB,uDAA8BtO,EAAMwH,GAAGD,GAAvC,OACE,eAACu2B,GAAD,CAGIl2C,YACA41C,cACArsC,uBACA+B,YACAob,cACAgsB,iBACA/yB,IACAC,KATGD,OAJaC,QAqB7BqT,EACC,eAAC0X,GAAA,EAAD,CAAaC,UAAU,WAAvB,SACE,eAACE,GAAA,EAAD,UACE,eAACpG,GAAA,EAAD,CACEC,QACE,eAACoG,GAAA,EAAD,CACE90B,MAAM,UACN2f,QAAS8E,EACT0E,SAAU7E,EACV/0B,KAAK,uBAGTq/B,MAAM,8DAIV,SAkBF+R,GAA4B,IAAI5zC,IAAI,CACxCC,GACAkG,GACAjG,GACAE,GACA4B,GACA7B,KAGI0zC,GAAiC,SAAC,GAAD,IAAG9T,EAAH,EAAGA,SAAUoI,EAAb,EAAaA,KAAMxmC,EAAnB,EAAmBA,MAAnB,OACrC,eAACw+B,GAAA,EAAD,CAAegI,OAAM9H,UAAW,MAAOlD,MAAM,UAAD,OAAYx7B,EAAZ,cAAuBA,GAAnE,SACGo+B,KAIQ+T,GAAQ,SAAAjY,GACnB,IACEzmB,EAOEymB,EAPFzmB,MACApY,EAME6+B,EANF7+B,UACA02B,EAKEmI,EALFnI,6BACAntB,EAIEs1B,EAJFt1B,qBACAe,EAGEu0B,EAHFv0B,UACA6O,EAEE0lB,EAFF1lB,eACAwZ,EACEkM,EADFlM,eAGF,EAAsCqK,mBAAS,CAAErd,EAAG,KAAMC,EAAG,OAA7D,oBAAOg2B,EAAP,KAAoBlD,EAApB,KACA,EAAwC1V,mBAAS,GAAjD,oBAAO+Z,EAAP,KAAqBC,EAArB,KACA,EAAgDha,mBAASzzB,GAAzD,oBAAO0tC,EAAP,KAAyBC,EAAzB,KAEAzZ,qBAAU,WACRyZ,EAAoB3tC,KACnB,CAACA,IAOJ,OACE,uCACE,eAAC,iBAAD,CAEIitC,OAAQjB,KAIZ,uBAEIlX,UAAWsD,KAAW,QAAS,CAC7B,eAAgB3hC,IAAciD,GAC9B,iBAAkBjD,IAAcmJ,GAChC,eAAgBnJ,IAAckD,GAC9B,YAAalD,IAAcoD,GAC3B,qBAAsBgW,GAAyB,CAC7C9O,YACA6O,mBAEF,aAAcnZ,IAAcgF,GAC5B,qBAAsBhF,IAAc0J,GACpC,qBAAsB1J,IAAcsJ,GACpC,aAActJ,IAAcmD,KAE9B,uBAAwBwvB,EAhB5B,UAmBE,eAAC,KAAD,CAEI5c,QAAS,CACPohC,eAAe,GAEjBC,MAAO,CACLC,cAAe,GAEjBC,IAAK,CACH1W,SAAUmW,GAAgB,GAI5B1B,OAAQ,CACNgC,cAAe,GAEjB/B,QAAS,CACP+B,cAAe,GAEjBE,aAAc,YAAgB,IAAbhB,EAAY,EAAZA,MAGXA,GAAS,GACXS,EAAgBT,IAGpBiB,MAAO,CACL5W,UAAU,GAEZ6W,YAAa,CAAE7W,UAAU,GA7B7B,SAgCG,SAAA8W,GAAc,OACb,eAAC,GAAD,0CAEOA,GAFP,IAGItB,aACE,eAAC,GAAD,0CACWvX,GADX,IACkB+W,cAAalD,4BAOxCkE,GAA0B99B,IAAI9Y,IAC7B,sBAAKq+B,UAAU,iBAAf,SACE,eAACsZ,GAAA,EAAD,CAEIC,OAAO,EACP1lC,IAAKkG,EAAMjJ,OAAS,EACpB8C,IAAK,EACLmtB,SAAU,SAACzF,EAAGh1B,GAAJ,OApFmB,SAAAA,GACzCuyC,EAAoBvyC,GACpB+xB,EAA6B/xB,GAmFfkzC,CAAmClzC,IACrCmzC,KAAM,EACNnzC,MAAOsyC,EACPc,kBAAmB,OACnBC,iBAAkB,SAAArzC,GAAK,gBAAe,EAARA,EAAY,IAC1CszC,oBAAqBpB,OAK7B,eAAC,GAAD,IACA,sBAAWxY,UAAW,kBAsBf,SAASO,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAgBD,GAAcC,GAAaF,Q,yBCra7CqZ,I,OAAyB,CAC7Bx0B,GAAgB,cAChBA,GAAgB,cAChBA,GAAgB,gBAChBA,GAAgB,sBAGZy0B,GAAqCxmC,IAAQ,SAAA2L,GAAqB,OACtE46B,GAAuBhgC,QACrB,SAAAyL,GAAW,OAAIA,IAAgBrG,EAAsBqG,EAAYxe,UAK/DizC,IAIHv6C,KAAOw6C,WAAW,8BAA8B3pC,UACrB,kCAA3B7Q,KAAOC,SAASw6C,QACY,8BAA3Bz6C,KAAOC,SAASw6C,QACW,0BAA3Bz6C,KAAOC,SAASw6C,QAEdC,GAAO,SAAC,GAAD,IACXj7B,EADW,EACXA,sBACAgZ,EAFW,EAEXA,4BAFW,IAIXkiB,uCAJW,MAIuBL,GAChC76B,GALS,SAQX,uBAAK+gB,UAAU,OAAf,UACE,2CACA,gBAAC8D,GAAA,EAAD,WACE,eAACE,GAAA,EAAD,CAAkBoW,WAAY,eAAC,KAAD,IAA9B,SACE,4EAEF,eAACzW,GAAA,EAAD,UACE,eAAC,KAAD,CAEI0W,WAAY,SACZra,UAAW,WACXqE,OAAO,g+DAiBf,eAACJ,GAAA,EAAD,IACA,eAACtC,GAAA,EAAD,UACE,gBAACK,GAAA,EAAD,WACE,eAAC,KAAD,CAEIhC,UAAW,WACXqa,WAAY,SACZhW,OAAO,kYAAD,OAKyG1hC,GALzG,yOASTw3C,EAAgCrpC,OAC/B,uCACE,eAAC,KAAD,CAEIkvB,UAAW,WACXqa,WAAY,SACZhW,OAAO,sJAOX,qBAAIrE,UAAU,YAAd,SACGma,EAAgChuC,KAAI,SAAAmZ,GAAW,OAC9C,qBAAU9jB,IAAK8jB,EAAYxe,GAA3B,SACE,eAAC,GAAD,CAAmBwe,0BAKzB,KACJ,eAACgd,GAAA,EAAD,CAEI1qB,MAAO,UACPqZ,QAAS,kBAAMgH,EAA4Br2B,GAAeqC,OAC1Dq8B,QAAS,YAJb,iCAWJ,eAAC2D,GAAA,EAAD,IACA,eAACtC,GAAA,EAAD,UACE,eAACK,GAAA,EAAD,UACE,eAAC,KAAD,CAEIhC,UAAW,WACXqa,WAAY,SACZhW,OAAO,+BAAD,OACUh4B,GAAM,sBADhB,iEAC8FA,GAAM,sBADpG,spBAad,eAAC43B,GAAA,EAAD,IACA,eAACtC,GAAA,EAAD,UACE,eAACK,GAAA,EAAD,UACE,eAAC,KAAD,CAEIhC,UAAW,WACXqa,WAAY,SACZhW,OAAO,g5CAqBf,eAACJ,GAAA,EAAD,IACC8V,IACC,uCACE,eAACpY,GAAA,EAAD,UACE,eAACK,GAAA,EAAD,UACE,eAAC,KAAD,CAEIhC,UAAW,WACXqa,WAAY,SACZhW,OAAO,kiBAWf,eAACJ,GAAA,EAAD,OAGJ,eAACtC,GAAA,EAAD,UACE,eAACK,GAAA,EAAD,UACE,eAAC,KAAD,CAEIhC,UAAW,WACXqa,WAAY,SACZhW,OAAO,q2BAkCJ,SAAS9D,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAeD,GAAcC,GAAaF,Q,WCvOrC8Z,GAAb,+MACE95C,MAAQ,CACN8mC,SAAUtlB,GACVu4B,iBAAiB,EACjBC,cAAe/1C,GACfg2C,OAAQ,EACRC,kBAAkB,EAClBp5B,EAAGg5B,EAAIK,iBACPp5B,EAAG+4B,EAAIK,kBARX,EAWEC,oBAAsB,KAXxB,EAYEC,oBAAsB,KAZxB,EAaEvb,UAAY,IAAIwb,aAblB,EAuDEC,KAvDF,wBAuDS,6CAAAp6B,EAAA,yDACCq6B,EAAOV,EAAIK,iBADZ,EAGyC,EAAKn6C,MAA5By6C,EAHlB,EAGGT,cAA6Bl5B,EAHhC,EAGgCA,EAAGC,EAHnC,EAGmCA,EAClC25B,EAAeF,EAAO,EAAKx6C,MAAM8gB,EAAI9c,GAAOC,GAElD,EAAKuzB,SAAS,CACZwiB,cAAeU,IAGbD,IAAiBC,EAVhB,oBAWGxb,EAAS,SAAC,GAAgB,IAAd+a,EAAa,EAAbA,OAChB,EAAKziB,SAAS,CAAEyiB,YAZf,SAgBKhb,EAAW6a,EAAIa,sBACf3b,EAAS,UAEX0b,IAAiB12C,GAnBpB,kCAoBO,EAAK86B,UAAUC,MAAM,CACzBxe,KAAM,CACJ05B,OAAQ,GAEV9a,GAAI,CACF8a,OAAQ,KAEVjb,SACAC,WACAC,WA7BH,iDAgCO,EAAKJ,UAAUC,MAAM,CACzBxe,KAAM,CACJ05B,OAAQ,KAEV9a,GAAI,CACF8a,OAAQ,GAEVjb,SACAC,WACAC,WAzCH,mGAkDL,EAAK1H,SAAS,CACZuiB,iBAAiB,IAnDd,oBAuDG,EAAKjb,UAAUC,MAAM,CACzBxe,KAAM,CAAEO,IAAGC,KACXoe,GAAI,CAAEre,EAAG05B,EAAMz5B,EAAG+4B,EAAIK,kBACtBlb,SAAU6a,EAAIc,4BACd1b,OAAQ,YAAe,IAAZpe,EAAW,EAAXA,EAAGC,EAAQ,EAARA,EACZ,EAAKyW,SAAS,CAAE1W,IAAGC,OAErBie,OAAQ,WA9DP,6FAqEL,EAAKxH,SAAS,CAAEuiB,iBAAiB,IACjC,EAAKc,eAtEA,kEAvDT,EAgIEC,yBAA2B,WACzB,EAAKV,oBAAsB,KAC3B,EAAKG,QAlIT,EAqIEM,aAAe,WACT,EAAK7a,MAAM0G,aAIf,EAAK0T,oBAAsB77B,WACzB,EAAKu8B,yBACLvsC,KAAKiD,SAAW,EAAKupC,gBA5I3B,iDAwBE,WACE,OAAO,IAAOloC,KAAKmtB,MAAMnlB,aAAavK,SAzB1C,gCA4BE,SAAmB0qC,GAAY,IAAD,OAE1BnoC,KAAKmtB,MAAM0G,aACVsU,EAAUtU,YACkB,OAA7B7zB,KAAKunC,qBAELrc,aAAalrB,KAAKunC,sBAGfvnC,KAAKmtB,MAAM0G,YAAcsU,EAAUtU,YACtC7zB,KAAKgoC,eAILhoC,KAAKmtB,MAAM7uB,IAAI0G,qBACbmjC,EAAU7pC,IAAI0G,uBACfhF,KAAK7S,MAAMk6C,mBAEZrnC,KAAK2kB,SAAS,CAAE0iB,kBAAkB,IAElCrnC,KAAKwnC,oBAAsB97B,YACzB,kBAAM,EAAKiZ,SAAS,CAAE0iB,kBAAkB,MACxCJ,EAAImB,yBAlDZ,+BAgJE,WAAqB,IAAD,OAClBpoC,KAAKgoC,eACJ,wBAAC,uBAAA16B,EAAA,kEACA,EADA,SACgCsB,GAAY,EAAKue,MAAM7uB,KADvD,yBACgB21B,SADhB,WACKtP,SADL,0DAAD,KAlJL,kCAuJE,WACG,CAAC3kB,KAAKunC,oBAAqBvnC,KAAKwnC,qBAAqBlgC,QAAQ4jB,cAE9DlrB,KAAKisB,UAAUD,WA1JnB,oBA6JE,WACE,MAGIhsB,KAFFmtB,MAASjpB,EADX,EACWA,wBAAyB5F,EADpC,EACoCA,IAAKioB,EADzC,EACyCA,eAAgB9yB,EADzD,EACyDA,GAAIogC,EAD7D,EAC6DA,WAD7D,EAGI7zB,KADF7S,MAAS8mC,EAFX,EAEWA,SAAUiT,EAFrB,EAEqBA,gBAAiBE,EAFtC,EAEsCA,OAAQC,EAF9C,EAE8CA,iBAAkBp5B,EAFhE,EAEgEA,EAAGC,EAFnE,EAEmEA,EAG7DsG,EAAiBxQ,GAAkB1F,EAAK7K,EAAIyQ,GAElD,OACE,uBAEIyoB,UAAWsD,KAAW,MAAO,CAC3B,mBAAoBiX,EACpB,cAAerT,EACf,YAAaI,IAAatlB,KAE5BiP,QAAS,kBAAM2I,EAAejoB,IAC9BiuB,MAAO,CACLuI,KAAK,GAAD,OAAK7mB,EAAL,KACJ4mB,IAAI,GAAD,OAAK3mB,EAAL,MAVT,UAcG2lB,GACC,qBAAGlH,UAAU,kBAAb,UAAgCnY,EAAhC,kBAEF,eAACid,GAAA,EAAD,CAEIC,OAAO,EACPC,UAAW,MACXlD,MAAOja,EACPilB,KAAM5F,EACNwU,YAAa,CACXC,eAAe,GAPrB,SAWE,uBAAW/b,MAAO,CAAEgc,UAAU,WAAD,OAAanB,EAAb,SAA7B,UACE,sBAEI1R,IAAKzB,EAEP0B,IAAKnhB,IAEP,eAAC,KAAD,CAEImY,UAAWsD,KAAW,YAAa,CACjC,eAAgBoX,IAElBra,KAAMwb,YAKd,qBAAU7b,UAAW,yBAArB,SACG,IAAIzpB,MAAMlD,KAAKmtB,MAAM7uB,IAAI0G,sBAAsB7B,OAAOrK,KAAI,SAACwZ,EAAGpW,GAAJ,OACzD,qBAAU/N,IAAK+N,EAAf,SACE,eAAC,KAAD,CAEI8wB,KAAMwb,qBAxNxB,GAAyBjX,aAAZ0V,GAeJa,sBAAwB,IAfpBb,GAgBJc,4BAA8B,IAhB1Bd,GAmBJmB,qBAAuB,IAnBnBnB,GAsBJK,eAAiB,kBAAM,GAAqB,GAAhB5rC,KAAKiD,UAsNnC,IAAM8pC,GAAS,SAAC,GAOhB,IANLvkC,EAMI,EANJA,wBACA8D,EAKI,EALJA,aACAwe,EAII,EAJJA,oBACAD,EAGI,EAHJA,eACA9yB,EAEI,EAFJA,GACA4uB,EACI,EADJA,cAQA,OANA0J,qBAAU,WACR,OAAO,WACLvF,OAED,CAACA,IAGF,sBAAKmG,UAAU,cAAf,SACG3kB,EAAalP,KAAI,SAAAwF,GAAG,OACnB,eAAC,GAAD,CAEI4F,0BACA5F,MACA0J,eACA7Z,IAAKmQ,EAAI7K,GACT8yB,iBACA9yB,KACAogC,WAAYxR,IAAkB/jB,EAAI7K,WAiB/B,SAASy5B,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAiBD,GAAcC,GAAaF,Q,WC7RvCub,GAAb,+MACEv7C,MAAQ,CACNw7C,aAAc,IAFlB,EAKEC,WALF,aAKmB,EAAKzb,MAAM0b,MAAMjrC,WALpC,EA0BEkrC,iBAAmB,SAAAC,GAAS,OAAIA,GAAa,EAAK5b,MAAM6b,eA1B1D,EA4BEC,mBAAqB,WACnB,0BACE9b,MAAS8b,EADX,EACWA,mBAAoBh4B,EAD/B,EAC+BA,MAC7Bi4B,EAFF,EAEEA,mBAIEj4B,GAFc,EAAKkc,MAAM0b,MAAMnvB,IAAIwvB,GAA/Bt5C,OAGNq5C,EAAmBC,IApCzB,EAwCEC,eAAiB,YAA4B,IAAfl2C,EAAc,EAAxBkxB,OAAUlxB,MAC5B,EAAK0xB,SAAS,CAAEgkB,aAAc11C,KAzClC,EA4CEm2C,mBAAqB,WACnB,sBACWn4B,EADX,EACEkc,MAASlc,MAILo4B,EALN,EAEEH,mBAG0C,EACtCI,EAAqB,EAAKnc,MAAM0b,MAAMnvB,IAAI2vB,GAE5CC,GAAsBr4B,GAASq4B,EAAmB15C,OACpD,EAAK+0B,SAAS,CAAEgkB,aAAcY,OAAOF,MAtD3C,uDAOE,WACE,OAAOpxC,OAAO+H,KAAK7S,MAAMw7C,gBAR7B,oCAWE,WACE,IACW13B,EAEPjR,KAFFmtB,MAASlc,MACTi4B,EACElpC,KADFkpC,mBAGIP,EAAe3oC,KAAKmtB,MAAM0b,MAAMnvB,IAAIwvB,GAE1C,QACIP,IACD3oC,KAAK8oC,iBAAiBI,IACvBj4B,GAAS03B,EAAa/4C,QAtB5B,+BA0DE,WACEoQ,KAAKopC,uBA3DT,gCA8DE,SAAmBjB,GACbnoC,KAAKmtB,MAAMlc,QAAUk3B,EAAUl3B,OACjCjR,KAAKopC,uBAhEX,oBAoEE,WACE,IACEI,EAaExpC,KAbFwpC,yBACAP,EAYEjpC,KAZFipC,mBACAH,EAWE9oC,KAXF8oC,iBACAK,EAUEnpC,KAVFmpC,eAJF,EAcInpC,KATFmtB,MACE32B,EANJ,EAMIA,YACAizC,EAPJ,EAOIA,oBACAx4B,EARJ,EAQIA,MACAy4B,EATJ,EASIA,gBACAjb,EAVJ,EAUIA,MAEFma,EAEE5oC,KAFF4oC,WACSD,EACP3oC,KADF7S,MAASw7C,aAGLgB,EAA0Bb,EAAiBF,EAAWhtB,OAAO,GAAG,GAAG,IAEzE,OACE,gBAAC0S,GAAA,EAAD,CAAM3B,UAAU,eAAhB,UACE,eAAC4B,GAAA,EAAD,CAAkBE,UACjBj4B,GACC,eAACm4B,GAAA,EAAD,UACE,eAAC7B,GAAA,EAAD,UAAat2B,MAGhBmzC,GAA2BF,EAC1B,eAAC9a,GAAA,EAAD,UACE,eAAC7B,GAAA,EAAD,UACE,kCAAS2c,QAIb,qCACE,gBAAC5T,GAAA,EAAD,WACE,eAAC5G,GAAA,EAAD,CAEI1qB,MAAO,UACP2qB,UAAWsa,EACX5rB,QAASqrB,EACThc,QAAS,YALb,iBAUA,eAAC2P,GAAA,EAAD,CAEIlP,SAAUyb,EACVl2C,MAAO01C,EAHX,SAMGC,EAAW9vC,KAAI,oCAAErF,EAAF,KAAMZ,EAAN,YACd,eAACiqC,GAAA,EAAD,CAEE7pC,MAAOQ,EACPy7B,SAAUje,EAAQpe,EAAKjD,OAASk5C,EAAiBr1C,GAHnD,SAKGi2C,EAAgB72C,IAJZY,oBA1HzB,GAAkC89B,aAqJnB,SAASrE,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAuBD,GAAcC,GAAaF,QCpKnD,I,GAAMyR,GAAW,SAAAzR,GACtB,IAAQkE,EAAqClE,EAArCkE,SAAUp+B,EAA2Bk6B,EAA3Bl6B,MAAO4rC,EAAoB1R,EAApB0R,MAAUC,EAAnC,aAA6C3R,EAA7C,8BAEA,OACE,kDACE4R,KAAK,WACLC,OAAQ/rC,IAAU4rC,EAClBprC,GAAE,wBAAmBorC,GACrBpB,kBAAA,mBAA6BoB,IACzBC,GALN,aAOG7rC,IAAU4rC,EAAQxN,EAAW,SAWvB4N,GAAY,SAAAJ,GAAK,MAAK,CACjCprC,GAAG,YAAD,OAAcorC,GAChB,gBAAgB,iBAAhB,OAAkCA,KCc9B+K,I,OAA0B3pC,IAAQ,SAAAb,GAAa,OACnDA,EAAcnR,QACZ,SAACC,EAAK27C,GAKJ,OAJA37C,EAAI27C,EAAc/5C,OAASrB,GAAS2E,KAAO,QAAU,cAAc2T,KACjE8iC,GAGK37C,IAET,CAAE47C,MAAO,GAAIC,WAAY,SAIhBC,GAAO,SAAC,GAgBd,IAfLrkB,EAeI,EAfJA,sBACAE,EAcI,EAdJA,qBACAH,EAaI,EAbJA,oBACAE,EAYI,EAZJA,sBACAE,EAWI,EAXJA,+BACAre,EAUI,EAVJA,eACAwJ,EASI,EATJA,MACAsQ,EAQI,EARJA,iBACA9P,EAOI,EAPJA,gBACAwP,EAMI,EANJA,eACAhmB,EAKI,EALJA,iBACAmE,EAII,EAJJA,cACAqL,EAGI,EAHJA,WAGI,IADJoX,0BACI,MADiBzW,GAA8B3D,GAC/C,EACJ,EAAoC6jB,mBAAS,GAA7C,oBAAO4U,EAAP,KAAmBC,EAAnB,KAEA,EAA8ByJ,GAAwBxqC,GAA9C0qC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,WAEf,OACE,uBAAKpd,UAAU,OAAf,UACE,eAAC,KAAD,CAAQC,SAAS,SAASroB,MAAM,UAAhC,SACE,gBAAC67B,GAAA,EAAD,CACEntC,MAAOitC,EACPxS,SAAU,SAACzF,EAAGoY,GAAJ,OAAeF,EAAcE,IACvC7F,aAAW,YAHb,UAKE,eAAC8F,GAAA,EAAD,4BAAWnN,MAAO,SAAY8L,GAAU,MACxC,eAACqB,GAAA,EAAD,4BAAWnN,MAAO,YAAe8L,GAAU,MAC3C,eAACqB,GAAA,EAAD,4BAAWnN,MAAO,YAAe8L,GAAU,WAG/C,eAAC,GAAD,CAAUhsC,MAAOitC,EAAYrB,MAAO,EAApC,SACE,eAAC,GAAD,CAEI7lC,MAAO8wC,EACPhS,gBAAgB,MAItB,eAAC,GAAD,CAAU7kC,MAAOitC,EAAYrB,MAAO,EAApC,SACE,eAAC,GAAD,CAEI7lC,MAAO+wC,EACPjS,gBAAgB,MAItB,eAAC,GAAD,CAAU7kC,MAAOitC,EAAYrB,MAAO,EAApC,SACE,sBAAIlS,UAAU,YAAd,UACGllB,GAAkB,GACjB,8BACE,gBAAC6mB,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAEIC,OACE,sBACQkH,IAAK18B,GAAM,iBACjB28B,IAAK,kBAGTlH,MAAO,eACPC,UACE,iCACE,yCAAWvtB,GAAY0gB,MACvB,0DAC2B,IACxBjgB,GAAc6F,WAMzB,eAACknB,GAAA,EAAD,UACE,gBAAC7B,GAAA,EAAD,8ErMtGsB,IqMsGtB,oBAKF,eAAC+I,GAAA,EAAD,UACE,eAAC5G,GAAA,EAAD,CAEIC,SAAUje,EAAQ4Q,EAClBtd,MAAO,UACPqZ,QAASkI,EACTmH,QAAS,YALb,wBAeR,8BACE,eAAC,GAAD,CAEIgc,mBAAoBvjB,EACpB+jB,oBACE,gDACFT,cAAe/nB,EACfyoB,gBAAiB,gBAAGh6C,EAAH,EAAGA,QAASE,EAAZ,EAAYA,MAAOD,EAAnB,EAAmBA,KAAnB,gBACZgS,GAAa/R,GADD,aACYF,EADZ,cACyBC,IAC1Ck5C,MAAOr5C,GACPi/B,MAAO,mBAIb,8BACE,eAAC,GAAD,CAEIwa,mBAAoBpjB,EACpB4jB,oBACE,kDACFT,cAAev3B,EACfi4B,gBAAiB,gBAAGz5C,EAAH,EAAGA,KAAML,EAAT,EAASA,MAAT,gBACZ+R,GAAa/R,GADD,aACYK,EADZ,aAEjB44C,MAAO74C,GACPy+B,MAAO,kBAIb,8BACE,eAAC,GAAD,CAEIj4B,YACE,mGACFyyC,mBAAoBtjB,EACpB8jB,oBACE,yDACFT,cAAeznB,EACfmoB,gBAAiB,gBAAG55C,EAAH,EAAGA,KAAMF,EAAT,EAASA,MAAT,gBACZ+R,GAAa/R,GADD,aACYE,EADZ,uBAEjB+4C,MAAOh5C,GACP4+B,MAAO,4BAIZ1xB,GAASO,QAAUmN,EAAWzb,GAASiN,QACtC,8BACE,eAAC,GAAD,CAEIzF,YACE,gFACFyyC,mBAAoBrjB,EACpB6jB,oBAAqB,wCACrBT,cAAe/tC,EACfyuC,gBAAiB,gBAAG55C,EAAH,EAAGA,KAAMF,EAAT,EAASA,MAAT,gBACZ+R,GAAa/R,GADD,aACYE,EADZ,aAEjB+4C,MAAO94C,GACP0+B,MAAO,kBAIX,cAuBC,SAASvB,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAeD,GAAcC,GAAaF,QCrOnC,SAAS8c,GAAT,GAGX,IAFFhS,EAEC,EAFDA,0BAEC,IADD5+B,OAAUE,EACT,EADSA,YAAazF,EACtB,EADsBA,KAEvB,OACE,sBAAU64B,UAAW,YAAa8B,MAAM,mBAAD,OAAqB36B,GAA5D,UACE,8BACE,0DAED1E,OAAOpB,KAAKuL,GAAaT,KAAI,SAAAW,GAAM,OAClC,qBAAUtL,IAAKsL,EAAUywC,cAAY,aAArC,SACE,oBAEIvd,UAAWsD,KACTgI,EAA0Bx+B,IAAWF,EAAYE,GAC7C,WACA,gBALV,6DvCwPR0wC,EuC/OmC5wC,EAAYE,GvCgP/C2wC,EuC/OYlxC,GAASO,GAAQ3F,KvCgP7Bu2C,EuC/OazoC,GAAcq2B,EAA0Bx+B,IvC2OlB,UAK7B0wC,EAL6B,cAKTC,EALS,sBAKmBC,EALnB,cAEnCF,EACAC,EACAC,Q,WwCrPIC,GAAS,SAAC,GAOT,IANL3mB,EAMI,EANJA,sBACA/qB,EAKI,EALJA,UACA6O,EAII,EAJJA,eACAwwB,EAGI,EAHJA,0BACA5+B,EAEI,EAFJA,OAEI,IADJA,OAAU5F,EACN,EADMA,GAAIK,EACV,EADUA,KAEd,EAAgCw3B,mBAAS,GAAzC,oBAAOzsB,EAAP,KAAiBu4B,EAAjB,KAEArL,qBAAU,WACRqL,EACE17B,KAAK6E,IAAI2F,GAAiB7M,EAAQT,GAAY8C,KAAK8E,IAAI,EAAG3B,OAE3D,CAACjG,EAAWS,EAAQwF,IAGvB,IAAM0rC,EACJ1rC,EAAWD,GAAyBvF,GAEhCmxC,EACJ3rC,EAAW,GACXuH,GAAc/M,EAAQT,EAAWiG,IACjC6I,GAAyB,CACvB9O,YAGA6O,iBACuB,IAApBA,EAAwB9B,IAAW8B,GACpC8iC,IAGAE,EAAmB,WACnBD,GACF7mB,EAAsBtqB,EAAQwF,IAI5Bk4B,EAAc7wB,GAAiB7M,EAAQT,GAE7C,OACE,gBAAC01B,GAAA,EAAD,CAEI3B,UAAWsD,KAAW,SAAU,CAAE,cAAeua,IAFrD,UAKE,eAACjc,GAAA,EAAD,CAEIC,OAAQ,sBAAWkH,IAAK33B,GAAatK,GAAKkiC,IAAK7hC,IAC/C26B,MAAO36B,EACP46B,UACE,uCACE,8CAAgB/sB,GAAazI,GAASzF,GAAIR,UAC1C,gDACiB2O,GAAcq2B,EAA0BxkC,OAEzD,eAACw2C,GAAD,CAAuBhS,4BAA2B5+B,gBAK1D,gBAACw8B,GAAA,EAAD,WACE,eAAC5G,GAAA,EAAD,CAEItC,UAAW,cACXpoB,MAAO,UACP2qB,UAAWsb,IAAc3rC,EACzB+e,QAAS6sB,EACTxd,QAAS,YANb,kBAWA,eAAC,GAAD,CAEI4J,aAAc4T,EACd3T,mBAAoBM,EACpBL,cACAK,cACAnkC,MAAO4L,WAgBJ,SAASquB,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAiBD,GAAcC,GAAaF,Q,OCvG7C,SAASud,GAAT,GAMH,IALF9mB,EAKC,EALDA,kBACAhrB,EAIC,EAJDA,UACA6O,EAGC,EAHDA,eACAwwB,EAEC,EAFDA,0BACAx7B,EACC,EADDA,QAEQhJ,EAA0BgJ,EAA1BhJ,GAAIK,EAAsB2I,EAAtB3I,KAAM0C,EAAgBiG,EAAhBjG,YAEZ+zC,EAAkC3rC,GAAyBnC,GAE3D+tC,EACJpkC,GAAc3J,EAAS7D,EAAW,IAClC8O,GAAyB,CACvB9O,YAGA6O,iBACuB,IAApBA,EAAwB9B,IAAW8B,GACpC8iC,IAKN,OACE,gBAACjc,GAAA,EAAD,CAEI3B,UAAWsD,KAAW,SAAU,CAAE,cAAeua,IAFrD,UAKE,eAACjc,GAAA,EAAD,CAEIC,OAAQ,sBAAWkH,IAAK33B,GAAatK,GAAKkiC,IAAK7hC,IAC/C26B,MAAO36B,EACP46B,UACE,uCACE,6BAAIl4B,IACJ,eAACyzC,GAAD,CACQhS,4BAA2B5+B,OAAQoD,SAOnD,eAACo5B,GAAA,EAAD,UACE,eAAC5G,GAAA,EAAD,CACE1qB,MAAM,UACNqZ,QA1Bc,kBAAMgG,EAAkBnnB,IA2BtCwwB,QAAQ,YACRiC,UAAWsb,EAJb,+BAsBO,SAAStd,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAA0BD,GAAcC,GAAaF,QC1FtD,IAAMyR,GAAW,SAAAzR,GACtB,IAAQkE,EAAqClE,EAArCkE,SAAUp+B,EAA2Bk6B,EAA3Bl6B,MAAO4rC,EAAoB1R,EAApB0R,MAAUC,EAAnC,aAA6C3R,EAA7C,8BAEA,OACE,kDACE4R,KAAK,WACLC,OAAQ/rC,IAAU4rC,EAClBprC,GAAE,4BAAuBorC,GACzBpB,kBAAA,uBAAiCoB,IAC7BC,GALN,aAOG7rC,IAAU4rC,EAAQxN,EAAW,SAWvB4N,GAAY,SAAAJ,GAAK,MAAK,CACjCprC,GAAG,gBAAD,OAAkBorC,GACpB,gBAAgB,qBAAhB,OAAsCA,KCwDlC8L,I,OAAW,SAAC,GAAsD,IAApDvtB,EAAmD,EAAnDA,eAAgBniB,EAAmC,EAAnCA,iBAAkBwP,EAAiB,EAAjBA,WACpD,EAAoC6gB,mBAAS,GAA7C,oBAAO4U,EAAP,KAAmBC,EAAnB,KAEA,EAzDiC,SAAA/iB,GAIjC,IAHA,IAAMwtB,EAAwB,GACxBC,EAAsB,GAE5B,MAA8Bz7C,OAAOpB,KAAKovB,GAA1C,eAA2D,CAAtD,IAAM0tB,EAAe,KAClBC,EAAgBxuC,GAAWuuC,GAEjC,OAAQC,EAAc18C,YACpB,KAAKA,GAAWwL,QACd+wC,EAAsB7jC,KAAKgkC,GAC3B,MACF,KAAK18C,GAAW6M,MACd2vC,EAAoB9jC,KAAKgkC,GACzB,MACF,QACE,MAAM,IAAInxB,MAAJ,sCAAyCkxB,KAIrD,MAAO,CAAEF,wBAAuBC,uBAyC5BG,CAA2B5tB,GAF7BwtB,EADF,EACEA,sBACAC,EAFF,EAEEA,oBAGII,EAlCqB,SAACxgC,EAAY2S,GAIxC,IAHA,IAAI6tB,EAAoB,GAClBC,EAAmB9tB,EAAetkB,KAAI,SAAAmU,GAAC,OAAIA,EAAExZ,MAEnD,MAAiBrE,OAAOpB,KAAKm9C,IAA7B,eAA4C,CAAvC,IAAIr7C,EAAI,KACP2M,EAAU0uC,GAAar7C,GAAM2a,EAAW3a,IAE5C,GAAI2M,IAAYA,EAAQV,YAAcU,EAAQX,UAAW,CAIvD,IAHA,IAAMsvC,EAAmBD,GAAar7C,GAAM2M,EAAQX,WAChDuvC,GAAyB,EAE7B,MAAuBj8C,OAAOpB,KAAKo9C,EAAiB7xC,aAApD,eAAkE,CAA7D,IAAI+xC,EAAU,KACjBD,EACEA,KACI9uC,GAAW+uC,KAAeJ,EAAiBK,SAASD,IAGxDD,GACFJ,EAAkBlkC,KAAKqkC,IAK7B,OAAOH,EAWmBO,CACxB/gC,EACAogC,GAGIY,EAAY1uC,GAASO,QAAUrC,EAErC,OACE,uBAAK0xB,UAAU,WAAf,UACE,eAAC,KAAD,CAAQC,SAAS,SAASroB,MAAM,UAAhC,SACE,gBAAC67B,GAAA,EAAD,CACEntC,MAAOitC,EACPxS,SAAU,SAACzF,EAAGoY,GAAJ,OAAeF,EAAcE,IACvC7F,aAAW,gBAHb,UAKE,eAAC8F,GAAA,EAAD,4BAAWnN,MAAO,WAAc8L,GAAU,MACzCwM,EAAY,eAACnL,GAAA,EAAD,4BAAWnN,MAAO,SAAY8L,GAAU,MAAW,UAGpE,gBAAC,GAAD,CAAUhsC,MAAOitC,EAAYrB,MAAO,EAApC,UACE,oDACoB+L,EAAsBntC,OAD1C,KACoD,IACjDrO,OAAOpB,KAAKsO,GAAiBjO,GAAWwL,UAAU4D,OAFrD,OAIA,qBAAIkvB,UAAU,YAAd,SACGie,EAAsB9xC,KAAI,gBAAOukB,EAAP,EAAG5pB,GAAH,OACzB,8BACE,eAAC,GAAD,CAEI4F,OAAQiD,GAAiBjO,GAAWwL,SAASwjB,MAH1CA,QASb,eAACuT,GAAA,EAAD,IACA,qBAAIjE,UAAU,YAAd,SAKE,8BACE,eAAC2B,GAAA,EAAD,UACE,eAACK,GAAA,EAAD,UACE,eAAC,KAAD,CAEIqY,WAAY,SACZra,UAAW,WACXqE,OAAO,qIAQpBya,EACC,gBAAC,GAAD,CAAUx4C,MAAOitC,EAAYrB,MAAO,EAApC,UACE,oDACoBgM,EAAoBptC,OADxC,KACkD,IAC/CrO,OAAOpB,KAAKsO,GAAiBjO,GAAW6M,QAAQuC,OAFnD,OAIA,qBAAIkvB,UAAU,YAAd,SACGke,EAAoB/xC,KAAI,gBAAOukB,EAAP,EAAG5pB,GAAH,OACvB,8BACE,eAAC,GAAD,CAEI4F,OAAQiD,GAAiBjO,GAAW6M,OAAOmiB,MAHxCA,QASZ4tB,EAAkBxtC,OACjB,uCACE,eAACmzB,GAAA,EAAD,IACA,sBAAIjE,UAAU,YAAd,UACE,8BACE,kDAEDse,EAAkBnyC,KAAI,SAAA2D,GAAO,OAC5B,8BACE,eAAC,GAAD,CAAiBA,QAASA,KADnBA,EAAQhJ,aAMrB,KACJ,eAACm9B,GAAA,EAAD,IACA,qBAAIjE,UAAU,YAAd,SACE,8BACE,eAAC2B,GAAA,EAAD,UACE,eAACK,GAAA,EAAD,UACE,eAAC,KAAD,CAEIqY,WAAY,SACZra,UAAW,WACXqE,OAAO,oFAQnB,UASK,SAAS9D,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAmBD,GAAcC,GAAaF,Q,WCpMzCue,GAAQ,SAAC,GAMf,IALLhlC,EAKI,EALJA,MAGAiE,GAEI,EAJJsb,WAII,EAHJwY,gBAGI,EAFJ9zB,YACA8hB,EACI,EADJA,UAEM+I,EAAMpB,iBAAO,MAenB,OAbArI,qBAAU,WACR,IACEyI,EAEEgB,EAFFhB,QACWjI,EACTiJ,EADFhB,QAAWjI,MAGbiI,EAAQmX,UAAY,EAGpBpf,EAAMqf,SAAW,SACjBlgC,YAAW,kBAAO6gB,EAAMqf,SAAW,KAAK,KACvC,CAACjhC,IAGF,uBAEIgiB,UAAW,QACX,mBAAoBhiB,EACpB6qB,MAJJ,UAOE,qBAAI7I,UAAU,aAAd,SAA4BF,IAC3B9hB,IAAepc,GAAemC,MAAQ,eAAC,GAAD,IACtCia,IAAepc,GAAeoC,OAC7B,eAAC,GAAD,CAEIjB,QAASgX,EAAM,GAAGjJ,OAClB9N,KAAM+W,EAAMjJ,SAIjBkN,IAAepc,GAAeqC,MAAQ,eAAC,GAAD,IACtC+Z,IAAepc,GAAesC,SAAW,eAAC,GAAD,IACzC8Z,IAAepc,GAAeuC,UAAY,eAAC,GAAD,IAC3C,sBAAW67B,UAAW,eAab,SAASO,GAASC,GAC/B,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAAgBD,GAAcC,GAAaF,Q,YC/DtC0e,I,OAAkC,SAC7C19C,EAD6C,OAE3CqkB,EAF2C,EAE3CA,QAASoL,EAFkC,EAElCA,QAASjH,EAFyB,EAEzBA,SAFyB,OAI7C,eAACma,GAAA,EAAD,CAEIC,UAAW,EACX5iC,MACAyvB,UACAjH,WALJ,SAQE,eAAC,KAAD,CAAqBqa,OAAQxe,QAIpBs5B,GAAqB,SAAC,GAI5B,IAHLC,EAGI,EAHJA,cACAC,EAEI,EAFJA,gBACAjuB,EACI,EADJA,mBAYA,OAVAgO,qBAAU,WACJhO,GACFiuB,EAAgBjuB,EAAoB,CAClCkuB,iB5MgE6B,I4M/D7BvS,QAAS,kBAAMqS,KACfG,kBAAkB,MAGrB,CAACH,EAAeC,EAAiBjuB,IAE7B,MAGT+tB,GAAmBK,UAAY,CAC7BpuB,mBAAoBquB,iBAAM,CACxB55B,QAASzR,UAAOsrC,WAChBzuB,QAAS0uB,QACT31B,SAAU5V,UAAOsrC,cAINE,qBAAa,SAAkBpf,GAC5C,OACE,eAAC,GAAgBD,SAAjB,UACG,gBAAGE,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACC,eAAC,GAAD,sDAA6BD,GAAcC,GAAaF,W,6CCtDjDqf,gBAAe,CAC5BC,WAAY,CAGVC,iBAAiB,KCLfC,GAAoB,CACxBC,KAAM,OACN7sC,MAAO,WACP8sC,YAAa,cACbC,QAAS,CACP,eAAgB,oBAElBpjB,SAAU,SACVqjB,eAAgB,eAGX,SAAeC,KAAtB,gC,gDAAO,+CAAA1/B,EAAA,6DAAuB2/B,EAAvB,+BAA6B,GAAIrlB,EAAjC,+BAAwC,GACvCslB,EAAS,IAAIhwC,gBAEnB9N,OAAOpB,KAAK45B,GAAMtgB,SAAQ,SAAAnZ,GAAG,OAC3B++C,EAAOC,OAAOxjB,mBAAmBx7B,GAAMw7B,mBAAmB/B,EAAKz5B,QAJ5D,SAQkBi/C,MAAM,GAAD,OAAIH,EAAJ,YAAWC,GAAX,YAAC,eACxBP,IADuB,IAE1BU,OAAQ,SAVL,cAQCC,EARD,yBAaEA,EAASplB,QAbX,4C,sBAgBA,SAAeqlB,KAAtB,gC,gDAAO,6CAAAjgC,EAAA,6DAAwB2/B,EAAxB,+BAA8B,GAAIrlB,EAAlC,+BAAyC,GAAzC,SAEkBwlB,MAAMH,EAAD,YAAC,eACxBN,IADuB,IAE1BU,OAAQ,OACRG,KAAM/tC,KAAKC,UAAUkoB,MALlB,cAEC0lB,EAFD,yBAQEA,EAASplB,QARX,4C,sBCyEP,IAAQ32B,GAA2CjD,GAA3CiD,QAASC,GAAkClD,GAAlCkD,QAASE,GAAyBpD,GAAzBoD,KAAMmjB,GAAmBvmB,GAAnBumB,QAASpjB,GAAUnD,GAAVmD,MAEnCoH,GAAUzJ,OAAOD,OAAOC,OAAOpB,KAAKkL,KAGpCu0C,GAAcr+C,OAAOD,OAAO,IAOrBu+C,GAAyBztC,IAAQ,SAACrH,EAAWoJ,GAAZ,OAC5CpJ,EAAUE,KAAI,gBAAG+F,EAAH,EAAGA,SAAUpL,EAAb,EAAaA,GAAb,mBAAC,aACboL,YACG3F,GAASzF,IAFA,IAGZR,MAAO8O,GAAoB7I,GAASzF,GAAKuO,WAQhC2rC,GAAwB1tC,IAAQ,SAAArH,GAAS,OACpDA,EACG4N,QAAO,YAAa,IAAV/S,EAAS,EAATA,GACDJ,EAAqB6F,GAASzF,GAA9BJ,iBAER,MAC8B,kBAArBA,GACPA,IAAqB/E,GAAUgF,SAGlCwF,KAAI,gBAAGrF,EAAH,EAAGA,GAAH,OAAYyF,GAASzF,SAOjBm6C,GAA4B3tC,IAAQ,SAAArH,GAAS,OACxDA,EACG4N,QAAO,gBAAG/S,EAAH,EAAGA,GAAH,OAAYyF,GAASzF,GAAIF,mBAChCuF,KAAI,gBAAGrF,EAAH,EAAGA,GAAH,OAAYyF,GAASzF,SASxBo6C,GAAmB,SAAC7rC,EAAkBmQ,EAAcC,GACxD,IAAM07B,EAAuB,eAAQ9rC,GASrC,OAPA5S,OAAOpB,KAAKmkB,GAAc7K,SAAQ,SAAA7N,GAChCq0C,EAAwBr0C,GAAU,MAEpCrK,OAAOpB,KAAKokB,GAAa9K,SAAQ,SAAA7N,GAC/Bq0C,EAAwBr0C,GAAU,OAG7Bq0C,GAwGYC,G,oDAcnB,aAAe,IAAD,+BACZ,eAASC,YAZXC,YAAcA,KAAYC,eAAe,CACvCp6C,KAAM,WACN0C,YAAa,qCASD,EAFdrJ,MAAQ,EAAKm7B,qBAEC,EAWd0kB,QAAUA,GAXI,EAYdO,SAAWA,GAZG,EAyiBdY,sBAAwB,WACsB,kBAAjC,EAAKhhD,MAAM69B,oBACpB,EAAK5U,iBAAiB/G,GAAiC,SACvD,EAAKsV,SAAS,CACZqG,kBAAmB,KACnBpE,2BAA2B,IAG7Bv5B,QAAQO,MAAM,iCA9iBhB,EAAKwgD,oBACL,EAAKC,eAILliD,KAAOoB,SAAP,gBARY,E,4CAcd,WACE,OAAOkD,GAAgBuP,KAAK7S,MAAMwd,c,8BAGpC,WACE,OAAOgjC,GAAsB3tC,KAAK7S,MAAMyL,a,2BAG1C,WACE,MAAwCoH,KAAK7S,MAArCyL,EAAR,EAAQA,UAAWoJ,EAAnB,EAAmBA,iBACnB,OAAO0rC,GAAuB90C,EAAWoJ,K,qCAG3C,WACE,IAAQpJ,EAAcoH,KAAK7S,MAAnByL,UAER,OAAOC,GAAQ5K,QAAO,SAACC,EAAKuL,GAC1B,IAAM60C,EAAkB11C,EAAUiL,MAAK,qBAAGpQ,KAAgBgG,KAG1D,OAFAvL,EAAIuL,GAAU60C,EAAkBA,EAAgBzvC,SAAW,EAEpD3Q,IACN,M,kCAGL,WACE,OAAO0/C,GAA0B5tC,KAAK7S,MAAMyL,a,oBAG9C,WACE,IAAQ/H,EAAyCtC,GAAzCsC,QAASF,EAAgCpC,GAAhCoC,MAAOD,EAAyBnC,GAAzBmC,KAAMI,EAAmBvC,GAAnBuC,SACxBurC,EAAW,CADgC9tC,GAATqC,KAChBD,GAYxB,OAVIqP,KAAK7S,MAAMud,gBACb2xB,EAAS1hB,QAAQjqB,GAGfsP,KAAK7S,MAAMskB,iBACb4qB,EAASt1B,KAAKlW,GAGhBwrC,EAASt1B,KAAKjW,GAEPurC,I,6BAGT,WACE,OAAO9zB,GACLJ,GAAcF,GAAiBjI,KAAK7S,MAAMyM,e,yBAI9C,WACE,OAAO8O,GAA0B1I,KAAK2I,qB,wBAGxC,WACE,OxD0hB2B,SAAAxb,GAC7B,IAAMohD,EAAet9C,GAAyBhD,QAAO,SAACC,EAAKC,GAGzD,OAFAD,EAAIC,GAAOhB,EAAMgB,GAEVD,IACN,IAQH,OANAkB,OAAO+M,OAAOoyC,EAAc,CAC1BzjB,mBAAoB39B,EAAM6a,aAAanE,MACrC,qBAAGpQ,KAAgBtG,EAAM60B,0BAItBusB,EwDviBEC,CAAgBxuC,KAAK7S,S,0BAG9B,WACE,OACE6S,KAAK7S,MAAMshD,0BACXzuC,KAAK7S,MAAMy5B,2BACX5mB,KAAK7S,MAAMuhD,wC,gCAOf,WAAsB,IAAD,EACnB,MAAO,CACL1Y,cAAe,KACf9xB,yBAAyB,EACzB6iB,kBAAmBh4B,GAAWwT,KAC9BqJ,sBAAuB,GACvBhB,WAAY,GACZmE,eAAgB,CACdC,OAAQ,KACRC,OAAQ,KACRuK,gBAAiB,GAEnB5H,mBAAoB,GACpBoQ,qBAAsB,GACtBha,aAAc,GACdoW,SAAU,GACViM,WAAY,EACZlZ,eAAgB,GAChBmJ,SAAU,EACVsO,SAAU,UACVliB,MxDhNJ,IAAIxD,MvJjJ8B,IuJkJ/BC,UAAK0a,GACL/kB,KAAI,kBAAM,IAAIoK,MvJpJgB,GuJoJWC,KAAK,SwD+M7ColB,WAAW,EACXomB,mBAAoB,KACpBjzB,sBAAuB,GACvBC,uBAAwB,GACxBrF,2BAA4B,GAC5Bze,qBAAsB,EACtBpE,GAAI+Q,gBACJ5L,UAAW,GACX6O,e/MhX+B,I+MiX/Bmf,2BAA2B,EAC3B6nB,0BAA0B,EAC1BzlB,kBAAkB,EAClB/C,YAAapf,KACbjN,UAAW,GACXwiC,kBAAkB,EAClBtI,SAAU9zB,KAAKmtB,MAAM7gC,MAAMsiD,KAAKC,WAAW,WAC3CH,uCAAuC,EACvCtxB,eAAgB,GAChB/J,YAAa/jB,GACbozB,cAAe,EACfzR,MAAO3hB,GACPyuB,mBAAoB,KACpBjH,oBAAqB,GACrBuD,gBAAiB,GACjB+I,MAAO,GACP0rB,SAAU,KACVtrB,oBAAqB,GACrBC,mBAAoB,GACpBsrB,iBAAkB,KAClB1sB,cAAe,GACflM,eAAgB,GAChB7nB,UAAWumB,GACX1C,aAAc,GACdC,YAAa,GACboJ,oBAAqB,EACrB1J,wBAAyB,EACzB2J,0BAA2B,EAC3BnS,sBAAuB,EACvBL,QAAS,EACTygB,SAAU,GACV5V,KAAMk7B,mBAAmBhvC,KAAKmtB,MAAM7gC,MAAM4gD,OAAOp5B,MAAQ5iB,IACzDqwB,iBAAkB,EAClB9P,gBAAiB,EACjBwP,eAAgB,EAChBhmB,iBAAkB,EAClByP,gBAAgB,EAChBoT,mBAAmB,EACnBnT,WAAYpc,GAAemC,KAC3B0rB,oBAAqB,GACrB5S,aAAc,EACdG,gBAAiB,GACjBJ,cAAe,EACfG,wBAAyB,GACzBe,YAAU,oBACPzb,GAAS6M,IAAM5M,GAAU4C,SADlB,eAEP7C,GAASgN,OAAS/M,GAAU4C,SAFrB,eAGP7C,GAASiN,OAAShN,GAAUgb,aAHrB,eAIPjb,GAASwgB,aAAevgB,GAAU4C,SAJ3B,GAMVq3B,kCAAkC,EAClClnB,iBAAkB,GAClBitC,QAASpyC,Y,+BAIb,WAAqB,IAAD,OAGlBmD,KAAKqtB,SAAW,CAAEsG,UAAW,IAE7BvkC,OAAOpB,KAAKkhD,IAAe5nC,SAAQ,SAAA+lC,GACjC,EAAKhgB,SAASggB,GAAU6B,GAAc7B,GAAQ8B,KAAK,GAEnD,EAAK9hB,SAASsG,UAAU0Z,GAAU+B,KAChC,EAAK/hB,SAASggB,GARS,OAgB3BrtC,KAAK8kC,OAAS,CACZ3f,aAAc,UACdkqB,SAAU,QACVC,eAAgB,IAChBC,iBAAkB,IAClBC,QAAS,IACTC,gBAAiB,IACjBC,UAAW,IACXC,aAAc,IACdC,gBAAiB,UACjBC,aAAc,OACdC,WAAY,KAGd9vC,KAAK+vC,YAAc,CACjB5qB,aAAc,kBAAM,EAAKA,gBACzBkqB,SAAUrvC,KAAKmmB,cAAcgpB,KAAKnvC,MAClCsvC,eAAgB,kBAAM,EAAK5oB,eAAe33B,GAAW6sC,aACrD2T,iBAAkB,kBAAM,EAAK7oB,eAAe33B,GAAW4sC,eACvD6T,QAAS,kBAAM,EAAK9oB,eAAe33B,GAAWw6B,cAC9CkmB,gBAAiB,kBAAM,EAAK/oB,eAAe33B,GAAW0sC,eACtDiU,UAAW,kBAAM,EAAKhpB,eAAe33B,GAAW2sC,QAChDiU,aAAc,kBAAM,EAAKjpB,eAAe33B,GAAW8sC,WACnD+T,gBAAiB,kBAAM,EAAKlpB,eAAe33B,GAAW+sC,cACtD+T,aAAc7vC,KAAKqmB,kBAAkB8oB,KAAKnvC,MAC1CgkC,UAAW,kBAAM,EAAK3W,SAASxI,sBAAsBtzB,KACrDwyC,aAAc,kBAAM,EAAK1W,SAASxI,sBAAsBrzB,KACxDsyC,kBAAmB,kBAAM,EAAKzW,SAASxI,sBAAsBpzB,KAC7DwyC,aAAc,kBAAM,EAAK5W,SAASxI,sBAAsBnzB,KACxDo+C,WAAY,kBAAM,EAAKziB,SAAStH,qBAGlCle,GAAU,GAAGP,SAAQ,SAACgL,EAAGpW,GACvB,IAAM2iC,EAAQ3iC,EAAI,EACZ/N,EAAG,mBAAe0wC,GACxB,EAAKiG,OAAO32C,GAAOo7C,OAAO1K,GAC1B,EAAKkR,YAAY5hD,GAAO,WACtB,IAAM6hD,EAAW,EAAK3T,SAASngC,GAEP,kBAAb8zC,GACT,EAAKrrB,SAAS,CAAEha,WAAYpc,GAAeyhD,SAYjD5gD,OAAO+M,OAAO6D,KAAK+vC,YAAa,CAC9BvqB,mBAAoB,kBAAM,EAAKA,sBAC/BpE,cAAe,kBAAM,EAAKA,cAAc,EAAKj0B,Y,0BAIjD,WAAgB,IAAD,OACZ,CACC,oBACA,UACA,aACA,6BACA,+BACA,gBACA,YACA,yBACA,gBACA,WACA,cACA,SACA,aACA,YACA,WACA,cACA,4BACA,kBACA,cACA,iBACA,gBACA,eACA,kBACA,2BACA,yBACA,aACA,YACA,UACA,WACA,eACA,eACA,mBACA,aACA,cACA,gBACA,aACA,YACA,eACAma,SAAQ,SAAA2oC,GACR,IAAMC,EAAUC,EAASF,GAEzB,EAAKA,GAAe,WAAc,IAAD,uBAATzwC,EAAS,yBAATA,EAAS,gBAC/B,EAAKmlB,UAAS,SAAAx3B,GAAK,OAAI+iD,EAAO,WAAP,GAAQ/iD,GAAR,OAAkBqS,a,wEAK/C,0CAAA8N,EAAA,sEACsBtN,KAAKiuC,YAAYmC,QAAQ,SAD/C,YACQjjD,EADR,wBAIUgd,EAAiBD,GAA4B,2BAC9ClK,KAAKsoB,sBACLn7B,IAEG67B,EAA0C7e,EAA1C6e,iBAAkBlS,EAAwB3M,EAAxB2M,oBAE1B9W,KAAK2kB,SAAL,2BAAmBxa,GAAnB,IAAmC2M,oBAAqB,MAAM,WAC5DA,EAAoBxP,SAAQ,YAA4B,IAAzBkL,EAAwB,EAAxBA,QAASmE,EAAe,EAAfA,SAGtCjL,YAAW,kBAAM,EAAK0K,iBAAiB5D,EAASmE,KAAW,GAEvDqS,GACF,EAAKrG,SAASwtB,GAAsBxqC,IAAU,EAAG,SAjB3D,wCAuBU3F,KAAKmlB,cAAa,GAvB5B,QAwBInlB,KAAK2kB,UAAS,iBAAO,CAAErO,2BAA4B,OACnDtW,KAAKoW,iBAAiBhD,GAAtB,+BAAuC9jB,IAAwB,QAzBnE,QA4BE0Q,KAAKqwC,aAAa1iD,OAAM,SAAA2iD,GAAS,OAAI,EAAKC,oBAAoBD,MAE9DtwC,KAAK2kB,SAAL,aAAgB4D,WAAW,GAASvoB,KAAKmtB,MAAMqjB,eA9BjD,iD,sFAiCA,SAAmBrI,EAAW5lB,GAAY,IAAD,WACvC,EASIviB,KAAK7S,MARPo7B,EADF,EACEA,UACAomB,EAFF,EAEEA,mBACA1oB,EAHF,EAGEA,WACA6N,EAJF,EAIEA,SACA7iB,EALF,EAKEA,MACA69B,EANF,EAMEA,SACAh7B,EAPF,EAOEA,KACAnJ,EARF,EAQEA,WAOF,GAAK4d,EAAL,CAIA,MAKIvoB,KAAKmtB,MAJP7gC,MACEsiD,EAFJ,EAEIA,KAFJ,IAGI1B,OAAUp5B,KAIR28B,EAAczB,wBAPpB,MAG8Bl7B,EAH9B,GASM48B,EAAc9B,EAAKC,WAAW,WAEhC6B,IAAgB1wC,KAAK7S,MAAM2mC,UAAY2c,IAAgB38B,GACzD9T,KAAK2kB,UAAS,iBAAO,CACnBmP,SAAU4c,EACVhnB,SAAU,GACV5V,KAAM28B,MAIN3c,IAAavR,EAAUuR,UAAYhgB,IAASyO,EAAUzO,OACxD9T,KAAKqwC,aAAa1iD,OAAM,SAAA2iD,GAAS,OAAI,EAAKC,oBAAoBD,MAEzDxc,IACH5I,aAAayjB,GACb3uC,KAAK2kB,SAAS,CACZqR,cAAe,KACf2Y,mBAAoB,KACpBG,SAAU,UAKC,IAAbhb,IAA6C,IAAvBvR,EAAUuR,UAClC9zB,KAAKoW,iBvDnoB6B,+BuDmoBc,QAGlD,IAAMu6B,EAA2BR,GAC/BnwC,KAAK7S,MACLo1B,GA0BF,GAvBIouB,IAA6B3wC,KAAK7S,OACpC6S,KAAK2kB,UAAS,kBAAMgsB,KAIpB3wC,KAAK7S,MAAMwd,aAAepc,GAAesC,SACzC0xB,EAAU5X,aAAepc,GAAesC,SAExCmP,KAAK2kB,UAAS,iBAAO,CAAEtC,cAAe,OAGpC1X,IAAe4X,EAAU5X,YACvBsb,GACFjmB,KAAK2kB,UAAS,iBAAO,CAAEsB,YAAapf,SAIpCoK,EAAQsR,EAAUtR,OACpBjR,KAAK2kB,UAAS,gBAAGnb,EAAH,EAAGA,aAAH,MAAuB,CACnCA,aAAc9I,GAAW8I,EAAcyH,EAAQsR,EAAUtR,WAIzD69B,IAAavsB,EAAUusB,SACzB,GAAIA,EAAU,CACZA,EAAS8B,YAAW,SAAAn9C,GAClB,EAAKyvB,QAAQzvB,MAGfq7C,EAAS+B,aAAY,SAAAp9C,GACnB,EAAK4vB,WAAW5vB,MAGlB,MAA4Cq7C,EAASgC,WACnD,gBADF,oBAAO/B,EAAP,KAAyBP,EAAzB,KAGAA,GAAgB,sCAAIhvC,EAAJ,yBAAIA,EAAJ,uBAAawqB,GAAyB,WAAzB,GAA0B,GAA1B,OAAmCxqB,OAEhE,MAAkDsvC,EAASgC,WACzD,YADF,oBAAOC,EAAP,KAA4BC,EAA5B,KAGAA,GAAmB,sCAAIxxC,EAAJ,yBAAIA,EAAJ,uBAAayqB,GAAqB,WAArB,GAAsB,GAAtB,OAA+BzqB,OAE/D,MAAsCsvC,EAASgC,WAAW,aAA1D,oBAAOxmB,EAAP,KAAsB2mB,EAAtB,KACAA,GAAa,sCAAIzxC,EAAJ,yBAAIA,EAAJ,uBAAaurB,GAA2B,WAA3B,GAA4B,GAA5B,OAAqCvrB,OAE/D,MAAsCsvC,EAASgC,WAAW,aAA1D,oBAAOvmB,EAAP,KAAsB2mB,EAAtB,KACAA,GAAa,sCAAI1xC,EAAJ,yBAAIA,EAAJ,uBAAa2rB,GAA2B,WAA3B,GAA4B,GAA5B,OAAqC3rB,OAE/DQ,KAAK2kB,SAAS,CACZssB,eACAC,eACAF,qBACAxC,kBACAhrB,oBAAqB,GACrB8G,gBACAC,gBACAwmB,sBACAhC,iBAAkB/uC,KAAKmxC,qBAAqBpC,KAG9CA,EAAiB/uC,KAAK6qB,mBAGtBtI,EAAUusB,SAASsC,QACnBpxC,KAAK2kB,SAAS,CAAEvB,MAAO,GAAI2rB,iBAAkB,OAIhD,CACC,mCACA,iCACA,kCACAznC,SAAQ,SAAApH,GAAE,OAAI,EAAKA,GAAIqiB,MAEzB,aAAAviB,KAAK7S,OAAM4hD,wBAAX,gBAA8B/uC,KAAK6qB,iB,kCAQrC,SAAqBkkB,GAAmB,IAAD,OACrC,OAAOsC,MACL,WACEtC,EAAgB,WAAhB,aAEA,EAAKpqB,UAAS,iBAAO,CACnBnB,oBAAqB,SAGzB,IACA,CACE8tB,UAAU,M,6BAQhB,SAAgBC,GAAgB,IAAD,OAC7BvxC,KAAK2kB,UACH,SAAAx3B,GAAU,IAAD,EAEL60B,EAIE70B,EAJF60B,qBACAha,EAGE7a,EAHF6a,aACAob,EAEEj2B,EAFFi2B,MACA2tB,EACE5jD,EADF4jD,oBAGF,IAAKA,EAAqB,OAAO,KAEjC,IAAQ5rC,EAAYosC,EAAZpsC,QAER,YACE/V,OAAOwO,QAAQwlB,GAAOvf,MACpB,oCAAU+mB,GAAV,kBAAwB,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMn3B,MAAO0R,YAFrC,QAGO,GAHAge,EAAP,qBAKA,IAAKA,EAIH,OAHA91B,QAAQO,MAAR,kCAC6B6R,KAAKC,UAAU6xC,KAErC,KAOT,GAJsCvpC,EAAanE,MACjD,qBAAGpQ,KAAgB89C,EAAc99C,MAKjC,OADApG,QAAQO,MAAR,iBAAwB2jD,EAAc99C,GAAtC,6BACO08C,GAA0BhjD,EvD5wBV,2CuD4wBoC,SAG7D,IAAMq9B,EAAiBxiB,EAAanE,MAClC,qBAAGpQ,KAAgBuuB,KAGrB,IAAKwI,EAEH,OADAn9B,QAAQO,MAAR,iBAAwBo0B,EAAxB,eACO,KAGT,IAAMgJ,EAAoBtf,WACxB,EAAKyiC,sB/M1kBkB,K+MslBzB,OARA4C,EACE,CACE7mB,WAAW,2BAAMM,GAAP,IAAuBtlB,uBAAuB,IACxDilB,aAAconB,GAEhBpuB,GAGK,CAAE6H,oBAAmBpE,2BAA2B,MAEzD,iB,yEAgBJ,uBAAAtZ,EAAA,sEACQtN,KAAKiuC,YAAYuD,QADzB,OAGExxC,KAAKoW,iBvDv0BmB,0CuDo0B1B,gD,uHAMA,+CAAA9I,EAAA,2DACwDtN,KAAK7S,MAAnD2mC,EADV,EACUA,SAAU3hB,EADpB,EACoBA,aAAcC,EADlC,EACkCA,YAAa0B,EAD/C,EAC+CA,KAExCggB,EAHP,wDAOE9zB,KAAKoW,iBvD30B2B,gBuD20BY,QAP9C,SAUIpW,KAAK2kB,SAAS,CACZ8pB,0BAA0B,EAC1BrrB,MAAO,KAGT,UAAApjB,KAAK7S,MAAM2hD,gBAAX,SAAqBsC,QAfzB,SAiBiEpE,GAC3DrwC,GAAUC,cACV,CACE60C,OAAQzxC,KAAK7S,MAAMsG,GACnBqgB,KAAMA,IArBd,mBAiBYkiB,EAjBZ,EAiBYA,cAAesa,EAjB3B,EAiB2BA,UAAWtuC,EAjBtC,EAiBsCA,kBAQ9BsuC,EAzBR,uBA2BY,IAAI12B,MAAM02B,GA3BtB,QA8BItwC,KAAK0xC,oBAEL1xC,KAAK2kB,SAAS,CACZqR,gBACA8Y,SAAU6C,aAAS,CAAEC,MAAO/0C,yBAA8BiX,GAC1D9R,iBAAkB6rC,GAChB7rC,EACAmQ,EACAC,KAIJpS,KAAKoW,iBAAiBvC,GAAtB,+BAA0CC,GAAQ,WA1CtD,sDAgDQwZ,GAAc,KAAE9a,SAhDxB,uBAkDY,KAAEA,QAlDd,QAqDIxS,KAAKoW,iBAAiBhH,GAAc,SAEpC/hB,QAAQO,MAAR,MAvDJ,QA0DEoS,KAAK2kB,SAAS,CACZ8pB,0BAA0B,EAC1B7nB,2BAA2B,IA5D/B,0D,uFAgEA,SAAoB0pB,GAClB,IAAQx8B,EAAS9T,KAAK7S,MAAd2mB,KAER,OAAQw8B,GACN,KAAKhjB,GAAcC,UACjB,IAAMskB,EAAiB/9B,EAAK9S,MAAM,KAC5B8wC,EAAa1kC,SAASykC,EAAej2B,OAAO,IAC5Cm2B,EAAiBC,MAAMF,GAAc,EAAIA,EAAa,EACtDG,EAAeJ,EAClBj2B,MAAM,EAAGo2B,MAAMF,QAAcj0B,GAAa,GAC1CjK,KAAK,KACFs+B,EAAQ,UAAMD,EAAN,YAAsBF,GAEpC/xC,KAAKoW,iBhDprByB,SAAC9D,EAAGwB,EAAMo+B,GAAV,uBAC1Bp+B,EAD0B,qCACOo+B,EADP,SgDqrB5BC,CADF,kCAC2Br+B,EAAOo+B,GAChC,WAGFlyC,KAAK2kB,UAAS,iBAAO,CACnB+E,SAAS,WAAD,OAAaC,mBAAmBuoB,W,+BAShD,WAAqB,IAAD,OAClB,EAAyClyC,KAAK7S,MAAtCwhD,EAAR,EAAQA,mBAAoBl7C,EAA5B,EAA4BA,GAAIqgB,EAAhC,EAAgCA,KAChCoX,aAAayjB,GAEb3uC,KAAK2kB,UAAS,iBAAO,CACnBgqB,mBAAoBjjC,WAAU,wBAAC,mCAAA4B,EAAA,+EAEgB0/B,GACzCrwC,GAAUC,cACV,CACE60C,OAAQh+C,EACRqgB,SANuB,mBAEnBkiB,EAFmB,EAEnBA,gBAAesa,EAFI,EAEJA,WAFI,sBAYnB,IAAI12B,MAAM02B,GAZS,OAkBrBxB,EACJ,EAAK3hD,MAAM2hD,UACX6C,aAAS,CAAEC,MAAO/0C,yBAA8BiX,GAElD,EAAK6Q,UAAS,gBAAG1T,EAAH,EAAGA,MAAH,MAAgB,CAC5B+kB,gBACA/kB,MAAOvQ,GAAWuQ,EAAO+kB,GACzB8Y,eAzByB,sDA4BvBxhB,GAAc,KAAE9a,SA5BO,uBA8BnB,KAAEA,QA9BiB,QAiC3B,EAAK4D,iBAAiBhH,GAAc,SAEpC,EAAKuV,SAAS,CAAEmqB,SAAU,OAE1BzhD,QAAQO,MAAR,MArC2B,QAwC7B,EAAK8jD,oBAxCwB,0D3Cp7BI,W,8C2Co+BvC,SAAiCnvB,GAC/B,IACW9Q,EACPzR,KADF7S,MAASskB,gBAGX,GAAIA,IAAoB8Q,EAAU9Q,gBAAiB,CACjD,IAAQxhB,EAASD,GAAsB0pB,IAAIjI,GAAnCxhB,KAER+P,KAAKoW,iBhDr9BsB,SAAC9D,EAAGriB,GAAJ,sDACUA,EADV,kEgDq9BLmiD,CAAtB,+BAA0CniD,O,4CAO9C,SAA+BsyB,GAE3B/a,GAAwB+a,GAAa,GACrC/a,GAAwBxH,KAAK7S,QAAU,GAEvC6S,KAAKoW,iBAAiB9G,GAA6B,a,4CAOvD,YAA4E,IhDv6B5CjW,EgDu6BiBg5C,EAA0B,EAA1Cj1B,eAC3BA,EAAiB,GAErBhuB,OAAOpB,KAAKgS,KAAK7S,MAAMiwB,gBAAgB9V,SAAQ,SAAA+V,GACxCg1B,EAAuBzpC,eAAeyU,IACzCD,EAAerW,KAAKxK,GAAW8gB,OAI/BD,EAAe3f,OAAS,EAC1BuC,KAAKoW,iBhD96BoB,SAAC9D,EAAG8K,GACjC,IAAIk1B,EAAgB,GACdC,EAAqBn1B,EAAetkB,KAAI,qBAAGhF,QAUjD,OAR8B,IAA1BspB,EAAe3f,OACjB60C,EAAa,YAAQC,EAAmB,GAA3B,oBAAyCA,EAAmB,GAA5D,MACJn1B,EAAe3f,OAAS,IACjC60C,EAAa,YAAQC,EAClB32B,MAAM,GAAI,GACVhI,KAAK,MAFK,qBAEa2+B,EAAmB32B,OAAO,GAFvC,OAKT,+BAAN,OAAsC02B,EAAtC,KgDk6B0BE,CAAtB,+BAAwCp1B,IACL,IAA1BA,EAAe3f,QACxBuC,KAAKoW,kBAAL,+BhDn7B4B/c,EgDm7BW+jB,EAAe,GhDn7B9B,sCACG/jB,EAAOvF,KADV,W,0BgD27B5B,WAA8B,IAAjB2+C,EAAgB,uDAAJ,GACvB,OAAOzyC,KAAKiuC,YAAYyE,QACtB,QACA5pC,GAAsB,2BACjB9I,KAAK7S,OACLslD,O,mEAQT,8EAAAnlC,EAAA,yDAAmB6O,EAAnB,kCASMnc,KAAK7S,MAPPyL,EAFJ,EAEIA,UACAowB,EAHJ,EAGIA,iBACA8K,EAJJ,EAIIA,SACAhgB,EALJ,EAKIA,KACAnJ,EANJ,EAMIA,WACAhB,EAPJ,EAOIA,gBACAD,EARJ,EAQIA,wBAEIipC,EAAexC,GAAgCnwC,KAAK7S,MAAOgvB,GAC3Dy2B,EAAiB,IAGnB9e,EAdN,iCAgBM9zB,KAAK2kB,SAAS,CAAE8pB,0BAA0B,IAEpCx6B,EAAYxK,GAChBC,EACAC,EACA/Q,GAGExJ,OAAOpB,KAAKimB,GAAWxW,SACzBm1C,EAAe7rC,KAAK,CAClByL,QAASuB,GAAF,kCAAkC,MAAQE,GACjD0C,SAAU,SAGZk8B,EAA6B9+B,GAAH,kCAAmC,GAAKE,IA9B1E,UAiCyCs5B,GAAS5wC,GAAUG,eAAgB,CACpEmX,YACAH,SAnCR,iBAiCc9R,EAjCd,EAiCcA,iBAKR2wC,EAAa3wC,iBAAmB6rC,GAC9B7rC,EACA2wC,EAAaxgC,aACbwgC,EAAavgC,aAzCrB,kDA4CMwgC,EAAe7rC,KAAK,CAClByL,QAASpD,GACTuH,SAAU,UAGZtpB,QAAQO,MAAR,MAjDN,QAoDIoS,KAAK2kB,SAAS,CAAE8pB,0BAA0B,IApD9C,QAuDQqE,EAvDR,UAwDOF,EAxDP,aAyDOD,EAAa77B,sBAQlB9W,KAAK2kB,SAAL,2BAEOguB,GAFP,IAGIjE,uCAAuC,EACvC53B,oBAAqB,GACrBsF,oBAAqB,KALzB,wBAOE,uBAAA9O,EAAA,+EAEU,EAAKob,aAAa,CAGtB5R,oBAAqBg8B,IAL3B,UAOK,GACE7vC,OAAO6vC,GACP7vC,OACCkZ,EACI,GACA,CAAC,CAAE3J,QAAStD,GAAwByH,SAAU,UAEnDrP,SAAQ,gBAAGkL,EAAH,EAAGA,QAASmE,EAAZ,EAAYA,SAAZ,OACP,EAAKP,iBAAiB5D,EAASmE,OAG/BqS,EAlBR,mBAmBUre,IAAepc,GAAeoC,MAnBxC,gCAqBc2a,GAAM,KArBpB,OAwBM,EAAKqX,SAASwtB,GAAsBxqC,IAAU,EAAG,GAxBvD,yDA2BItY,QAAQO,MAAR,MAEA,EAAKwoB,iBAAiB3W,KAAKC,UAAL,MAAmB,SA7B7C,yBA+BI,EAAKilB,UAAS,iBAAO,CACnB+pB,uCAAuC,MAGrCmE,GACF,EAAKE,aAAaF,GApCxB,8EAxEJ,0D,kFAsHA,SAAe9jD,GACbiR,KAAK2kB,SAAS,CAAEoC,kBAAmBh4B,EAAYqtC,kBAAkB,M,6BAGnE,WACEp8B,KAAK2kB,SAAS,CAAEyX,kBAAkB,M,2BAGpC,WACE,GAAoD,QAAhD1vB,SAAS0Y,cAAc4tB,aAAa,QAAxC,CAEA,IAAQ3W,EAAar8B,KAAbq8B,SAERr8B,KAAK2kB,UAAS,YAAqB,IAAlBha,EAAiB,EAAjBA,WACTsoC,EAAmB5W,EAAS7d,QAAQ7T,GAE1C,MAAO,CAAEA,WAAY0xB,GAAU4W,EAAmB,GAAK5W,EAAS5+B,e,+BAIpE,WACE,GAAoD,QAAhDiP,SAAS0Y,cAAc4tB,aAAa,QAAxC,CAEA,IAAQ3W,EAAar8B,KAAbq8B,SAERr8B,KAAK2kB,UAAS,YAAqB,IAAlBha,EAAiB,EAAjBA,WACTsoC,EAAmB5W,EAAS7d,QAAQ7T,GAE1C,MAAO,CACLA,WACE0xB,EACuB,IAArB4W,EACI5W,EAAS5+B,OAAS,GACjBw1C,EAAmB,GAAK5W,EAAS5+B,e,0BAUhD,SAAa+U,EAASmE,GACpB3W,KAAKuc,0BAA0B/J,EAASmE,K,oCAM1C,SAAuB7pB,GAGrBA,EAAaomD,QAAQC,YAAY,CAAErjD,KAAM,iBAEzCkQ,KAAKoW,iBvDjsCP,+EuDisC0C,WAAW,WACjDjqB,KAAOC,SAASgnD,c,oBAIpB,WAAU,IAAD,OACP,EAcIpzC,KAbFmtB,MAASpwB,gBADX,MACsB,GADtB,EAEW2sB,EAYP1pB,KAZF7S,MAASu8B,SACTwZ,EAWEljC,KAXFkjC,mBACA7V,EAUErtB,KAVFqtB,SACA0iB,EASE/vC,KATF+vC,YACAjL,EAQE9kC,KARF8kC,OACAn8B,EAOE3I,KAPF2I,kBACAw6B,EAMEnjC,KANFmjC,uBACA1E,EAKEz+B,KALFy+B,gBACAxG,EAIEj4B,KAJFi4B,0BACA74B,EAGEY,KAHFZ,cACAi9B,EAEEr8B,KAFFq8B,SACA5P,EACEzsB,KADFysB,UAGI0P,EAAan8B,KAAKqzC,eAIlBjmB,EAAS,2BACVptB,KAAK7S,OADK,IAEbgvC,aACAp/B,WACAmmC,qBACAv6B,oBACAw6B,yBACA1E,kBACAxG,4BACA74B,gBACAi9B,WACA5P,cAGF,OACE,eAAC,iBAAD,CAEI6mB,cAAc,EACdxO,OAAQ3I,EAAasR,GAAc3I,EACnCzX,SAAU8O,EAAasR,GAAcsC,EAJzC,SAOE,eAAC,KAAD,CAAkBwD,MAAOA,GAAzB,SACE,gBAAC,KAAD,CAEIC,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7CC,QAAS,CACPC,cAAe,mCAEjBC,QAAShI,GACTiI,SAAU,EAPd,UAUGpqB,GAAY,eAAC,IAAD,CAAgB4C,GAAI5C,IACjC,gBAAC,GAAgBqqB,SAAjB,CAA0B9gD,MAAO,CAAEm6B,YAAWC,YAA9C,UACE,uBAEIV,UAAWsD,KACT,8BACAjwB,KAAK7S,MAAM84B,WAAa,YAAc,cACtC,CACE,wCAAyCjmB,KAAK7S,MAC3C+7B,iCACH,cAAeiT,EACf,aAAcn8B,KAAK7S,MAAMo7B,YATjC,UAcE,eAAC,GAAD,IACA,gBAACyrB,GAAA,EAAD,CAEIrnB,UAAW,kBACX8M,KAAMrM,EAAUnH,WAChBgH,QAAS,aACTgnB,WAAY,CACVtnB,UAAW,WANjB,UAUE,eAAC,GAAD,IACA,eAAC,GAAD,KACC9vB,EACD,sBAAW8vB,UAAW,cAExB,eAAC,GAAD,IAMA,uBAAKA,UAAU,kBAAf,UACE,eAACunB,GAAA,EAAD,CACEjnB,QAAQ,OACRknB,MAAO9X,EAAS5+B,OAChBmvB,SAAS,SACTwnB,WAAY/X,EAAS7d,QAAQxe,KAAK7S,MAAMwd,YACxCgiB,UAAU,KAEZ,uBAAKA,UAAU,sBAAf,UACE,eAAC0K,GAAA,EAAD,CAEI,aAAc,gBACd9yB,MAAO,UACPqZ,QAAS,kBAAM,EAAKyI,qBAJxB,SAOE,eAAC,KAAD,MAEF,eAACgR,GAAA,EAAD,CAEI1K,UAAWsD,KAAW,cAAe,CACnC,UAAWjwB,KAAK7S,MAAM84B,aAExB1hB,MAAO,UACP,aAAc,cACdqZ,QAAS,kBAAMyP,EAAStH,oBAP5B,SAUE,eAAC,KAAD,MAEF,eAACsR,GAAA,EAAD,CAEI,aAAc,YACd9yB,MAAO,UACPqZ,QAAS,kBAAM,EAAKuI,iBAJxB,SAOE,eAAC,KAAD,YAIN,eAACsL,GAAA,EAAD,CAEIE,UAAW,OACXlD,MACE,uCACE,yFAIA,gDATR,SAcE,eAAC4I,GAAA,EAAD,CAEI,aACE,0DACF1K,UAAW,UACXpoB,MAAO,YACPqZ,QAASyP,EAASnI,wBANtB,SASE,eAAC,KAAD,WAIN,eAAC,GAAD,kB,GAxmCwBqM,a,cCnEtC8iB,IAAShoB,OACP,eAAC,IAAD,CAEIioB,SAAU,UAFd,SAKE,eAAC,IAAD,CAEI1F,KAAM,CAAC,gBAAiB,UAAW,KACnC1V,UAXc,SAAA/L,GAAK,OAAI,eAAC,GAAD,0CAAmBA,GAAnB,IAA0BpwB,qBAevD2P,SAAS6nC,eAAe,SnNhMnB,SAAkB9nD,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAI8nD,IAAI33C,YAAwB1Q,OAAOC,SAASmpC,MACpDqR,SAAWz6C,OAAOC,SAASw6C,OAIvC,OAGFz6C,OAAO67B,iBAAiB,QAAQ,WAC9B,IAAMx7B,EAAK,UAAMqQ,YAAN,sBAEP5Q,IAkEV,SAAiCO,EAAOC,GAEtC2gD,MAAM5gD,EAAO,CACXsgD,QAAS,CAAE,iBAAkB,YAE5BjgD,MAAK,SAAAygD,GAEJ,IAAMmH,EAAcnH,EAASR,QAAQpzB,IAAI,gBAEnB,MAApB4zB,EAASoH,QACO,MAAfD,IAA8D,IAAvCA,EAAYj2B,QAAQ,cAG5C9xB,UAAUC,cAAcgoD,MAAM9nD,MAAK,SAAAC,GACjCA,EAAa8nD,aAAa/nD,MAAK,WAC7BV,OAAOC,SAASgnD,eAKpB7mD,EAAgBC,EAAOC,MAG1BkB,OAAM,WACLN,QAAQC,IACN,oEAzFAunD,CAAwBroD,EAAOC,GAI/BC,UAAUC,cAAcgoD,MAAM9nD,MAAK,WACjCQ,QAAQC,IACN,+GAMJf,EAAgBC,EAAOC,OmNuK/BqoD,K","file":"static/js/main.0ea1e9d6.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              )\n\n              window.farmhand.showUpdateNotification(registration)\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","import { createContext } from 'react'\n\nconst FarmhandContext = createContext()\n\nexport default FarmhandContext\n","/**\n * @module farmhand.enums\n * @ignore\n */\n\n/**\n * @param {Array.<string>} keys\n * @returns {Object.<string>}\n */\nexport const enumify = keys =>\n  keys.reduce((acc, key) => ({ [key]: key, ...acc }), {})\n\n/**\n * @property farmhand.module:enums.cropType\n * @enum {string}\n */\nexport const cropType = enumify([\n  'ASPARAGUS',\n  'CARROT',\n  'CORN',\n  'JALAPENO',\n  'ONION',\n  'PEA',\n  'POTATO',\n  'PUMPKIN',\n  'SOYBEAN',\n  'SPINACH',\n  'STRAWBERRY',\n  'TOMATO',\n  'WATERMELON',\n  'WHEAT',\n])\n\n/**\n * @property farmhand.module:enums.recipeType\n * @enum {string}\n */\nexport const recipeType = enumify(['FORGE', 'KITCHEN'])\n\n/**\n * @property farmhand.module:enums.fieldMode\n * @enum {string}\n */\nexport const fieldMode = enumify([\n  'CLEANUP',\n  'FERTILIZE',\n  'HARVEST',\n  'MINE',\n  'OBSERVE',\n  'PLANT',\n  'SET_SPRINKLER',\n  'SET_SCARECROW',\n  'WATER',\n])\n\n/**\n * @property farmhand.module:enums.stageFocusType\n * @enum {string}\n */\nexport const stageFocusType = enumify([\n  'NONE', // Used for testing\n  'HOME',\n  'FIELD',\n  'SHOP',\n  'COW_PEN',\n  'INVENTORY',\n  'WORKSHOP',\n])\n\n/**\n * @property farmhand.module:enums.cropLifeStage\n * @enum {string}\n */\nexport const cropLifeStage = enumify(['SEED', 'GROWING', 'GROWN'])\n\n/**\n * @property farmhand.module:enums.itemType\n * @enum {string}\n */\nexport const itemType = enumify([\n  'COW_FEED',\n  'CRAFTED_ITEM',\n  'CROP',\n  'FERTILIZER',\n  'FUEL',\n  'HUGGING_MACHINE',\n  'MILK',\n  'ORE',\n  'SCARECROW',\n  'SPRINKLER',\n  'STONE',\n  'TOOL_UPGRADE',\n])\n\n/**\n * @property farmhand.module:enums.fertilizerType\n * @enum {string}\n */\nexport const fertilizerType = enumify(['NONE', 'STANDARD', 'RAINBOW'])\n\n/**\n * @property farmhand.module:enums.genders\n * @enum {string}\n */\nexport const genders = enumify(['FEMALE', 'MALE'])\n\n/**\n * @property farmhand.module:enums.cowColors\n * @enum {string}\n */\nexport const cowColors = enumify([\n  'BLUE',\n  'BROWN',\n  'GREEN',\n  'ORANGE',\n  'PURPLE',\n  'RAINBOW',\n  'WHITE',\n  'YELLOW',\n])\n\nconst { RAINBOW, ...standardCowColors } = cowColors\nexport { standardCowColors }\n\n/**\n * @property farmhand.module:enums.dialogView\n * @enum {string}\n */\nexport const dialogView = enumify([\n  'NONE',\n  'ACCOUNTING',\n  'ACHIEVEMENTS',\n  'FARMERS_LOG',\n  'KEYBINDINGS',\n  'ONLINE_PEERS',\n  'PRICE_EVENTS',\n  'SETTINGS',\n  'STATS',\n])\n\n/**\n * @property farmhand.module:enums.toolType\n * @enum {string}\n */\nexport const toolType = enumify(['SCYTHE', 'SHOVEL', 'HOE', 'WATERING_CAN'])\n\n/**\n * @property farmhand.module:enums.toolLevel\n * @enum {string}\n */\nexport const toolLevel = enumify([\n  'UNAVAILABLE',\n  'DEFAULT',\n  'BRONZE',\n  'IRON',\n  'SILVER',\n  'GOLD',\n])\n\n/**\n * @property farmhand.module:enums.cowTradeRejectionReason\n * @enum {string}\n */\nexport const cowTradeRejectionReason = enumify(['REQUESTED_COW_UNAVAILABLE'])\n","/**\n * @module farmhand.constants\n * @ignore\n */\n\nimport { cowColors, fieldMode, stageFocusType, toolLevel } from './enums'\n\nconst { freeze } = Object\n\nexport const MEMOIZE_CACHE_CLEAR_THRESHOLD = 10\n\n// This MUST be kept in sync with the $break- variables in variables.sass.\nexport const BREAKPOINTS = {\n  XS: 0,\n  SM: 600,\n  MD: 960,\n  LG: 1280,\n  XL: 1920,\n}\n\nexport const STANDARD_LOAN_AMOUNT = 500\n\nexport const LOAN_GARNISHMENT_RATE = 0.05\nexport const LOAN_INTEREST_RATE = 0.02\n\nexport const FERTILIZER_BONUS = 0.5\n\nexport const INITIAL_STORAGE_LIMIT = 100\nexport const STORAGE_EXPANSION_AMOUNT = 100\nexport const STORAGE_EXPANSION_BASE_PRICE = 500\nexport const STORAGE_EXPANSION_SCALE_PREMIUM = 50\n\nexport const INITIAL_FIELD_WIDTH = 6\nexport const INITIAL_FIELD_HEIGHT = 10\n\nexport const PURCHASEABLE_FIELD_SIZES = freeze(\n  new Map([\n    [1, { columns: 8, rows: 12, price: 1_000 }],\n    [2, { columns: 10, rows: 16, price: 2_000 }],\n    [3, { columns: 12, rows: 18, price: 3_000 }],\n  ])\n)\n\nexport const PURCHASEABLE_COMBINES = freeze(\n  new Map([[1, { type: 'Basic', price: 500_000 }]])\n)\n\nexport const PURCHASEABLE_SMELTERS = freeze(\n  new Map([[1, { type: 'Basic', price: 500_000 }]])\n)\n\nexport const PURCHASEABLE_COW_PENS = freeze(\n  new Map([\n    [1, { cows: 10, price: 1500 }],\n    [2, { cows: 20, price: 2500 }],\n    [3, { cows: 30, price: 3500 }],\n  ])\n)\n\n// Buff/nerf chances\nexport const CROW_CHANCE = 0.1\nexport const PRECIPITATION_CHANCE = 0.1\nexport const STORM_CHANCE = 0.5\n\nexport const SCARECROW_ITEM_ID = 'scarecrow'\nexport const SPRINKLER_ITEM_ID = 'sprinkler'\nexport const INITIAL_SPRINKLER_RANGE = 1\n\nexport const COW_STARTING_WEIGHT_BASE = 1800\nexport const COW_STARTING_WEIGHT_VARIANCE = 200\n\nexport const MAX_ANIMAL_NAME_LENGTH = 30\n\nexport const MALE_COW_WEIGHT_MULTIPLIER = 1.1\n\nexport const COW_HUG_BENEFIT = 0.05\nexport const MAX_DAILY_COW_HUG_BENEFITS = 3\n\nexport const COW_WEIGHT_MULTIPLIER_FEED_BENEFIT = 0.1\nexport const COW_WEIGHT_MULTIPLIER_MINIMUM = 0.5\nexport const COW_WEIGHT_MULTIPLIER_MAXIMUM = 1.5\n\nexport const COW_MILK_RATE_SLOWEST = 7\nexport const COW_MILK_RATE_FASTEST = 2\n\nexport const COW_FERTILIZER_PRODUCTION_RATE_SLOWEST = 7\nexport const COW_FERTILIZER_PRODUCTION_RATE_FASTEST = 1\n\nexport const COW_FEED_ITEM_ID = 'cow-feed'\nexport const HUGGING_MACHINE_ITEM_ID = 'hugging-machine'\n\nexport const COW_MAXIMUM_VALUE_MATURITY_AGE = 100\nexport const COW_MINIMUM_VALUE_MULTIPLIER = 0\nexport const COW_MAXIMUM_VALUE_MULTIPLIER = 1\n\nexport const COW_GESTATION_PERIOD_DAYS = 3\nexport const COW_MINIMUM_HAPPINESS_TO_BREED = 0.8\n\nexport const NOTIFICATION_DURATION = 6000\nexport const NOTIFICATION_LOG_SIZE = 14\n\nexport const PRICE_EVENT_CHANCE = 0.2\nexport const PRICE_EVENT_STANDARD_DURATION_DECREASE = 1\n\nexport const STAGE_TITLE_MAP = {\n  [stageFocusType.HOME]: 'Home',\n  [stageFocusType.FIELD]: 'Field',\n  [stageFocusType.SHOP]: 'Shop',\n  [stageFocusType.COW_PEN]: 'Cows',\n  [stageFocusType.WORKSHOP]: 'Workshop',\n}\n\nexport const DAILY_FINANCIAL_HISTORY_RECORD_LENGTH = 7\n\nexport const RECIPE_INGREDIENT_VALUE_MULTIPLIER = 1.25\n\nexport const I_AM_RICH_BONUSES = [0.05, 0.1, 0.25]\n\nexport const PERSISTED_STATE_KEYS = [\n  'allowCustomPeerCowNames',\n  'completedAchievements',\n  'cowBreedingPen',\n  'cowColorsPurchased',\n  'cowForSale',\n  'cowInventory',\n  'cowsSold',\n  'cowsTraded',\n  'cropsHarvested',\n  'dayCount',\n  'farmName',\n  'field',\n  'historicalDailyLosses',\n  'historicalDailyRevenue',\n  'historicalValueAdjustments',\n  'hoveredPlotRangeSize',\n  'id',\n  'inventory',\n  'inventoryLimit',\n  'isCombineEnabled',\n  'itemsSold',\n  'learnedRecipes',\n  'loanBalance',\n  'loansTakenOut',\n  'money',\n  'newDayNotifications',\n  'notificationLog',\n  'priceCrashes',\n  'priceSurges',\n  'profitabilityStreak',\n  'purchasedCombine',\n  'purchasedCowPen',\n  'purchasedField',\n  'purchasedSmelter',\n  'record7dayProfitAverage',\n  'recordProfitabilityStreak',\n  'recordSingleDayProfit',\n  'revenue',\n  'showHomeScreen',\n  'showNotifications',\n  'todaysLosses',\n  'todaysPurchases',\n  'todaysRevenue',\n  'todaysStartingInventory',\n  'toolLevels',\n  'useAlternateEndDayButtonPosition',\n  'valueAdjustments',\n  'version',\n]\n\nexport const PEER_METADATA_STATE_KEYS = [\n  'cowsSold',\n  'cropsHarvested',\n  'dayCount',\n  'id',\n  'itemsSold',\n  'money',\n  'pendingPeerMessages',\n  'version',\n]\n\nexport const DEFAULT_ROOM = 'global'\n\nexport const MAX_PENDING_PEER_MESSAGES = 5\nexport const MAX_LATEST_PEER_MESSAGES = 30\n\nexport const LEFT = 'left'\nexport const RIGHT = 'right'\n\nexport const TOOLBELT_FIELD_MODES = new Set([\n  fieldMode.CLEANUP,\n  fieldMode.HARVEST,\n  fieldMode.WATER,\n  fieldMode.MINE,\n])\n\n// should a resource attempt to spawn when plot is mined?\nexport const RESOURCE_SPAWN_CHANCE = 0.3\n\n// if a resource is going to spawn, which kind?\n// note: these values end up being used relative to each other\n// todo: migrate these to an object called RESOURCE_SPAWN_CHANCES once reducers is refactored\nexport const ORE_SPAWN_CHANCE = 0.25\nexport const COAL_SPAWN_CHANCE = 0.15\nexport const STONE_SPAWN_CHANCE = 0.6\n\n// if spawning ore, which kind?\n// note: these values end up being used relative to each other\n// todo: migrate these to an object called ORE_SPAWN_CHANCES once reducers is refactored\nexport const BRONZE_SPAWN_CHANCE = 0.4\nexport const GOLD_SPAWN_CHANCE = 0.07\nexport const IRON_SPAWN_CHANCE = 0.33\nexport const SILVER_SPAWN_CHANCE = 0.2\n\nexport const HOE_LEVEL_TO_SEED_RECLAIM_RATE = {\n  [toolLevel.DEFAULT]: 0,\n  [toolLevel.BRONZE]: 0.25,\n  [toolLevel.IRON]: 0.5,\n  [toolLevel.SILVER]: 0.75,\n  [toolLevel.GOLD]: 1,\n}\n\nexport const COW_COLORS_HEX_MAP = {\n  [cowColors.BLUE]: '#8ff0f9',\n  [cowColors.BROWN]: '#b45f28',\n  [cowColors.GREEN]: '#65f295',\n  [cowColors.ORANGE]: '#ff7031',\n  [cowColors.PURPLE]: '#d884f2',\n  [cowColors.WHITE]: '#ffffff',\n  [cowColors.YELLOW]: '#fff931',\n}\n\nexport const COW_TRADE_TIMEOUT = 10000\n","import { fieldMode, itemType } from '../enums'\n\nconst { freeze } = Object\n\nexport const crop = ({\n  cropTimetable,\n  growsInto,\n  tier,\n\n  isSeed = Boolean(growsInto),\n  cropLifecycleDuration = Object.values(cropTimetable).reduce(\n    (acc, value) => acc + value,\n    0\n  ),\n\n  ...rest\n}) =>\n  freeze({\n    cropTimetable,\n    doesPriceFluctuate: true,\n    tier,\n    type: itemType.CROP,\n    value: 10 + cropLifecycleDuration * tier * (isSeed ? 1 : 3),\n    ...(isSeed && {\n      enablesFieldMode: fieldMode.PLANT,\n      growsInto,\n      isPlantableCrop: true,\n    }),\n    ...rest,\n  })\n\nexport const fromSeed = ({ cropTimetable, cropType, growsInto, tier }) => ({\n  cropTimetable,\n  cropType,\n  doesPriceFluctuate: true,\n  id: growsInto,\n  tier,\n  type: itemType.CROP,\n})\n","import { crop, fromSeed } from '../crop'\nimport { cropLifeStage, cropType } from '../../enums'\n\nconst { SEED, GROWING } = cropLifeStage\n\n/**\n * @property farmhand.module:items.asparagusSeed\n * @type {farmhand.item}\n */\nexport const asparagusSeed = crop({\n  cropType: cropType.ASPARAGUS,\n  cropTimetable: {\n    [SEED]: 4,\n    [GROWING]: 5,\n  },\n  growsInto: 'asparagus',\n  id: 'asparagus-seed',\n  name: 'Asparagus Seed',\n  tier: 4,\n})\n\n/**\n * @property farmhand.module:items.asparagus\n * @type {farmhand.item}\n */\nexport const asparagus = crop({\n  ...fromSeed(asparagusSeed),\n  name: 'Asparagus',\n})\n","import { crop, fromSeed } from '../crop'\nimport { cropLifeStage, cropType } from '../../enums'\n\nconst { SEED, GROWING } = cropLifeStage\n\n/**\n * @property farmhand.module:items.carrotSeed\n * @type {farmhand.item}\n */\nexport const carrotSeed = crop({\n  cropType: cropType.CARROT,\n  cropTimetable: {\n    [SEED]: 2,\n    [GROWING]: 3,\n  },\n  growsInto: 'carrot',\n  id: 'carrot-seed',\n  name: 'Carrot Seed',\n  tier: 1,\n})\n\n/**\n * @property farmhand.module:items.carrot\n * @type {farmhand.item}\n */\nexport const carrot = crop({\n  ...fromSeed(carrotSeed),\n  name: 'Carrot',\n})\n","import { crop, fromSeed } from '../crop'\nimport { cropLifeStage, cropType } from '../../enums'\n\nconst { SEED, GROWING } = cropLifeStage\n\n/**\n * @property farmhand.module:items.cornSeed\n * @type {farmhand.item}\n */\nexport const cornSeed = crop({\n  cropType: cropType.CORN,\n  cropTimetable: {\n    [SEED]: 3,\n    [GROWING]: 7,\n  },\n  growsInto: 'corn',\n  id: 'corn-seed',\n  name: 'Corn Kernels',\n  tier: 2,\n})\n\n/**\n * @property farmhand.module:items.corn\n * @type {farmhand.item}\n */\nexport const corn = crop({\n  ...fromSeed(cornSeed),\n  name: 'Corn',\n})\n","import { crop, fromSeed } from '../crop'\nimport { cropLifeStage, cropType } from '../../enums'\n\nconst { SEED, GROWING } = cropLifeStage\n\n/**\n * @property farmhand.module:items.jalapenoSeed\n * @type {farmhand.item}\n */\nexport const jalapenoSeed = crop({\n  cropType: cropType.JALAPENO,\n  cropTimetable: {\n    [SEED]: 2,\n    [GROWING]: 3,\n  },\n  growsInto: 'jalapeno',\n  id: 'jalapeno-seed',\n  name: 'Jalapeo Seed',\n  tier: 4,\n})\n\n/**\n * @property farmhand.module:items.jalapeno\n * @type {farmhand.item}\n */\nexport const jalapeno = crop({\n  ...fromSeed(jalapenoSeed),\n  name: 'Jalapeo',\n})\n","import { crop, fromSeed } from '../crop'\nimport { cropLifeStage, cropType } from '../../enums'\n\nconst { SEED, GROWING } = cropLifeStage\n\n/**\n * @property farmhand.module:items.onionSeed\n * @type {farmhand.item}\n */\nexport const onionSeed = crop({\n  cropType: cropType.ONION,\n  cropTimetable: {\n    [SEED]: 3,\n    [GROWING]: 4,\n  },\n  growsInto: 'onion',\n  id: 'onion-seed',\n  name: 'Onion Seeds',\n  tier: 2,\n})\n\n/**\n * @property farmhand.module:items.onion\n * @type {farmhand.item}\n */\nexport const onion = crop({\n  ...fromSeed(onionSeed),\n  name: 'Onion',\n})\n","import { crop, fromSeed } from '../crop'\nimport { cropLifeStage, cropType } from '../../enums'\n\nconst { SEED, GROWING } = cropLifeStage\n\n/**\n * @property farmhand.module:items.peaSeed\n * @type {farmhand.item}\n */\nexport const peaSeed = crop({\n  cropType: cropType.PEA,\n  cropTimetable: {\n    [SEED]: 2,\n    [GROWING]: 3,\n  },\n  growsInto: 'pea',\n  id: 'pea-seed',\n  name: 'Pea Seed',\n  tier: 5,\n})\n\n/**\n * @property farmhand.module:items.pea\n * @type {farmhand.item}\n */\nexport const pea = crop({\n  ...fromSeed(peaSeed),\n  name: 'Pea',\n})\n","import { crop, fromSeed } from '../crop'\nimport { cropLifeStage, cropType } from '../../enums'\n\nconst { SEED, GROWING } = cropLifeStage\n\n/**\n * @property farmhand.module:items.potatoSeed\n * @type {farmhand.item}\n */\nexport const potatoSeed = crop({\n  cropType: cropType.POTATO,\n  cropTimetable: {\n    [SEED]: 2,\n    [GROWING]: 3,\n  },\n  growsInto: 'potato',\n  id: 'potato-seed',\n  name: 'Potato Seeds',\n  tier: 2,\n})\n\n/**\n * @property farmhand.module:items.potato\n * @type {farmhand.item}\n */\nexport const potato = crop({\n  ...fromSeed(potatoSeed),\n  name: 'Potato',\n})\n","import { crop, fromSeed } from '../crop'\nimport { cropLifeStage, cropType } from '../../enums'\n\nconst { SEED, GROWING } = cropLifeStage\n\n/**\n * @property farmhand.module:items.pumpkinSeed\n * @type {farmhand.item}\n */\nexport const pumpkinSeed = crop({\n  cropType: cropType.PUMPKIN,\n  cropTimetable: {\n    [SEED]: 3,\n    [GROWING]: 5,\n  },\n  growsInto: 'pumpkin',\n  id: 'pumpkin-seed',\n  name: 'Pumpkin Seed',\n  tier: 1,\n})\n\n/**\n * @property farmhand.module:items.pumpkin\n * @type {farmhand.item}\n */\nexport const pumpkin = crop({\n  ...fromSeed(pumpkinSeed),\n  name: 'Pumpkin',\n})\n","import { crop, fromSeed } from '../crop'\nimport { cropLifeStage, cropType } from '../../enums'\n\nconst { SEED, GROWING } = cropLifeStage\n\n/**\n * @property farmhand.module:items.soybeanSeed\n * @type {farmhand.item}\n */\nexport const soybeanSeed = crop({\n  cropType: cropType.SOYBEAN,\n  cropTimetable: {\n    [SEED]: 2,\n    [GROWING]: 2,\n  },\n  growsInto: 'soybean',\n  id: 'soybean-seed',\n  name: 'Soybean Seeds',\n  tier: 3,\n})\n\n/**\n * @property farmhand.module:items.soybean\n * @type {farmhand.item}\n */\nexport const soybean = crop({\n  ...fromSeed(soybeanSeed),\n  name: 'Soybean',\n})\n","import { crop, fromSeed } from '../crop'\nimport { cropLifeStage, cropType } from '../../enums'\n\nconst { SEED, GROWING } = cropLifeStage\n\n/**\n * @property farmhand.module:items.spinachSeed\n * @type {farmhand.item}\n */\nexport const spinachSeed = crop({\n  cropType: cropType.SPINACH,\n  cropTimetable: {\n    [SEED]: 2,\n    [GROWING]: 4,\n  },\n  growsInto: 'spinach',\n  id: 'spinach-seed',\n  name: 'Spinach Seed',\n  tier: 1,\n})\n\n/**\n * @property farmhand.module:items.spinach\n * @type {farmhand.item}\n */\nexport const spinach = crop({\n  ...fromSeed(spinachSeed),\n  name: 'Spinach',\n})\n","import { crop, fromSeed } from '../crop'\nimport { cropLifeStage, cropType } from '../../enums'\n\nconst { SEED, GROWING } = cropLifeStage\n\n/**\n * @property farmhand.module:items.strawberrySeed\n * @type {farmhand.item}\n */\nexport const strawberrySeed = crop({\n  cropType: cropType.STRAWBERRY,\n  cropTimetable: {\n    [SEED]: 6,\n    [GROWING]: 2,\n  },\n  growsInto: 'strawberry',\n  id: 'strawberry-seed',\n  name: 'Strawberry Seed',\n  tier: 5,\n})\n\n/**\n * @property farmhand.module:items.strawberry\n * @type {farmhand.item}\n */\nexport const strawberry = crop({\n  ...fromSeed(strawberrySeed),\n  name: 'Strawberry',\n})\n","import { crop, fromSeed } from '../crop'\nimport { cropLifeStage, cropType } from '../../enums'\n\nconst { SEED, GROWING } = cropLifeStage\n\n/**\n * @property farmhand.module:items.tomatoSeed\n * @type {farmhand.item}\n */\nexport const tomatoSeed = crop({\n  cropType: cropType.TOMATO,\n  cropTimetable: {\n    [SEED]: 5,\n    [GROWING]: 6,\n  },\n  growsInto: 'tomato',\n  id: 'tomato-seed',\n  name: 'Tomato Seeds',\n  tier: 3,\n})\n\n/**\n * @property farmhand.module:items.tomato\n * @type {farmhand.item}\n */\nexport const tomato = crop({\n  ...fromSeed(tomatoSeed),\n  name: 'Tomato',\n})\n","import { crop, fromSeed } from '../crop'\nimport { cropLifeStage, cropType } from '../../enums'\n\nconst { SEED, GROWING } = cropLifeStage\n\n/**\n * @property farmhand.module:items.watermelonSeed\n * @type {farmhand.item}\n */\nexport const watermelonSeed = crop({\n  cropType: cropType.WATERMELON,\n  cropTimetable: {\n    [SEED]: 2,\n    [GROWING]: 10,\n  },\n  growsInto: 'watermelon',\n  id: 'watermelon-seed',\n  name: 'Watermelon Seed',\n  tier: 4,\n})\n\n/**\n * @property farmhand.module:items.watermelon\n * @type {farmhand.item}\n */\nexport const watermelon = crop({\n  ...fromSeed(watermelonSeed),\n  name: 'Watermelon',\n})\n","import { crop, fromSeed } from '../crop'\nimport { cropLifeStage, cropType } from '../../enums'\n\nconst { SEED, GROWING } = cropLifeStage\n\n/**\n * @property farmhand.module:items.wheatSeed\n * @type {farmhand.item}\n */\nexport const wheatSeed = crop({\n  cropType: cropType.WHEAT,\n  cropTimetable: {\n    [SEED]: 1,\n    [GROWING]: 1,\n  },\n  growsInto: 'wheat',\n  id: 'wheat-seed',\n  name: 'Wheat Seeds',\n  tier: 3,\n})\n\n/**\n * @property farmhand.module:items.wheat\n * @type {farmhand.item}\n */\nexport const wheat = crop({\n  ...fromSeed(wheatSeed),\n  name: 'Wheat',\n})\n","import { itemType } from '../../enums'\nimport { BRONZE_SPAWN_CHANCE } from '../../constants'\n\nconst { freeze } = Object\n\n/**\n * @property farmhand.module:items.bronzeOre\n * @type {farmhand.item}\n */\nexport const bronzeOre = freeze({\n  description: 'A piece of bronze ore.',\n  doesPriceFluctuate: true,\n  id: 'bronze-ore',\n  name: 'Bronze Ore',\n  type: itemType.ORE,\n  value: 25,\n  spawnChance: BRONZE_SPAWN_CHANCE,\n})\n","import { itemType } from '../../enums'\nimport { COAL_SPAWN_CHANCE } from '../../constants'\n\nconst { freeze } = Object\n\n/**\n * @property farmhand.module:items.coal\n * @type {farmhand.item}\n */\nexport const coal = freeze({\n  description: 'A piece of coal.',\n  doesPriceFluctuate: false,\n  id: 'coal',\n  name: 'Coal',\n  type: itemType.FUEL,\n  spawnChance: COAL_SPAWN_CHANCE,\n  value: 2,\n})\n","import { itemType } from '../../enums'\nimport { GOLD_SPAWN_CHANCE } from '../../constants'\n\nconst { freeze } = Object\n\n/**\n * @property farmhand.module:items.goldOre\n * @type {farmhand.item}\n */\nexport const goldOre = freeze({\n  description: 'A piece of gold ore.',\n  doesPriceFluctuate: true,\n  id: 'gold-ore',\n  name: 'Gold Ore',\n  type: itemType.ORE,\n  value: 500,\n  spawnChance: GOLD_SPAWN_CHANCE,\n})\n","import { itemType } from '../../enums'\nimport { IRON_SPAWN_CHANCE } from '../../constants'\n\nconst { freeze } = Object\n\n/**\n * @property farmhand.module:items.ironOre\n * @type {farmhand.item}\n */\nexport const ironOre = freeze({\n  description: 'A piece of iron ore.',\n  doesPriceFluctuate: true,\n  id: 'iron-ore',\n  name: 'Iron Ore',\n  type: itemType.ORE,\n  value: 40,\n  spawnChance: IRON_SPAWN_CHANCE,\n})\n","import { itemType } from '../../enums'\nimport { SILVER_SPAWN_CHANCE } from '../../constants'\n\nconst { freeze } = Object\n\n/**\n * @property farmhand.module:items.silverOre\n * @type {farmhand.item}\n */\nexport const silverOre = freeze({\n  description: 'A piece of silver ore.',\n  doesPriceFluctuate: true,\n  id: 'silver-ore',\n  name: 'Silver Ore',\n  type: itemType.ORE,\n  value: 100,\n  spawnChance: SILVER_SPAWN_CHANCE,\n})\n","import { itemType } from '../../enums'\nimport { STONE_SPAWN_CHANCE } from '../../constants'\n\nconst { freeze } = Object\n\n/**\n * @property farmhand.module:items.stone\n * @type {farmhand.item}\n */\nexport const stone = freeze({\n  description: 'A piece of rock.',\n  doesPriceFluctuate: false,\n  id: 'stone',\n  name: 'Stone',\n  spawnChance: STONE_SPAWN_CHANCE,\n  type: itemType.STONE,\n  value: 10,\n})\n","/**\n * @module farmhand.items\n */\n\nimport { fieldMode, itemType } from '../enums'\nimport {\n  COW_FEED_ITEM_ID,\n  HUGGING_MACHINE_ITEM_ID,\n  INITIAL_SPRINKLER_RANGE,\n} from '../constants'\n\nconst { freeze } = Object\nconst {\n  COW_FEED,\n  FERTILIZER,\n  HUGGING_MACHINE,\n  MILK,\n  SCARECROW,\n  SPRINKLER,\n} = itemType\n\nexport {\n  asparagus,\n  asparagusSeed,\n  carrot,\n  carrotSeed,\n  corn,\n  cornSeed,\n  jalapeno,\n  jalapenoSeed,\n  onion,\n  onionSeed,\n  pea,\n  peaSeed,\n  potato,\n  potatoSeed,\n  pumpkin,\n  pumpkinSeed,\n  soybean,\n  soybeanSeed,\n  spinach,\n  spinachSeed,\n  strawberry,\n  strawberrySeed,\n  tomato,\n  tomatoSeed,\n  watermelon,\n  watermelonSeed,\n  wheat,\n  wheatSeed,\n} from './crops'\n\nexport { bronzeOre, coal, goldOre, ironOre, silverOre, stone } from './ores'\n\n////////////////////////////////////////\n//\n// FIELD TOOLS\n//\n////////////////////////////////////////\n\n/**\n * @property farmhand.module:items.fertilizer\n * @type {farmhand.item}\n */\nexport const fertilizer = freeze({\n  description: 'Helps crops grow and mature a little faster.',\n  enablesFieldMode: fieldMode.FERTILIZE,\n  id: 'fertilizer',\n  name: 'Fertilizer',\n  type: FERTILIZER,\n  value: 25,\n})\n\n/**\n * @property farmhand.module:items.rainbowFertilizer\n * @type {farmhand.item}\n */\nexport const rainbowFertilizer = freeze({\n  description:\n    'Helps crops grow a little faster and automatically replants them upon harvesting. Consumes seeds upon replanting and disappears if none are available. Also works for Scarecrows.',\n  enablesFieldMode: fieldMode.FERTILIZE,\n  id: 'rainbow-fertilizer',\n  name: 'Rainbow Fertilizer',\n  type: FERTILIZER,\n  // Rainbow Fertilizer is worth less than regular Fertilizer because it is not\n  // sold in the shop. Items that are sold in the shop have automatically\n  // reduced resale value, but since that would not apply to Rainbow\n  // Fertilizer, it is pre-reduced via this hardcoded value.\n  value: 15,\n})\n\n/**\n * @property farmhand.module:items.sprinkler\n * @type {farmhand.item}\n */\nexport const sprinkler = freeze({\n  description: 'Automatically waters adjacent plants every day.',\n  enablesFieldMode: fieldMode.SET_SPRINKLER,\n  // Note: The actual hoveredPlotRangeSize of sprinklers grows with the\n  // player's level.\n  hoveredPlotRangeSize: INITIAL_SPRINKLER_RANGE,\n  id: 'sprinkler',\n  isReplantable: true,\n  name: 'Sprinkler',\n  type: SPRINKLER,\n  value: 120,\n})\n\n/**\n * @property farmhand.module:items.scarecrow\n * @type {farmhand.item}\n */\nexport const scarecrow = freeze({\n  description:\n    'Prevents crows from eating your crops. One scarecrow covers an entire field, but they are afraid of storms.',\n  enablesFieldMode: fieldMode.SET_SCARECROW,\n  // Note: This needs to be a safe number (rather than Infinity) because it\n  // potentially gets JSON.stringify-ed during data export. Non-safe numbers\n  // get stringify-ed to \"null\", which breaks reimporting.\n  hoveredPlotRangeSize: Number.MAX_SAFE_INTEGER,\n  id: 'scarecrow',\n  isReplantable: true,\n  name: 'Scarecrow',\n  type: SCARECROW,\n  value: 160,\n})\n\n////////////////////////////////////////\n//\n// COW ITEMS\n//\n////////////////////////////////////////\n\n/**\n * @property farmhand.module:items.cowFeed\n * @type {farmhand.item}\n */\nexport const cowFeed = freeze({\n  id: COW_FEED_ITEM_ID,\n  description:\n    'Each cow automatically consumes one unit of Cow Feed per day. Fed cows gain and maintain weight.',\n  name: 'Cow Feed',\n  type: COW_FEED,\n  value: 5,\n})\n\n/**\n * @property farmhand.module:items.huggingMachine\n * @type {farmhand.item}\n */\nexport const huggingMachine = freeze({\n  id: HUGGING_MACHINE_ITEM_ID,\n  description: 'Automatically hugs one cow three times every day.',\n  name: 'Hugging Machine',\n  type: HUGGING_MACHINE,\n  value: 500,\n})\n\n/**\n * @property farmhand.module:items.milk1\n * @type {farmhand.item}\n */\nexport const milk1 = freeze({\n  id: 'milk-1',\n  name: 'Grade C Milk',\n  type: MILK,\n  value: 40,\n})\n\n/**\n * @property farmhand.module:items.milk2\n * @type {farmhand.item}\n */\nexport const milk2 = freeze({\n  id: 'milk-2',\n  name: 'Grade B Milk',\n  type: MILK,\n  value: 80,\n})\n\n/**\n * @property farmhand.module:items.milk3\n * @type {farmhand.item}\n */\nexport const milk3 = freeze({\n  id: 'milk-3',\n  name: 'Grade A Milk',\n  type: MILK,\n  value: 120,\n})\n\n/**\n * @property farmhand.module:items.rainbowMilk1\n * @type {farmhand.item}\n */\nexport const rainbowMilk1 = freeze({\n  id: 'rainbow-milk-1',\n  name: 'Grade C Rainbow Milk',\n  type: MILK,\n  value: 60,\n})\n\n/**\n * @property farmhand.module:items.rainbowMilk2\n * @type {farmhand.item}\n */\nexport const rainbowMilk2 = freeze({\n  id: 'rainbow-milk-2',\n  name: 'Grade B Rainbow Milk',\n  type: MILK,\n  value: 120,\n})\n\n/**\n * @property farmhand.module:items.rainbowMilk3\n * @type {farmhand.item}\n */\nexport const rainbowMilk3 = freeze({\n  id: 'rainbow-milk-3',\n  name: 'Grade A Rainbow Milk',\n  type: MILK,\n  value: 180,\n})\n\n/**\n * @property farmhand.module:items.chocolateMilk\n * @type {farmhand.item}\n */\nexport const chocolateMilk = freeze({\n  id: 'chocolate-milk',\n  name: 'Chocolate Milk',\n  type: MILK,\n  value: 80,\n})\n","import {\n  // Plantable crops\n  asparagusSeed,\n  carrotSeed,\n  cornSeed,\n  jalapenoSeed,\n  onionSeed,\n  peaSeed,\n  potatoSeed,\n  pumpkinSeed,\n  soybeanSeed,\n  spinachSeed,\n  strawberrySeed,\n  tomatoSeed,\n  watermelonSeed,\n  wheatSeed,\n\n  // Field items\n  fertilizer,\n  scarecrow,\n  sprinkler,\n} from './items'\n\nconst inventory = [\n  // Plantable crops\n  asparagusSeed,\n  carrotSeed,\n  cornSeed,\n  jalapenoSeed,\n  onionSeed,\n  peaSeed,\n  potatoSeed,\n  pumpkinSeed,\n  soybeanSeed,\n  spinachSeed,\n  strawberrySeed,\n  tomatoSeed,\n  watermelonSeed,\n  wheatSeed,\n\n  // Field items\n  fertilizer,\n  scarecrow,\n  sprinkler,\n]\n\nexport default inventory\n\nexport const itemIds = new Set(inventory.map(item => item.id))\n","// Adapted from https://simple.wikipedia.org/wiki/List_of_fruits\nexport default [\n  'Akee',\n  'Apple',\n  'Apricot',\n  'Avocado',\n  'Aa',\n  'Banana',\n  'Bilberry',\n  'Blackberry',\n  'Blackcurrant',\n  'Blueberry',\n  'Boysenberry',\n  'Cantaloupe',\n  'Cherimoya',\n  'Cherry',\n  'Chico',\n  'Clementine',\n  'Cloudberry',\n  'Coconut',\n  'Crabapple',\n  'Cranberry',\n  'Cucumber',\n  'Currant',\n  'Damson',\n  'Durian',\n  'Elderberry',\n  'Feijoa',\n  'Fig',\n  'Goji',\n  'Gooseberry',\n  'Grape',\n  'Grapefruit',\n  'Guava',\n  'Honeyberry',\n  'Honeydew',\n  'Huckleberry',\n  'Jabuticaba',\n  'Jackfruit',\n  'Jambul',\n  'Jostaberry',\n  'Jujube',\n  'Juniper',\n  'Kiwano',\n  'Kiwi',\n  'Kumquat',\n  'Lemon',\n  'Lime',\n  'Longan',\n  'Loquat',\n  'Lychee',\n  'Mandarine',\n  'Mango',\n  'Mangosteen',\n  'Marion',\n  'Melon',\n  'Mulberry',\n  'Nance',\n  'Nectarine',\n  'Olive',\n  'Orange',\n  'Papaya',\n  'Peach',\n  'Pear',\n  'Persimmon',\n  'Pineapple',\n  'Pineberry',\n  'Pitaya',\n  'Plantain',\n  'Plum',\n  'Plumcot',\n  'Pomegranate',\n  'Pomelo',\n  'Prune',\n  'Pumpkin',\n  'Quince',\n  'Raisin',\n  'Rambutan',\n  'Raspberry',\n  'Salak',\n  'Salal',\n  'Salmonberry',\n  'Sapote',\n  'Satsuma',\n  'Soursop',\n  'Strawberry',\n  'Surinam',\n  'Tamarillo',\n  'Tamarind',\n  'Tangerine',\n  'Tomato',\n  'Watermelon',\n  'Yuzu',\n  'Zucchini',\n]\n","import * as items from '../data/items'\n\nexport default {\n  ...Object.keys(items).reduce((acc, itemName) => {\n    const item = items[itemName]\n    acc[item.id] = item\n    return acc\n  }, {}),\n}\n","/**\n * @module farmhand.recipes\n */\nimport { itemType, recipeType } from '../enums'\nimport { RECIPE_INGREDIENT_VALUE_MULTIPLIER } from '../constants'\n\nimport * as items from './items'\nimport baseItemsMap from './items-map'\n\nconst itemsMap = { ...baseItemsMap }\n\nconst itemify = recipe => {\n  const item = Object.freeze({\n    ...recipe,\n    type: itemType.CRAFTED_ITEM,\n    value: Object.keys(recipe.ingredients).reduce(\n      (sum, itemId) =>\n        sum +\n        RECIPE_INGREDIENT_VALUE_MULTIPLIER *\n          itemsMap[itemId].value *\n          recipe.ingredients[itemId],\n      0\n    ),\n  })\n\n  itemsMap[recipe.id] = item\n\n  return item\n}\n\n/**\n * @property farmhand.module:recipes.bread\n * @type {farmhand.recipe}\n */\nexport const bread = itemify({\n  id: 'bread',\n  name: 'Bread',\n  ingredients: {\n    [items.wheat.id]: 15,\n  },\n  condition: state => state.itemsSold[items.wheat.id] >= 30,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.butter\n * @type {farmhand.recipe}\n */\nexport const butter = itemify({\n  id: 'butter',\n  name: 'Butter',\n  ingredients: {\n    [items.milk3.id]: 5,\n  },\n  condition: state => state.itemsSold[items.milk3.id] >= 30,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.cheese\n * @type {farmhand.recipe}\n */\nexport const cheese = itemify({\n  id: 'cheese',\n  name: 'Cheese',\n  ingredients: {\n    [items.milk3.id]: 8,\n  },\n  condition: state => (state.itemsSold[items.milk3.id] || 0) >= 20,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.rainbowCheese\n * @type {farmhand.recipe}\n */\nexport const rainbowCheese = itemify({\n  id: 'rainbowCheese',\n  name: 'Rainbow Cheese',\n  ingredients: {\n    [items.rainbowMilk3.id]: 10,\n  },\n  condition: state => (state.itemsSold[items.rainbowMilk3.id] || 0) >= 30,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.chocolate\n * @type {farmhand.recipe}\n */\nexport const chocolate = itemify({\n  id: 'chocolate',\n  name: 'Chocolate',\n  ingredients: {\n    [items.chocolateMilk.id]: 10,\n  },\n  condition: state => (state.itemsSold[items.chocolateMilk.id] || 0) >= 25,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.carrotSoup\n * @type {farmhand.recipe}\n */\nexport const carrotSoup = itemify({\n  id: 'carrot-soup',\n  name: 'Carrot Soup',\n  ingredients: {\n    [items.carrot.id]: 4,\n  },\n  condition: state => (state.itemsSold[items.carrot.id] || 0) >= 10,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.jackolantern\n * @type {farmhand.recipe}\n */\nexport const jackolantern = itemify({\n  id: 'jackolantern',\n  name: \"Jack-o'-lantern\",\n  ingredients: {\n    [items.pumpkin.id]: 1,\n  },\n  condition: state => (state.itemsSold[items.pumpkin.id] || 0) >= 50,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.spaghetti\n * @type {farmhand.recipe}\n */\nexport const spaghetti = itemify({\n  id: 'spaghetti',\n  name: 'Spaghetti',\n  ingredients: {\n    [items.wheat.id]: 10,\n    [items.tomato.id]: 2,\n  },\n  condition: state =>\n    state.itemsSold[items.wheat.id] >= 20 &&\n    state.itemsSold[items.tomato.id] >= 5,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.frenchOnionSoup\n * @type {farmhand.recipe}\n */\nexport const frenchOnionSoup = itemify({\n  id: 'french-onion-soup',\n  name: 'French Onion Soup',\n  ingredients: {\n    [items.onion.id]: 5,\n    [cheese.id]: 2,\n  },\n  condition: state =>\n    state.itemsSold[items.onion.id] >= 15 && state.itemsSold[cheese.id] >= 10,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.burger\n * @type {farmhand.recipe}\n */\nexport const burger = itemify({\n  id: 'burger',\n  name: 'Burger',\n  ingredients: {\n    [bread.id]: 1,\n    [cheese.id]: 1,\n    [items.onion.id]: 1,\n    [items.soybean.id]: 12,\n    [items.spinach.id]: 1,\n    [items.tomato.id]: 1,\n  },\n  condition: state =>\n    state.itemsSold[bread.id] >= 5 &&\n    state.itemsSold[cheese.id] >= 5 &&\n    state.itemsSold[items.onion.id] >= 5 &&\n    state.itemsSold[items.soybean.id] >= 25 &&\n    state.itemsSold[items.spinach.id] >= 5 &&\n    state.itemsSold[items.tomato.id] >= 5,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.summerSalad\n * @type {farmhand.recipe}\n */\nexport const summerSalad = itemify({\n  id: 'summer-salad',\n  name: 'Summer Salad',\n  ingredients: {\n    [items.spinach.id]: 6,\n    [items.corn.id]: 1,\n    [items.carrot.id]: 1,\n  },\n  condition: state =>\n    state.itemsSold[items.spinach.id] >= 30 &&\n    state.itemsSold[items.corn.id] > 5 &&\n    state.itemsSold[items.carrot.id] > 5,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.soyMilk\n * @type {farmhand.recipe}\n */\nexport const soyMilk = itemify({\n  id: 'soy-milk',\n  name: 'Soy Milk',\n  ingredients: {\n    [items.soybean.id]: 20,\n  },\n  condition: state => state.itemsSold[items.soybean.id] >= 100,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.chocolateSoyMilk\n * @type {farmhand.recipe}\n */\nexport const chocolateSoyMilk = itemify({\n  id: 'chocolate-soy-milk',\n  name: 'Chocolate Soy Milk',\n  ingredients: {\n    [soyMilk.id]: 1,\n    [chocolate.id]: 1,\n  },\n  condition: state =>\n    state.itemsSold[soyMilk.id] >= 5 && state.itemsSold[chocolate.id] >= 5,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.tofu\n * @type {farmhand.recipe}\n */\nexport const tofu = itemify({\n  id: 'tofu',\n  name: 'Tofu',\n  ingredients: {\n    [soyMilk.id]: 4,\n  },\n  condition: state => state.itemsSold[soyMilk.id] >= 20,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.hotSauce\n * @type {farmhand.recipe}\n */\nexport const hotSauce = itemify({\n  id: 'hot-sauce',\n  name: 'Hot Sauce',\n  ingredients: {\n    [items.jalapeno.id]: 10,\n  },\n  condition: state => state.itemsSold[items.jalapeno.id] >= 50,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.salsa\n * @type {farmhand.recipe}\n */\nexport const salsa = itemify({\n  id: 'salsa',\n  name: 'Salsa',\n  ingredients: {\n    [items.jalapeno.id]: 1,\n    [items.onion.id]: 1,\n    [items.tomato.id]: 1,\n    [items.corn.id]: 1,\n  },\n  condition: state =>\n    state.itemsSold[items.jalapeno.id] >= 5 &&\n    state.itemsSold[items.onion.id] >= 5 &&\n    state.itemsSold[items.tomato.id] >= 5 &&\n    state.itemsSold[items.corn.id] >= 5,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.spicyCheese\n * @type {farmhand.recipe}\n */\nexport const spicyCheese = itemify({\n  id: 'spicy-cheese',\n  name: 'Spicy Cheese',\n  ingredients: {\n    [items.jalapeno.id]: 4,\n    [items.milk3.id]: 10,\n  },\n  condition: state =>\n    state.itemsSold[items.jalapeno.id] >= 20 &&\n    state.itemsSold[items.milk3.id] >= 50,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.strawberryJam\n * @type {farmhand.recipe}\n */\nexport const strawberryJam = itemify({\n  id: 'strawberry-jam',\n  name: 'Strawberry Jam',\n  ingredients: {\n    [items.strawberry.id]: 10,\n  },\n  condition: state => state.itemsSold[items.strawberry.id] >= 60,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.popcorn\n * @type {farmhand.recipe}\n */\nexport const popcorn = itemify({\n  id: 'popcorn',\n  name: 'Popcorn',\n  ingredients: {\n    [items.corn.id]: 2,\n    [butter.id]: 1,\n  },\n  condition: state =>\n    state.itemsSold[items.corn.id] >= 12 && state.itemsSold[butter.id] >= 6,\n  recipeType: recipeType.KITCHEN,\n})\n\n/**\n * @property farmhand.module:recipes.bronzeIngot\n * @type {farmhand.recipe}\n */\nexport const bronzeIngot = itemify({\n  id: 'bronze-ingot',\n  name: 'Bronze Ingot',\n  ingredients: {\n    [items.bronzeOre.id]: 5,\n    [items.coal.id]: 5,\n  },\n  condition: state =>\n    state.purchasedSmelter && state.itemsSold[items.bronzeOre.id] >= 50,\n  recipeType: recipeType.FORGE,\n})\n\n/**\n * @property farmhand.module:recipes.ironIngot\n * @type {farmhand.recipe}\n */\nexport const ironIngot = itemify({\n  id: 'iron-ingot',\n  name: 'Iron Ingot',\n  ingredients: {\n    [items.ironOre.id]: 5,\n    [items.coal.id]: 12,\n  },\n  condition: state =>\n    state.purchasedSmelter && state.itemsSold[items.ironOre.id] >= 50,\n  recipeType: recipeType.FORGE,\n})\n\n/**\n * @property farmhand.module:recipes.silverIngot\n * @type {farmhand.recipe}\n */\nexport const silverIngot = itemify({\n  id: 'silver-ingot',\n  name: 'Silver Ingot',\n  ingredients: {\n    [items.silverOre.id]: 5,\n    [items.coal.id]: 8,\n  },\n  condition: state =>\n    state.purchasedSmelter && state.itemsSold[items.silverOre.id] >= 50,\n  recipeType: recipeType.FORGE,\n})\n\n/**\n * @property farmhand.module:recipes.goldIngot\n * @type {farmhand.recipe}\n */\nexport const goldIngot = itemify({\n  id: 'gold-ingot',\n  name: 'Gold Ingot',\n  ingredients: {\n    [items.goldOre.id]: 5,\n    [items.coal.id]: 10,\n  },\n  condition: state =>\n    state.purchasedSmelter && state.itemsSold[items.goldOre.id] >= 50,\n  recipeType: recipeType.FORGE,\n})\n","import { itemType, toolType, toolLevel } from '../enums'\n\nimport * as items from './items'\nimport * as recipes from './recipes'\n\nconst coalNeededForIngots = (ingotId, amount = 1) => {\n  switch (ingotId) {\n    case recipes.bronzeIngot.id:\n      return amount * 2\n\n    case recipes.ironIngot.id:\n      return Math.round(amount * 3.5)\n\n    case recipes.silverIngot.id:\n      return Math.round(amount * 2.5)\n\n    case recipes.goldIngot.id:\n      return amount * 3\n\n    default:\n      return amount\n  }\n}\n\nconst { bronzeIngot, ironIngot, silverIngot, goldIngot } = recipes\nconst { coal } = items\n\n/**\n * @type {farmhand.upgradesMetadata}\n */\nconst upgrades = {\n  [toolType.HOE]: {\n    [toolLevel.DEFAULT]: {\n      id: 'hoe-default',\n      name: 'Basic Hoe',\n      nextLevel: toolLevel.BRONZE,\n    },\n    [toolLevel.BRONZE]: {\n      id: 'hoe-bronze',\n      description: 'Gives 25% chance to retrieve seeds when digging up crops',\n      name: 'Bronze Hoe',\n      ingredients: {\n        [bronzeIngot.id]: 8,\n        [coal.id]: coalNeededForIngots(bronzeIngot.id, 8),\n      },\n      nextLevel: toolLevel.IRON,\n    },\n    [toolLevel.IRON]: {\n      id: 'hoe-iron',\n      description: 'Gives 50% chance to retrieve seeds when digging up crops',\n      name: 'Iron Hoe',\n      ingredients: {\n        [ironIngot.id]: 8,\n        [coal.id]: coalNeededForIngots(ironIngot.id, 8),\n      },\n      nextLevel: toolLevel.SILVER,\n    },\n    [toolLevel.SILVER]: {\n      id: 'hoe-silver',\n      description: 'Gives 75% chance to retrieve seeds when digging up crops',\n      name: 'Silver Hoe',\n      ingredients: {\n        [silverIngot.id]: 8,\n        [coal.id]: coalNeededForIngots(silverIngot.id, 8),\n      },\n      nextLevel: toolLevel.GOLD,\n    },\n    [toolLevel.GOLD]: {\n      id: 'hoe-gold',\n      description: 'Gives 100% chance to retrieve seeds when digging up crops',\n      name: 'Gold Hoe',\n      ingredients: {\n        [goldIngot.id]: 8,\n        [coal.id]: coalNeededForIngots(goldIngot.id, 8),\n      },\n      isMaxLevel: true,\n    },\n  },\n  [toolType.SCYTHE]: {\n    [toolLevel.DEFAULT]: {\n      id: 'scythe-default',\n      name: 'Basic Scythe',\n      nextLevel: toolLevel.BRONZE,\n    },\n    [toolLevel.BRONZE]: {\n      id: 'scythe-bronze',\n      description: 'Increases crop yield by 1 when harvesting',\n      name: 'Bronze Scythe',\n      ingredients: {\n        [bronzeIngot.id]: 10,\n        [coal.id]: coalNeededForIngots(bronzeIngot.id, 10),\n      },\n      nextLevel: toolLevel.IRON,\n    },\n    [toolLevel.IRON]: {\n      id: 'scythe-iron',\n      description: 'Increases crop yield by 2 when harvesting',\n      name: 'Iron Scythe',\n      ingredients: {\n        [ironIngot.id]: 10,\n        [coal.id]: coalNeededForIngots(ironIngot.id, 10),\n      },\n      nextLevel: toolLevel.SILVER,\n    },\n    [toolLevel.SILVER]: {\n      id: 'scythe-silver',\n      description: 'Increases crop yield by 3 when harvesting',\n      name: 'Silver Scythe',\n      ingredients: {\n        [silverIngot.id]: 10,\n        [coal.id]: coalNeededForIngots(silverIngot.id, 10),\n      },\n      nextLevel: toolLevel.GOLD,\n    },\n    [toolLevel.GOLD]: {\n      id: 'scythe-gold',\n      description: 'Increases crop yield by 4 when harvesting',\n      name: 'Gold Scythe',\n      ingredients: {\n        [goldIngot.id]: 10,\n        [coal.id]: coalNeededForIngots(goldIngot.id, 10),\n      },\n      isMaxLevel: true,\n    },\n  },\n  [toolType.SHOVEL]: {\n    [toolLevel.DEFAULT]: {\n      id: 'shovel-default',\n      name: 'Basic Shovel',\n      nextLevel: toolLevel.BRONZE,\n    },\n    [toolLevel.BRONZE]: {\n      id: 'shovel-bronze',\n      description: 'Increases chance of finding ore',\n      name: 'Bronze Shovel',\n      ingredients: {\n        [bronzeIngot.id]: 15,\n        [coal.id]: coalNeededForIngots(bronzeIngot.id, 15),\n      },\n      nextLevel: toolLevel.IRON,\n    },\n    [toolLevel.IRON]: {\n      id: 'shovel-iron',\n      description: 'Increases chance of finding ore',\n      name: 'Iron Shovel',\n      ingredients: {\n        [ironIngot.id]: 15,\n        [coal.id]: coalNeededForIngots(ironIngot.id, 15),\n      },\n      nextLevel: toolLevel.SILVER,\n    },\n    [toolLevel.SILVER]: {\n      id: 'shovel-silver',\n      description: 'Increases chance of finding ore',\n      name: 'Silver Shovel',\n      ingredients: {\n        [silverIngot.id]: 15,\n        [coal.id]: coalNeededForIngots(silverIngot.id, 15),\n      },\n      nextLevel: toolLevel.GOLD,\n    },\n    [toolLevel.GOLD]: {\n      id: 'shovel-gold',\n      description: 'Increases chance of finding ore',\n      name: 'Gold Shovel',\n      ingredients: {\n        [goldIngot.id]: 15,\n        [coal.id]: coalNeededForIngots(goldIngot.id, 15),\n      },\n      isMaxLevel: true,\n    },\n  },\n}\n\n// add some defaults to each upgrade object\nfor (let toolType in upgrades) {\n  for (let i in upgrades[toolType]) {\n    Object.assign(upgrades[toolType][i], {\n      toolType,\n      value: 0,\n      doesPriceFluctuate: false,\n      type: itemType.TOOL_UPGRADE,\n      level: i,\n    })\n  }\n}\n\nexport default upgrades\n","import { cropType, recipeType } from '../enums'\n\nimport * as recipes from './recipes'\nimport upgrades from './upgrades'\n\nimport baseItemsMap from './items-map'\n\nconst {\n  ASPARAGUS,\n  CARROT,\n  CORN,\n  JALAPENO,\n  ONION,\n  PEA,\n  POTATO,\n  PUMPKIN,\n  SOYBEAN,\n  SPINACH,\n  STRAWBERRY,\n  TOMATO,\n  WATERMELON,\n  WHEAT,\n} = cropType\n\nexport const recipeCategories = {\n  [recipeType.KITCHEN]: {},\n  [recipeType.FORGE]: {},\n}\n\nexport const recipesMap = {}\n\nfor (const recipeId of Object.keys(recipes)) {\n  const recipe = recipes[recipeId]\n  recipeCategories[recipe.recipeType][recipe.id] = recipe\n  recipesMap[recipe.id] = recipe\n}\n\nexport const upgradesMap = {}\n\nfor (let toolType of Object.keys(upgrades)) {\n  for (let upgrade of Object.values(upgrades[toolType])) {\n    upgradesMap[upgrade.id] = upgrade\n  }\n}\n\nexport const itemsMap = {\n  ...baseItemsMap,\n  ...recipesMap,\n  ...upgradesMap,\n}\n\nexport const cropIdToTypeMap = {\n  [ASPARAGUS]: 'asparagus',\n  [CARROT]: 'carrot',\n  [CORN]: 'corn',\n  [JALAPENO]: 'jalapeno',\n  [ONION]: 'onion',\n  [PEA]: 'pea',\n  [POTATO]: 'potato',\n  [PUMPKIN]: 'pumpkin',\n  [SOYBEAN]: 'soybean',\n  [SPINACH]: 'spinach',\n  [STRAWBERRY]: 'strawberry',\n  [TOMATO]: 'tomato',\n  [WATERMELON]: 'watermelon',\n  [WHEAT]: 'wheat',\n}\n","export default [\n  'Adorable',\n  'Adventurous',\n  'Agreeable',\n  'Alert',\n  'Amused',\n  'Attractive',\n  'Average',\n  'Beautiful',\n  'Blushing',\n  'Brainy',\n  'Brave',\n  'Bright',\n  'Busy',\n  'Calm',\n  'Careful',\n  'Cautious',\n  'Charming',\n  'Cheerful',\n  'Clever',\n  'Cloudy',\n  'Colorful',\n  'Comfortable',\n  'Concerned',\n  'Cooperative',\n  'Courageous',\n  'Crazy',\n  'Curious',\n  'Cute',\n  'Delightful',\n  'Determined',\n  'Distinct',\n  'Dizzy',\n  'Elated',\n  'Elegant',\n  'Enchanting',\n  'Encouraging',\n  'Energetic',\n  'Enthusiastic',\n  'Excited',\n  'Exuberant',\n  'Famous',\n  'Fancy',\n  'Fantastic',\n  'Fierce',\n  'Fine',\n  'Friendly',\n  'Funny',\n  'Gentle',\n  'Gifted',\n  'Glamorous',\n  'Gleaming',\n  'Glorious',\n  'Gorgeous',\n  'Graceful',\n  'Handsome',\n  'Happy',\n  'Healthy',\n  'Helpful',\n  'Hilarious',\n  'Important',\n  'Inquisitive',\n  'Jolly',\n  'Joyous',\n  'Kind',\n  'Light',\n  'Lively',\n  'Lovely',\n  'Lucky',\n  'Magnificent',\n  'Mysterious',\n  'Nice',\n  'Nutty',\n  'Outrageous',\n  'Outstanding',\n  'Perfect',\n  'Pleasant',\n  'Poised',\n  'Powerful',\n  'Precious',\n  'Proud',\n  'Puzzled',\n  'Quaint',\n  'Relieved',\n  'Shiny',\n  'Silly',\n  'Sleepy',\n  'Smiling',\n  'Sparkling',\n  'Splendid',\n  'Stormy',\n  'Strange',\n  'Successful',\n  'Tame',\n  'Thankful',\n  'Thoughtful',\n  'Tough',\n  'Victorious',\n  'Vivacious',\n  'Wandering',\n  'Wide-eyed',\n  'Wild',\n  'Witty',\n  'Zany',\n]\n","export default [\n  'Aardvark',\n  'Albatross',\n  'Alligator',\n  'Alpaca',\n  'Angelfish',\n  'Anglerfish',\n  'Ant',\n  'Anteater',\n  'Antelope',\n  'Antlion',\n  'Ape',\n  'Armadillo',\n  'Asp',\n  'Baboon',\n  'Badger',\n  'Bandicoot',\n  'Barnacle',\n  'Barracuda',\n  'Basilisk',\n  'Bass',\n  'Bat',\n  'Bear',\n  'Beaver',\n  'Bee',\n  'Beetle',\n  'Bird',\n  'Bison',\n  'Blackbird',\n  'Boar',\n  'Bobcat',\n  'Bonobo',\n  'Bug',\n  'Butterfly',\n  'Buzzard',\n  'Camel',\n  'Capybara',\n  'Cardinal',\n  'Caribou',\n  'Cat',\n  'Caterpillar',\n  'Catfish',\n  'Cattle',\n  'Chameleon',\n  'Cheetah',\n  'Chickadee',\n  'Chicken',\n  'Chimpanzee',\n  'Chinchilla',\n  'Chipmunk',\n  'Clam',\n  'Clownfish',\n  'Cobra',\n  'Condor',\n  'Coral',\n  'Cougar',\n  'Coyote',\n  'Crab',\n  'Crane',\n  'Crawdad',\n  'Crayfish',\n  'Cricket',\n  'Crocodile',\n  'Crow',\n  'Cuckoo',\n  'Deer',\n  'Dingo',\n  'Dinosaur',\n  'Dog',\n  'Dolphin',\n  'Donkey',\n  'Dove',\n  'Dragon',\n  'Dragonfly',\n  'Duck',\n  'Eagle',\n  'Earthworm',\n  'Echidna',\n  'Egret',\n  'Elephant',\n  'Elk',\n  'Emu',\n  'Ermine',\n  'Falcon',\n  'Ferret',\n  'Finch',\n  'Firefly',\n  'Fish',\n  'Flamingo',\n  'Fowl',\n  'Fox',\n  'Frog',\n  'Gazelle',\n  'Gecko',\n  'Gerbil',\n  'Gibbon',\n  'Giraffe',\n  'Goat',\n  'Goldfish',\n  'Goose',\n  'Gopher',\n  'Gorilla',\n  'Grasshopper',\n  'Grouse',\n  'Gull',\n  'Guppy',\n  'Hamster',\n  'Hare',\n  'Harrier',\n  'Hawk',\n  'Hedgehog',\n  'Heron',\n  'Hippopotamus',\n  'Horse',\n  'Hummingbird',\n  'Hyena',\n  'Iguana',\n  'Impala',\n  'Jackal',\n  'Jaguar',\n  'Jay',\n  'Jellyfish',\n  'Kangaroo',\n  'Kingfisher',\n  'Kiwi',\n  'Koala',\n  'Koi',\n  'Ladybug',\n  'Lark',\n  'Lemming',\n  'Lemur',\n  'Leopard',\n  'Lion',\n  'Llama',\n  'Lobster',\n  'Loon',\n  'Lynx',\n  'Macaw',\n  'Mackerel',\n  'Mammal',\n  'Manatee',\n  'Mandrill',\n  'Marlin',\n  'Marmoset',\n  'Marmot',\n  'Marsupial',\n  'Mastodon',\n  'Meerkat',\n  'Mink',\n  'Minnow',\n  'Mockingbird',\n  'Mole',\n  'Mongoose',\n  'Monkey',\n  'Moose',\n  'Mosquito',\n  'Mouse',\n  'Mule',\n  'Muskox',\n  'Narwhal',\n  'Ocelot',\n  'Octopus',\n  'Opossum',\n  'Orangutan',\n  'Orca',\n  'Ostrich',\n  'Otter',\n  'Owl',\n  'Ox',\n  'Panda',\n  'Panther',\n  'Parakeet',\n  'Parrot',\n  'Partridge',\n  'Peacock',\n  'Pelican',\n  'Penguin',\n  'Pig',\n  'Pigeon',\n  'Platypus',\n  'Pony',\n  'Porcupine',\n  'Porpoise',\n  'Puffin',\n  'Puma',\n  'Python',\n  'Quail',\n  'Quokka',\n  'Rabbit',\n  'Raccoon',\n  'Raven',\n  'Reindeer',\n  'Rhinoceros',\n  'Roadrunner',\n  'Rooster',\n  'Salamander',\n  'Salmon',\n  'Seahorse',\n  'Shark',\n  'Sheep',\n  'Shrew',\n  'Sloth',\n  'Snail',\n  'Sparrow',\n  'Squid',\n  'Squirrel',\n  'Starfish',\n  'Stingray',\n  'Stoat',\n  'Stork',\n  'Sturgeon',\n  'Swan',\n  'Swift',\n  'Swordfish',\n  'Tapir',\n  'Tarsier',\n  'Tern',\n  'Tiger',\n  'Tortoise',\n  'Toucan',\n  'Turkey',\n  'Turtle',\n  'Tyrannosaurus',\n  'Vole',\n  'Wallaby',\n  'Walrus',\n  'Warbler',\n  'Whale',\n  'Wildcat',\n  'Wolf',\n  'Wolverine',\n  'Wombat',\n  'Woodpecker',\n  'Wren',\n  'Yak',\n  'Zebra',\n]\n","import window from 'global/window'\n\nexport const endpoints = {\n  getMarketData: `${process.env.REACT_APP_API_ROOT}api/get-market-data`,\n  postDayResults: `${process.env.REACT_APP_API_ROOT}api/post-day-results`,\n}\n\n// Represents all of the features enabled for the current environment. Features\n// are enabled by environment-specific envars that start with\n// \"REACT_APP_ENABLE_\" prefix. The name of the enabled feature is the part of\n// the envar name that follows the prefix. So, `REACT_APP_ENABLE_MINING=true`\n// in a .env file will enable the \"MINING\" feature for its corresponding\n// environment.\n//\n// See: https://create-react-app.dev/docs/adding-custom-environment-variables/\n//\n// In addition to enabling features via envars, end users can manually enable\n// them via URL query parameters. This can be done by constructing a query\n// parameter that looks like:\n//\n//   ?enable_MINING=true\nexport const features = Object.keys(process.env).reduce((acc, key) => {\n  const matches = key.match(/REACT_APP_ENABLE_(.*)/)\n\n  if (matches) {\n    acc[matches[1]] = true\n  }\n\n  return acc\n}, {})\n\nconst searchParams = new URLSearchParams(window.location.search)\n\nfor (const key of searchParams.keys()) {\n  const matches = key.match(/enable_(.*)/)\n\n  if (matches) {\n    features[matches[1]] = true\n  }\n}\n","import { toolType } from '../enums'\n\nimport { features } from '../config'\n\nimport * as items from './items'\n\nexport const levels = []\n\nlevels[1] = {\n  unlocksShopItem: items.carrotSeed.id,\n}\n\nlevels[2] = {\n  unlocksShopItem: items.spinachSeed.id,\n}\n\nlevels[3] = {\n  unlocksShopItem: items.fertilizer.id,\n}\n\nlevels[4] = {\n  unlocksShopItem: items.pumpkinSeed.id,\n}\n\nlevels[5] = {\n  unlocksShopItem: items.sprinkler.id,\n}\n\nif (features.MINING) {\n  levels[6] = {\n    unlocksTool: toolType.SHOVEL,\n  }\n}\n\nlevels[8] = {\n  increasesSprinklerRange: true,\n}\n\nlevels[10] = {\n  unlocksShopItem: items.cornSeed.id,\n}\n\nlevels[12] = {\n  increasesSprinklerRange: true,\n}\n\nlevels[14] = {\n  unlocksShopItem: items.potatoSeed.id,\n}\n\nlevels[16] = {\n  unlocksShopItem: items.onionSeed.id,\n}\n\nlevels[18] = {\n  unlocksShopItem: items.soybeanSeed.id,\n}\n\nlevels[20] = {\n  unlocksShopItem: items.wheatSeed.id,\n}\n\nlevels[22] = {\n  unlocksShopItem: items.tomatoSeed.id,\n}\n\nlevels[24] = {\n  unlocksShopItem: items.asparagusSeed.id,\n}\n\nlevels[26] = {\n  unlocksShopItem: items.jalapenoSeed.id,\n}\n\nlevels[28] = {\n  unlocksShopItem: items.watermelonSeed.id,\n}\n\nlevels[30] = {\n  unlocksShopItem: items.peaSeed.id,\n}\n\nlevels[32] = {\n  unlocksShopItem: items.strawberrySeed.id,\n}\n\nfor (let i = 0; i < levels.length; i++) {\n  levels[i] = { id: i, ...levels[i] }\n}\n\nObject.freeze(levels)\n\nexport const unlockableItems = levels.reduce((acc, { id, unlocksShopItem }) => {\n  if (unlocksShopItem) {\n    acc[unlocksShopItem] = id\n  }\n\n  return acc\n}, {})\n\nexport const itemUnlockLevels = Object.entries(unlockableItems).reduce(\n  (acc, [itemId, level]) => {\n    acc[level] = itemId\n    return acc\n  },\n  {}\n)\n","export default __webpack_public_path__ + \"static/media/scarecrow-animated.61bc878f.gif\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4goFDRc7VmYGWwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAALSURBVAjXY2AAAgAABQAB4iYFmwAAAABJRU5ErkJggg==\"","import wateredPlot from './plot-states/watered-plot.png'\nimport fertilizedPlot from './plot-states/fertilized-plot.png'\nimport rainbowFertilizedPlot from './plot-states/rainbow-fertilized-plot.png'\nimport shoveledPlot from './plot-states/shoveled-plot.png'\n\nimport bread from './dishes/bread.png'\nimport burger from './dishes/burger.png'\nimport butter from './dishes/butter.png'\nimport carrotSoup from './dishes/carrot-soup.png'\nimport cheese from './dishes/cheese.png'\nimport chocolate from './dishes/chocolate.png'\nimport frenchOnionSoup from './dishes/french-onion-soup.png'\nimport jackolantern from './items/jackolantern.png'\nimport hotSauce from './dishes/hot-sauce.png'\nimport rainbowCheese from './dishes/rainbow-cheese.png'\nimport salsa from './dishes/salsa.png'\nimport soyMilk from './dishes/soy-milk.png'\nimport spicyCheese from './dishes/spicy-cheese.png'\nimport chocolateSoyMilk from './dishes/chocolate-soy-milk.png'\nimport popcorn from './dishes/popcorn.png'\nimport summerSalad from './dishes/summer-salad.png'\nimport spaghetti from './dishes/spaghetti.png'\nimport strawberryJam from './dishes/strawberry-jam.png'\nimport tofu from './dishes/tofu.png'\n\nimport asparagus from './items/asparagus.png'\nimport asparagusGrowing from './items/asparagus-growing.png'\nimport asparagusSeed from './items/asparagus-seed.png'\nimport carrot from './items/carrot.png'\nimport carrotGrowing from './items/carrot-growing.png'\nimport carrotSeed from './items/carrot-seed.png'\nimport jalapeno from './items/jalapeno.png'\nimport jalapenoGrowing from './items/jalapeno-growing.png'\nimport jalapenoSeed from './items/jalapeno-seed.png'\nimport pea from './items/pea.png'\nimport peaGrowing from './items/pea-growing.png'\nimport peaSeed from './items/pea-seed.png'\nimport pumpkin from './items/pumpkin.png'\nimport pumpkinGrowing from './items/pumpkin-growing.png'\nimport pumpkinSeed from './items/pumpkin-seed.png'\nimport spinach from './items/spinach.png'\nimport spinachGrowing from './items/spinach-growing.png'\nimport spinachSeed from './items/spinach-seed.png'\nimport strawberry from './items/strawberry.png'\nimport strawberryGrowing from './items/strawberry-growing.png'\nimport strawberrySeed from './items/strawberry-seed.png'\nimport corn from './items/corn.png'\nimport cornGrowing from './items/corn-growing.png'\nimport cornSeed from './items/corn-seed.png'\nimport potato from './items/potato.png'\nimport potatoGrowing from './items/potato-growing.png'\nimport potatoSeed from './items/potato-seed.png'\nimport onion from './items/onion.png'\nimport onionGrowing from './items/onion-growing.png'\nimport onionSeed from './items/onion-seed.png'\nimport soybean from './items/soybean.png'\nimport soybeanGrowing from './items/soybean-growing.png'\nimport soybeanSeed from './items/soybean-seed.png'\nimport watermelon from './items/watermelon.png'\nimport watermelonGrowing from './items/watermelon-growing.png'\nimport watermelonSeed from './items/watermelon-seed.png'\nimport wheat from './items/wheat.png'\nimport wheatGrowing from './items/wheat-growing.png'\nimport wheatSeed from './items/wheat-seed.png'\nimport tomato from './items/tomato.png'\nimport tomatoGrowing from './items/tomato-growing.png'\nimport tomatoSeed from './items/tomato-seed.png'\nimport fertilizer from './items/fertilizer.png'\nimport rainbowFertilizer from './items/rainbow-fertilizer.png'\nimport scarecrow from './items/scarecrow.png'\nimport scarecrowAnimated from './items/scarecrow-animated.gif'\nimport sprinkler from './items/sprinkler.png'\nimport cowFeed from './items/cow-feed.png'\nimport huggingMachine from './items/hugging-machine.png'\nimport milk1 from './items/milk-1.png'\nimport milk2 from './items/milk-2.png'\nimport milk3 from './items/milk-3.png'\nimport rainbowMilk1 from './items/rainbow-milk-1.png'\nimport rainbowMilk2 from './items/rainbow-milk-2.png'\nimport rainbowMilk3 from './items/rainbow-milk-3.png'\nimport chocolateMilk from './items/chocolate-milk.png'\nimport inventoryBox from './items/inventory-box.png'\nimport hoe from './tools/hoe.png'\nimport hoeBronze from './tools/hoe-bronze.png'\nimport hoeIron from './tools/hoe-iron.png'\nimport hoeSilver from './tools/hoe-silver.png'\nimport hoeGold from './tools/hoe-gold.png'\nimport scythe from './tools/scythe.png'\nimport scytheBronze from './tools/scythe-bronze.png'\nimport scytheIron from './tools/scythe-iron.png'\nimport scytheSilver from './tools/scythe-silver.png'\nimport scytheGold from './tools/scythe-gold.png'\nimport shovel from './tools/shovel.png'\nimport shovelBronze from './tools/shovel-bronze.png'\nimport shovelIron from './tools/shovel-iron.png'\nimport shovelSilver from './tools/shovel-silver.png'\nimport shovelGold from './tools/shovel-gold.png'\nimport wateringCan from './tools/watering-can.png'\n\nimport coal from './ores/coal.png'\nimport stone from './ores/stone.png'\nimport bronzeOre from './ores/bronze-ore.png'\nimport bronzeIngot from './ores/bronze-ingot.png'\nimport ironOre from './ores/iron-ore.png'\nimport ironIngot from './ores/iron-ingot.png'\nimport silverOre from './ores/silver-ore.png'\nimport silverIngot from './ores/silver-ingot.png'\nimport goldOre from './ores/gold-ore.png'\nimport goldIngot from './ores/gold-ingot.png'\n\nimport rainbowCow from './animals/cows/rainbow-cow.png'\n\nimport cowVariation1 from './animals/cows/cow-variation-1.png'\nimport cowVariation2 from './animals/cows/cow-variation-2.png'\nimport cowVariation3 from './animals/cows/cow-variation-3.png'\nimport cowVariation4 from './animals/cows/cow-variation-4.png'\nimport cowVariation5 from './animals/cows/cow-variation-5.png'\nimport cowVariation6 from './animals/cows/cow-variation-6.png'\nimport cowVariation7 from './animals/cows/cow-variation-7.png'\n\nexport { default as pixel } from './pixel.png'\n\nexport const plotStates = {\n  'watered-plot': wateredPlot,\n  'fertilized-plot': fertilizedPlot,\n  'rainbow-fertilized-plot': rainbowFertilizedPlot,\n  'shoveled-plot': shoveledPlot,\n}\n\nconst smeltedItems = {\n  'bronze-ingot': bronzeIngot,\n  'iron-ingot': ironIngot,\n  'silver-ingot': silverIngot,\n  'gold-ingot': goldIngot,\n\n  // tool upgrades\n  'hoe-bronze': hoeBronze,\n  'hoe-iron': hoeIron,\n  'hoe-silver': hoeSilver,\n  'hoe-gold': hoeGold,\n  'scythe-bronze': scytheBronze,\n  'scythe-iron': scytheIron,\n  'scythe-silver': scytheSilver,\n  'scythe-gold': scytheGold,\n  'shovel-bronze': shovelBronze,\n  'shovel-iron': shovelIron,\n  'shovel-silver': shovelSilver,\n  'shovel-gold': shovelGold,\n}\n\nexport const craftedItems = {\n  'carrot-soup': carrotSoup,\n  cheese,\n  chocolate,\n  'chocolate-soy-milk': chocolateSoyMilk,\n  bread,\n  burger,\n  butter,\n  'french-onion-soup': frenchOnionSoup,\n  jackolantern,\n  'hot-sauce': hotSauce,\n  popcorn,\n  rainbowCheese,\n  salsa,\n  'soy-milk': soyMilk,\n  'spicy-cheese': spicyCheese,\n  spaghetti,\n  'strawberry-jam': strawberryJam,\n  'summer-salad': summerSalad,\n  tofu,\n  ...smeltedItems,\n}\n\nexport const items = {\n  // Crops\n  asparagus,\n  'asparagus-growing': asparagusGrowing,\n  'asparagus-seed': asparagusSeed,\n  carrot,\n  'carrot-growing': carrotGrowing,\n  'carrot-seed': carrotSeed,\n  jalapeno,\n  'jalapeno-growing': jalapenoGrowing,\n  'jalapeno-seed': jalapenoSeed,\n  pumpkin,\n  'pumpkin-growing': pumpkinGrowing,\n  'pumpkin-seed': pumpkinSeed,\n  pea,\n  'pea-growing': peaGrowing,\n  'pea-seed': peaSeed,\n  spinach,\n  'spinach-growing': spinachGrowing,\n  'spinach-seed': spinachSeed,\n  corn,\n  'corn-growing': cornGrowing,\n  'corn-seed': cornSeed,\n  potato,\n  'potato-growing': potatoGrowing,\n  'potato-seed': potatoSeed,\n  onion,\n  'onion-growing': onionGrowing,\n  'onion-seed': onionSeed,\n  soybean,\n  'soybean-growing': soybeanGrowing,\n  'soybean-seed': soybeanSeed,\n  wheat,\n  'wheat-growing': wheatGrowing,\n  'wheat-seed': wheatSeed,\n  tomato,\n  'tomato-growing': tomatoGrowing,\n  'tomato-seed': tomatoSeed,\n  strawberry,\n  'strawberry-growing': strawberryGrowing,\n  'strawberry-seed': strawberrySeed,\n  watermelon,\n  'watermelon-growing': watermelonGrowing,\n  'watermelon-seed': watermelonSeed,\n\n  // Ores\n  coal,\n  stone,\n  'bronze-ore': bronzeOre,\n  'iron-ore': ironOre,\n  'silver-ore': silverOre,\n  'gold-ore': goldOre,\n\n  // Field tools\n  fertilizer,\n  'rainbow-fertilizer': rainbowFertilizer,\n  scarecrow,\n  sprinkler,\n\n  // Cow items\n  'cow-feed': cowFeed,\n  'hugging-machine': huggingMachine,\n  'milk-1': milk1,\n  'milk-2': milk2,\n  'milk-3': milk3,\n  'rainbow-milk-1': rainbowMilk1,\n  'rainbow-milk-2': rainbowMilk2,\n  'rainbow-milk-3': rainbowMilk3,\n  'chocolate-milk': chocolateMilk,\n\n  // Miscellaneous\n  'scarecrow-animated': scarecrowAnimated,\n  'inventory-box': inventoryBox,\n\n  ...craftedItems,\n}\n\nexport const tools = {\n  hoe,\n  scythe,\n  shovel,\n  'watering-can': wateringCan,\n}\n\nexport const animals = {\n  cow: {\n    rainbow: rainbowCow,\n    variations: [\n      cowVariation1,\n      cowVariation2,\n      cowVariation3,\n      cowVariation4,\n      cowVariation5,\n      cowVariation6,\n      cowVariation7,\n    ],\n  },\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABbklEQVRIia1WvY3GIAz15ToqRqCmZoAMwT4R+3iJ66lTMwIjXGX04tjJp9NZQgFsnv1sfkL0gdRaj0/sPhIN5oH/yekTmOh0/239hkpmbhYQMzcNoJ1Y64mIvrQSjVC8ecvuwsDyrI2IiEopxxiDxhgLRMZPQSwGaFRKWeOUEglYSukCiDaix0wsB+hkjEG994ZjCwhFbGQeM/CtGcQYKYSwxxjXeM5JvfeWc17zzNxCCPuc8+I8xkg55/08zx+XgSc6RcgImSGDzQIXQ/x64LIOwTEjm7drtBMB0c5Qb8mmq64jk37vvWkG2O+93w4jkVEDTdPKse5bzAXndpJF+QSimXrgi4G3573rwcu3u4twEqNGx1gPLLbeDO4uqrUemGthgKBSaLyLiGgVGLNxu001fbwuvPRYRdcZuZwDZm4S6dPVjKlBRxqcSJ0D/fUcWGDM3KRdgnt6/rwXTLcnHLIm316utzf5X/9C3oL6BQBimEemYBpmAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAVklEQVRYhe2QwREAIAjD2MVBnc65dAUOi+0J+fSZXM2aX1hz7GcS71KkkIhbKSSGGpEll4jQfyBbrh9RVy4R0Q/0AyUecEGVfx0Roq4cFQGFIvXGNFEOnwmdSclbLhUAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkUlEQVRYhe3Quw2AMAxF0ezDFizDCjTMwLI0VKaBSFhyEht/pITXuDxXTulfL4NjBntkn+B1b5S6NmgjvsIijyBRJo6vToQQZ0WY4XB+iOgCb4kwx1kRVngpYlw8R1jjGxQ+EInXItRwyQdccCpCHed8wBXHESH4s1C8FiHGNSJccRwxHp4XitdiXFBqIWiPuwDmWChFXQDxHwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAABXklEQVRYheWYPQ7CMAyFTRcGxMaRei/Ue3EXLoBYqg6dyhAZue6Lk1T5oeJJVURckk8vdtSE6MgaelqGnpaSc5xCAL7Y/eH+q9/hfjSGjiUBIZhxdu31HBrWlgW2CUgQBkBiKP2OhpVxHUNgXSzMa1q3z7d7R/eP8/rRcLIPrUKnOxAMEdHt4iYNtQgejc9zaKgvEAcsZ2KhLMiQoENSeyFQi5zSLnmBcjizx6lOEjJxTogYpzZAXH5cliVhUFVKU5o4ZDkFc6gGjC+XIFBzh2rnkJXY3rJvsVxEtP6EkLt0LYd4VXiVfs4hc6dulkM6qUs7ZAlujKUdCgIh1cghndAmUGko0yGUQ0TlHUr+HmrmEErqplWGluyvqswSPPZaB8TQJCkwyWWPxIPqFsVTl2sDJHOJH/k7NzwSPPTHXrn4zvUxdwIsfb4PXo8MPS2+q5ccSgay5LsbirlXOow+jbqqwQYBTPwAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA4ElEQVRIS2NkoDFgpLH5DKMWEAzh0SD6jxZGGCFCahChGFjnwsXgaakJtmP78esMTXu+gZgoZhKyAKeBuGLXsvksiiXYLIAbiuxCgskFSQGyJegW/CfXUGQHIAcXsgVgw0EAFq6kuBoWD5rS/AwKclIMMF+gWHC81hhs5oNHz8CKCAGQS0EGwgCyHrwW4LIEn4HojsFqAXr4k2IgMXEAUoMSyaQEFTQPINsDDn6syRTmE1wWIKUSDAPRgwpXRkPxCSkGEmsBOLgIlTOEUhmuICJGH9FqCJVFRBuES+HQtwAAGJ1YGe/MnNkAAAAASUVORK5CYIIA\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwklEQVRIiWNgGAWjYNADRgr1/ydkHqkWoBiYmxHNYGxqxcDAwMBw9vQxhskzlmKYScgCnAbiAgnJ2SjmYrMAbigxBhKyBN2C/+QaigyQg4sJ3XBVZXmyDf707inD2dPHUBzIgqwAOcKI8cWnd08Zbt99iKLfWEgaRQ0LuiaYQmyWEGMgOkCxANlQY1MrsgyEmQMDeCOZ2KBCilRkwIjhAwYGBsbJM5b+z2VgwGswPgOJEmTA4hNiDSRFEcFyZhQMDQAAaMBZ6FnVQEEAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAs0lEQVRIie2Uyw3DIBBEJ1HOThFTgSN6oUY3E1ewRZgGnEuIWAPmk0si8SQuCN7sAgIYDH6ey5f795KvNUAJl2UBSQCAiMBaGzlLAVlhDmOM8qYCPtIaYSnkGLD3SkPC47oe5Y957hbfpwkiogoMA0ASm3MQkSahH5tzUfe31EaSUSVe+FxXta50nCoglJLsEnqP5/SSU13khO9LDUm+IhWSCzgTVk0i0UmtsGVR8Z8Z/AcvcvFbDaU3IKgAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA00lEQVRIie2UKxLDIBRFL52YYLqRLiAKURNkVVeQZbGCKmRjKqKyADZSE+SrIgMpBYaadiZnBsW8c3n8gJ2dn4d9WU8536FCuA6tBKyRsEZCKxELzHYQFGgl0Hc8WdCe7oE3FrBKS4S5kG0A1Up9xnnBZZgAgDVb+XNpq8W3B+HIbbBAP2CdGOelqAsndFzPHEBY1yBC3/FoSIlwSxDgS/uOVwmdx5E85NKt8g7Vh711AIBdhil7k1LCUkgrQdZIskaSViJ4wYi82E+kUrP/zM5/8ALJtmHuganBugAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxUlEQVRIic2Uuw3DMAxETxnAdQYwkAncaaIUKTKIi8yRMdJlEW/hNJJBUx9LJAP4AAGEwXtnUYKAE2sNi9c7XRRwF+tlnvC+3+J3dQCFY5knAIAfh2xzb0Dy51S5XUhHlJUfhyREE+Cuz282hKo3wKFwW6jC6NZokKh6FmFnDhDeos9jCwHYqCh8V3TC4V+Jfwukhp6AGryo1gARvLVRDG9pVsGPDGp4zWQCLxnN4DmzKZwDzOEU8hc4wN4iazjX4TN8Sv0AN2RJwOjZLUAAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtUlEQVRIic2Uyw3EIAxEhy3DtaQl9k4bcUvpK3uByDGfgGGljIRkRZ43wSCAF+uMS9c3fSbgLtXMjBBC+j4dIOFgZgAAERWbRwOyP5cq7cI6oqKIKAuZCXDe+2KI1GiAQ+W2SMXRnclgUfMs4s4cYLxFx/cKAdSoJPxWDMKx7Zn/CpSGkYAWvKreABO8t9EM72megj8ZpuEt0xJ4zbgMXjIvhWvAcriE/AUOqLdoNVzr8Rl+pX42rEn4TvbkRQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAt0lEQVRIic2U/QnEIAzFnzdIJukKrnLDFJwkK3Sv3j9aUr+qMQd9IISS93s1isCLdcaV1zd9FuAu1cyMEEL6vhwg4WBmAAARVZtnA4o/l6rtQjuiqoioCFkJcN77aojUbIBD47ZIxdGdyaBR9yzizhygvEXH9woBslFJ+K2YhGPbC/8VKA0zAT14U6MBKvhooxo+0rwEfzIsw3smE3jLaAavmU3hOcAcLiF/gQPZW2QNz/X4DL9SP/ScS3hB0In3AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvUlEQVRIic2UUQrDIBBE35Ycpl89QCnkRj1Me6JCyRV6HPvRROKqia4WMiCIum+cTRAOLDcPPQ90aoDLMnevK5+nXw8kesEC97Bxipi1CbJwIJnC2qKkzpe4VbUtWieARAoIW1WbQMj8LcEtfqbOuxi0+S1aEgC4992bAMgMjOAAgxGuJTJO3jDYsMBvj/LaUgMTvPSgGV5yuAm+V9AM3yrqAs8VdoOnirvCNaA7fA35CxzUW9QbrrX7DB9SX0XaUBQX3euqAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA2UlEQVRIS2NkoDFgpLH5DKMWMBhriPw/e+MNzpCgKIhAhrd6ijNUb3/JgMsSsi0AGb41TRGcRi48/obTEnIt+H8kj4Ehf5cIAyFLyLEAbDgI2ExiAMUB3BLvWfcxgopUC1AMZ2CAJHNYcGELKlIswGo4sgUgNroviLUAp+GwkgDmC3IsIGg4Pl8Q8gFRhuPzBT4LSDIc2RfIwYTLApINR/YFcq7GZgHZhmMr+tEtoKrhIAuRLaC64VgtAGV/NIspqvRQfAA1iVDSJclCqhpGTCST5DpiFNPcBwAgan0Z4Vp7jQAAAABJRU5ErkJgggAA\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA2klEQVRIS2NkoDFgpLH5DKMWMORlRP2fNGMZzpCgKIhAhqsqyzHcvvuIAZclZFsAMtzY1AqcRj69e4LTEnIt+H8kj4Fh1a8oBkKWkGMB2HAQsJnEAIoDuCVnTx/DCCpSLUAxnIEBksxhwYUtqEixAKvhyBaA2Oi+INYCnIbDSgKYL8ixgKDh+HxByAdEGY7PF/gsIMlwZF8gBxMuC0g2HNkXyLkamwVkG46t6Ee3gKqGgyxEtoDqhmO1AJT90SymqNJD8QHUJEJJlyQLqWoYMZFMkuuIUUxzHwAAb2p9GTK1pfkAAAAASUVORK5CYIIA\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAz0lEQVRIS+2VuxHDIBBEV305oAyqcKQyiDwugjIIHFKJm5DnZOM5YX6HIDORAs172uVACyavZTIffwG01pu1NtvEqYoIrpSCcw45SbeA4Ou67jPivc9KegXb4wrcnxo1SY9gh9O63EB78JUYY36qkgoOcOA95qGuVFUSQRLOBfQcp2gVZOHhJggpegRVeClFLUETvJSiJBDBeQpeU04ghvMU/FSnBN3w1NUfC4bCScgFw+FJAR3/SHzqp3dI8CHVRlckHApr2WTR17W8PD3BC4S6fRnQ192VAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA2UlEQVRIS2NkoDFgpLH5DKMWMDQW2/2v7z2EMyQoCiKQ4YZa/Aznr31kwGUJ2RaADC9MVAGnkQMnX+O0hFwL/h/JY2DYy2rHQMgSciwAGw4CNpMYQHEAt6R//h2MoCLVAhTDGRggyRwWXNiCihQLsBqObAGIje4LYi3AaTisJID5ghwLCBqOzxeEfECU4fh8gc8CkgxH9gVyMOGygGTDkX2BnKuxWUC24diKfnQLqGo4yEJkC6huOFYLQNkfzWKKKj0UH0BNIpR0SbKQqoYRE8kkuY4YxTT3AQBP8HwZfM9pkQAAAABJRU5ErkJgggAA\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA6klEQVRIS7WVoQ7CMBCGbxa9BIXAVZLsIQjhPfBYPBrPexDCQ5Ag5xDYaWzJLbnmVjp69G7Vzfe1/+3vKph4VRb8xtWec+5tF7gqAYEvu+XgnNvzE0hSLEB4DH683rBazEAtGIPjNdSCHBwlqhvEAoyFTk6DUAkQQpIcHPeWDtk3robjZt5nzhc/fanA3/auZx6uHfAvKYaXCAJ8fWoxqiBIwf8VDOAUL5WNt5dHJp1BEi55ZiSCYrgkIhU8J1DDfwlM4GMCM3hKYAqPBeZwLpgE/iXA+isewGTveNHwxy0pnqTAYY85MLZ/AKAsiRkhT8wtAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA7UlEQVRIS2NkoDFgpIb5eRlR/5HNmTRjGdxciiyAGWxsaoXizrOnjzHALCHbApDh6AZ/eveEgU9IhoFiC3AZDvIGxRYQMhxkCUU+QLcAFCwwl8MigiILQIbALCFkOEgtuZH8Py8jikFVWQ4c5sgA2fXkWvB/Z6EG2Myt340YkFMSuuHkWAA33L3/Biio4BZgM5xUC1AMhwUvLLMh517kICM2DrAaTkwxQ4wFZBtOTBBRZDghCyg2HJ8FVDEclwVUMxybBVQ1HN0CqhuObAFNDMewAJT9KSgAseY75IwGqriJyXjEZGC4GqobiG47AJ1ZiBlTJ5acAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA4ElEQVRIS7WVwQ3DIAxFnW167IEBuHUF1qjEGEgdoVdW6A4M0A06BpUjGTmUFIIdzug9+M4nC5y8Fg2+cy5zToyxcEUCAnvvN+cMIQBJpgUIr8EpJTDGgFiwB8driAU9OEpEN6gFGAudnAYhEiCEJD047p0dcnbOgbV2zZwvfvpZQX7dLyvz+bkC/5Jq+IygwG+PN0ZVBC34UcEGTvFS2Xh7eWSjM2jCR56ZEcE0fCQiEbwnEMP/CVTgewI1eEugCq8F6nAuOAX+I8D6Cx7AZu940fDHPVK8kQKXPerA2v4F7oGIGVytZc4AAAAASUVORK5CYIIA\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA7ElEQVRIS7WVsQ3CMBBFLyxABRNQIDoquoiOORghygAoA6CMwBx0iAo2oGADhnB0kc66GAcfvotr6z37X75TwMSrsOA3dek453S+e65KQODquBqcs728gSTZAoSH4NvzA/vdAtSCMTheQy1IwVGiukEowFjo5DQIlQAhJEnBcW/ukF1Tl7DdzPvM+eKnzxW4a7XumY/ZEviXFMJzBB5+aF8YlRfE4P8KBnCKl8rG28sjk84gCpc8MxJBNlwSkQqeEqjhvwQm8DGBGTwmMIWHAnM4F0wC/xJg/RUPYLR3vGj445YUT1Jgv8ccGNo7Yi6HGb8waRoAAAAASUVORK5CYIIA\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyElEQVRIie2UsRXCMAxEzzz6PAaAESihyiJMwghMwiKpSMkIyQB5mUAUIOfiyCYQ6HylpPsnO34BsrKyXKInv2CFRQ+V834yXDcdDruNWXOXu8nlAFGomixgLIh7x2vr2SvevG46APBmhmiP61wLvcrUE4j0FVxResPttE1uGfb4iojl1jwkfTUYihJAawY8Ne6xdxTMM7GhT6XbA8M3+Jsmz3TpKXh7K2BRSAiPBXwVYsFTAcDrHb8Loqc961cRDUplzGBkxfUAEyhSiovwVIoAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA10lEQVRIie2VsRHCMAxFfzi6tCzAEFmIYyyOhVIyAAvQpjaNjSVZsmWThjt+qTjvKYpyAX490w6MUGN+IwgA8Lrx4unKuaOCIMGWpFegdl2THPcGy7QEw2CPoDpnmjgOt6DZtQSG56U4M53vhcAEe4AAgG0F5oWVkoCNww2UcEWS1pR9jW6g6JbW4ojymnZDJdyoHdrUOqAVXbCteaa1OM6Ua0pv0uZMQ6/Fs2k9Ed9vKZiXLFEAMgQI4PEB208gwaLGgblTK1ng6rANtAWDHfYkoPz9/YM3a79OWiGiHuMAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABBklEQVRIic2VoRKCQBCGf7VTSQbeQGbovoQ2GxSzL2CkkE0+gb6A0U7wDQwkKt050zF3cHu7cOOMWxjudr5vd+8YgD8PxSUsQ+Cf3YaVLALhAIDV/UWy5ggsOCeZKnDCfZIpAi+ckkgFIrhLIrlFqq5rMRwAzNvFdaCqPMH2eOsX0rJgBWYHPoGq8gQA0LQdAOBwfrAS6RmM4ACwjiOrm6FMeot6uI6m7bCOo9G7lqVlQX4Hw0MmKzfh+vm87MnKXYIR3JRQ0izLSLi5wVZuSvT66fr2woeblsQ1czMkcFeC84B1TKmcEliSULgv0TmuqXAu2RrXHLgkVJUnCoJ/b5Dkl/Dg+AKF7I1oIzfs7AAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyUlEQVRIiWNgGJHAysrqP00N/3Bl2X+aWAIzHIaJsYSRFMO3zcrBEPdKm8Jw7NgxnOYwUWJ4Tsc2gnoJWoDP8CkVXpRZQKnhDAwMDCyEDEc3DMZfM7ERKiKM1wKCQTSlwgse1siGt4vfJMYDxEUyzBJkw5me8FPPAhhANrycVYIhJL+euhYwMDCQZDhZFpBiOAMDnlSEDZBiMAyQ7IPhZQGhgo4iC4gxHK8Fx44dY/RKm0KR4XgtwGUJKYYzMBBZ4SDXXKQYThcAAIIOcW1FSq9sAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAmklEQVRIiWNgGAUDDRjJ1PefWPNIteA/AwMDw9Ic7JLRUzDNJdYCvAbjsIiRgYGBgYWaBt9+jimGywKKDcZlwX8GBgaGhmDcGlUliTMYmwX/YQYX1M/CqWFCYxphU5EAciT//3AJt8GkWNSwFmE2E0nOIQOMWkB/C5AjmIGBcE4m1WAUw6liAS6DKbaAkMG4JHGV88ToHQXkAQCMXCTuoxbh9AAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4ElEQVRIiWNgGAUEACOR6v6Tq5+Qgv8MDAwMkxJQBfml9Bk+PrvIkLeAsDm4JDAMhhlKqkXYLPiPz2BsFsEA1CIUM5mwKeSX0oez0Q2D8WFqkNViA+g+INv1aMEFNxerDwi5nhi1MIA1DvBZSgRAMZMFm4ozUFrlQT9OU/68qEfhi1h8wjAcqwAU/PdfA5FaaNJH0PDkJ58ZGBgYGDaG/Mcwk+QgenOCD86Guhod4LXg/6kWfMYTBmY1qObiTUXUADRPRXgzGjmApIxGDUCwsCMFYCvs8BbXZABiK7BRgAAAeO5Ta9GiRlQAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABFklEQVRIS2NkoDFgpLH5DKMWEAzhgQmig0sY/iM7zT6G/LjC8AHIcDsHbxSvHzqwFc4n1TIUC7AZjh7IyJaB5AhZiGGBrp4+3ExBIRmCkUjIQrw+eP/uCdGWwdRevnQRxVdwC/Snff8/iY+TAT38YTbgsgwmDvMtyEfIwQa2AGT4hYirDIe2meC0ADms8PmMKhYg+wo9nvBaANII8gUM4AouQhbkffrOcDGLExw6KHEACiZkQMgyUFBh84Gd1xkGgxXaYEtQUhEoLkAWoFuE7jMQH+Q7ZAtgyRVkOAhgtQDmephFuCzDaiHUYGTDUYIIV45CtgyfhTCDQTQs/ImyAN1idAuR5ZENhokPTHFNsAAiQcHQ9wEAcVWNGQEhAZkAAAAASUVORK5CYIIA\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3klEQVRIie2UPRKCMBBGvzh2Vlg43sDOgoOgDYU38BCUHMIbUNCgB6Gg8wYMBTlCbExY4iZk1DJfBfl5b5dkAGJiYoRnTv2DZQ8aaJMBp+thkXq/PQEA5wfPpQLVZNNLCJwTEZkAgJWG+zaEhClIGQsANfYdtvujmdXdLHXCfSLCEmu6eOw786xlxUYCAMpqQHHZzeBlNbB7aWZn4FqUtDlkWiNp89m4TGt2va4emM7AGw2iQBfczsc1dXURGlo9J/hJYsNdgq8kHNwnAN73eElErnbQr8Ip8iSEEePOC53iSqgjgs9oAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7UlEQVRIidVUMRKDIBA8mJS+wHfkL3mAM/bpU6a3d8YHJG9Jny6lL7CWNHAg3gFHJoVbiHC3e9yKABwdqoJjJHxpAXO/nHFye7yyGrpWvBQnMQNw5wAFDkg6iFFkL9WBIdY4sWxuXMCYK8EYSKFULhZROUIN1OC1yW8wL/597TtWKIyFnE0xO+Lu5wWgbfYCepxYcRcLua6L7Cl6Pz9VMSyezfgRSYukEFnkPA69XvtuN49zYrAdpEgU9DjJOohPTU6cjdlR2YrQNv5MO2I4UmsAtP/4sPjLnxxfYmwR1yEmpvPIuwi53MYq8w6OL4W0Y7hN+2EVAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAnklEQVRIiWNgGGTgPxQTDRhJMfz/f4jZjIyMROtlIsU15ACSfECOXpJ8sNrfkWG1vyMpWmgfREPfAmIj+T962Idu3E+UfmIswDCcFEuIsoCAPF4zWIiwgOHf/3lYxZkYkwjqJSuSbeYRNpgiC2atM6edBdd8ZpKknqg4IMdgGCDaB1pb0rGyCQGikimBVDQE8gGBnIwXDJ7CjkL9tAMAL4QnWOXkSy4AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABgElEQVRIie2VP2vCQBjGn0taDSI4tKBLUYyD+Kdzp27uguAkfoAuLf0UdusH6NhJlCKOQqFbP4AWhxAFF4dKrUopmvPtUA2pNMk1trRDn+W4e3PP7/K8IQf867fFRB5qX++RXS1TGgl5OJob4zwR12k6uCXiujknrpMTXMicGxMirtO81ySiChFViBsTc50bE28Qq/l6tALmvSYZ47xZs4NIbiA+PYfEHgGpCv58DyyLoFkZu7HOe31wB0hV2/07TuY0K0MO3QC4AJZFLJ/SYMF9yKEjLPppyAcnkIPAom/vYQvIlEbQLo+hp1qIP/igpzTkch20Wv7V3I944wrq6Ry9hg+Zs5FzFJ+9QDsbJSISGgF468G2cuzBprovr+gmIgCA9DcdwIygpobJqpoaNiOCTTzCgE1zK8QN8OM9EAIkAwrqq+zXqiciSAYU171uTWaMMWpnoyhoww+QgjZE5zAGxhjg8Ff+UkTJgIKCNhQ6uSeAF4lcFiKf4HaXzp/WG0R0GZSwU81hAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABzUlEQVRIid2VvS9DURjGf5UrqZCwCBZNByQdhBvpQmLqH2BisIjqYrGQSNNEIo1BGCQsPrraDGKyaNIOGi4xSFiERGi6kDQ08XEM7j3t6a3bogvPcs77nvM+z3ve8wV/Ha4qcAgnzt8ICIDZ5oTiXMgMKLw1PyXX2EJjyzZgCspVfVdAWOROKBSpVEAAwhdM4gsmlYHFzKVjYDkBAYjRw4RC3BnsqjAv0JzII6lxrsRYWRJzY0ui1CkSAJHUOIAiYKx/Tj/f6FcC3Jyy0t6h+EI39QCuwhUIgFR8CIBd0+l1xZj3byrB/vATZ1Hn2luwBMTBjD9PMLijTJp+yQGwVLtMX3gKgO5wZ0UiVomU2/iWDRFzN0v7QkQAiM+9K8FGdNvMUucVg7X2YTlmlUieoofVAA+rAd6yIVsWd8ZRyez08IhiXz2f2ObYjunxcUaxr417vK4YAINz9lOtocvWW9frLHB6/Sj7Y7m8kEdvlf1s+oRs2p7pV7Cl9LR3q9iF5AD6RPHjqSJ0Uy/rD0UXrcfTWDajNr2Phpb8ZufoKSBHEltwusklsVjrLnY5PvllBYJa1OxZ7ff+EJtA0+Q+TCquavx6gPlyVovs/+ADoliAUUBEL7MAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABQUlEQVRIie2ToU7DUBSGvzaIdZItRQ/sCAKDZWK2AbOXAMODkJBN42sgs3sCzAQZaoKKKZYMCRNLD4Ldw21v2y3o/urk9tzvO/e2hTp16uzMotGTRaMn/93vlT0YNbsSpSHBbMP36QEAY38JQJSGALSSmMeTSwBuvt4KWc7iqNkVGwIwGU7p355XTmrkeZGfhwcPC6I0pJXEum7gwWyjkwOs23MdIEpDojTUAZ0TmCvJx76isnVTt5KYVWfA2F/qSXxnpwUAdKOdyXCq8HV7rvWqM3A49n0J4ROvk2MADi/unGYzYb4G+Hy5B+Cs/w7La2VnBCKCd/QMoKIymQ1VMCAfV3jeHzv/FYnI7zsyorzMjoEaMJCBFwkyEm2yZJnGLVT7PHfosh/NkexKEbxKACBb0z7gUlaVICOqcuzBqFOeHxC+hOOYYjlcAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAz0lEQVRIiWNgGJHAysrqP00Nf/H45n+aWAIzHIapagm64cRawkSs4etWzscQL6lsJqiXoAX4DO9pr6XMAkoNxwtgYR4TE4MS5jD+/3dr//9/t5b8iEaOVJihyIYr1zAQZQFRkdzTXgsPFnHuKwwqfcEMTE/4iXIoURbAALLht/rmMbz8qkNdCxgYGEgynCwLSDGcgYGBgYUUw0kxGAZI9sHwsiAoPJHh2LFjjDSxgBjD8Vpw7NgxxqDwRIoMJwqgl0mklj1EuQLZUKq5nFoAAB8UtnDnOmpmAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABZUlEQVRIid1UPWrDMBh9atrg3qCLSwYPhnbq2jVgaEyP0SP4ED6CzyEHCl27Zit4SCHEi2/gEFPUIZb49OOftF7aBwZL+vze+55kAX8dbAIO0cd58UtiUecR6jzC+90T6jyyBH/agWjJnLhevSrucwUEAPSRmyJjI9LiAIBNMsMmmVmF5tzlCOJOxw/p1+BcX0S9OVO0cbjAXB0M5mwSHneJVTNfpCcFF7HMUbY7hrBDQHWgxfH4sT69rLoJmRdAHLZqXMYFAMDnoV5H3Z/jsIwL+DxUQswLsF9yJSA7UMe0qTJ83j+jqTLLqemSOpVdiMPWcg+Qq2K/5NaiGYPVvhdoBlxQAj4P4fNQI6TvJnGXKbquCZgFZVxokbg+pobKuADzAswXKa5uXgDjLhJ0YyXx7VusEdCIZHzyvFMProEYOjnSeeuuk9CE+pOpQ7q5Qw7HQhx3iWiqTKC9OckzGSYn/B/4BhgmpsuPu4+VAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABBElEQVRIie2VIRLCMBBFfxngGhimAtEz9BBgEKgqLkANBgUX4ADY3AfBYLgGFYuAbXfThDSFGQxfZf4k/2W3mynw16+VhDaYEsTrxT6839YwFDwvDrhcb0inExhsKBbkBJgSxMFS7BkcyT7jg7YApgRl+Vp56XRSV8EgALXHUBdk4CtNBnfxsnytvpcTwK2JCZbevDi0IK0K+gT7PECPKdFqrGHLotV/2Xf2sNvq0NO9zmYAnSvCbNTwbFhIr1AAgMhK1BSdq6Z9ySjuTcmzCizW5NsUK749EBjTb8juw8dVyNu7AB9B7HAfoBfEFf4OAOD5IkMgMdrOrC6zGCol+h/xl9IDcxCDNEfiwBwAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAVRJREFUSIljYBgFBAAjLon+MGsY8z8h/YWrjuJUwIRLgschgpDhDAwMDP+h6vC7AB0sv/6a4ffJTQxrnv4nZAFDiDQjI6u5H0OkpihWeRZcGtc8/f8//vtJQuYzLHxq/j8ST1DjtCDRxYJx/h6CQcSQ6GLB+AOPPIbNy6+/ZuBhZ2OYvXz1//qMZELmMzTOmMuQGhnK+OXnL6zBhBHJpBjOwMDAUJ+RzDB7+er/POxsWOUxLCDFcHRLsMlhjQMtFyOSLGBgYGBgCMnGKowzH1ALYLWA49w5Bo5z54gygJBanMkUpplSQHQQZe83ZMjeb0gbC2AG9xYzMvwwIi0BEO2D3mJEniTFEqIsmOp4nuz4wBrJMBeiG4rNErhvcOQDvKmI1PDGBjCCqFhKkDEch2twgfCQbIZiKUGsRTbW0lTqxCGG3mfvCRbVyI56ZmGHs9KhKQAAu7Vof/9SQdkAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABeUlEQVRIie2VL2/CQByGn9IlBQdJde303ASmAr4BBsMHIJmZQZA0TSZmMCT7AJgZvsACogYxNz1bTQIOKppOHNdey7UlW4biNb1c797nvT+/Fm666a8yake8rpLK95N+pcddnfF82Kv0f+IUoAR03nmh8RnofY0OlAe8rhLVeLO/zLzbLoAUSKPKfP1l0G0LA9nW9alB5sNe7ty0Z7DZC4OPEMZ2E3sZAeAFBnGYPU0Hxp9NeDymc4pqFNPLgV5gYDrQmQnz7cAiDmF3bwHCHKDzHeEF+ZWoq2ig0XSRHY00tJcRpgP2ISIOYdsS/btnAS6TFmA6WWL7IFagmqogCfYCfTloAb6bpBNlOtMR2wECFIcivVTZKrQAmWbbstK9Vtv24bRdyyg1fhnpC14AJn1DFkq3Db2HBN9NssQDK22rSSXUd5PcLVJrQXtN5Y2QqTozI217gYHvJkwXBm+jIz6UXlG4QiVf+Vv0C1CZcT2gACpVzf/g3/UD5wa+Sc12t5MAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABLElEQVRIie1UuW3EMBAcmgTYgSAIduASHDhw6ALcgMu4Qq4MN+ACFCpQ4BIcUCYO14EACuvgjtLy0YmJHWnCITmzu7MgsGPHjj+HKLnUdy2VCj6/vAaamwZ919LDfYPRAVql55wfHXA+2cDkrkQcCEUmkvMdz5vBZgtYNeDio7twE0loBUgxBbwZLHyXRQZ8LLzKWFirRZzfAzBnlhjkxsJFOW8Gi6pukvOvj8NsEkyt71qq6gZmsCASECJcHs5VdTNXzrtR35/BmyQWrRA8jLdndICSEvbHgGd0Pi3iT+9H4Lqh2Qx4u0rK4IyH7LEmvmqg1bKKPFjP8QL4WGLx2ID4YymmJFhvptUlgy1xTtA1ebjHt1xTWWyJA5mQ4y3Ywi3x+KD4Q7uh8f/4BeeCk0AHVwhiAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABfklEQVRIiZ1UsWrDMBA9ly7ZuhScocQ0gzDdsgS0lQyFZvbQ1d/gX+jmTwj+Ac8udDChi8cMhWI8uCWboUMhP6AOrYQqnc6q32TnTr737r0IAAHjocB+d4HqP8Oa2cWt95Cx/sBsvovv1ftz+wRdMwTWqX/0Wwo+r998iHufUQMYD0WSpeqA7yDZ5+q3FCzjjXpOstS5W50QBTWga4agzAvo29oaRGGMkKVAom9rKPNCsTXrktCpGkhC5xS7JEvhdffx88L3Qk+InqDL9xvooYZDdXSnyNzpMt7AqRogms8gms8oHiScJksvANwJkWnziqlpsv4BADpROrFRBdiBsURRdesaYDwUq+3CWpVuoPRLV2v2OBV0zRAcqiOY68JWpDO/+opQBeiKTBbmCjC/XCD/BxJ9i2fcItC8WDVUwdg9I+u6sjIvUALOFP1hZkCuSIJaldMDH5N9PCAVSPjerBgmm/z7LFbbxeThwHgoHh7XgroiGA/JuteQyYcB4BuS0d1boUL2NwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABVUlEQVRIiWNgGAigbiXxn1pqmbBpUBdwJMoSYtQyomtw1/SC83de38Zw89gLRgxdJKjF8MFrpauEHE6SergF6lYS/0NLkuCaiLEIpgafWgwfKGs6w9mhJUlYwxfZMYQA3IKbx14wru6Zx3D3+l4Mi3ABYhzDgkvz3et7Gc5tfYg14qCO+a8u4MjAbY3fMTgtwAdQUtA9bYbVW+fBLcZrAVTBfyNveZyuhwGUiL2O3XAMC5AtgWmAhSs+y/ABjFSEbBg8pxLIrbgimIEBTxyg59SbH7CrI5TasPoAHSCHN3oeuHt9L8Pqnnk4gxCvBcg5Gj0YkF3ub2WPM4iwWoDuSmTD0DMkIYA3HyhrOjPcvb4XZ6Y7t/UhhGbAnaRxJj11K4n/Rt7yKJYhh7W6lcR/YpIuUZGMLaUQmy+IKirwlUsUAXUrif+Rreb/SamjybKEZoZTAwAAXj29cs2OCqEAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsUlEQVRIie1VwQ2AIAw8jJMYV2CRDuoirkBYRT9CxJS2Up9ewsNiubO9IvBDQWBih7LvIjjWZakPKWc3yT25OfwrkpkLEkUAwLbtUq6plBMXVA4Grq8t60HWYKQH9R2iWMX0SjniokZEIXlDoOGVGUbdYbazx+MmF2kE7qmWkqxlEEX0CKyNVEWwg1ZQJtoqghs6kcAKotgV0yMIKefmypCsKF0tXhepPXD/UAwifsg4AawtUVA+F49vAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3klEQVRIie2UMQ7DIAxFTVUJZcnIBTggU0+RKQfMBTJmQUx0aEDY2FSkdMvbwMn//o4VgJshrFOEdYr/N+m57xalKYaloqKd4o9uk4TzqnrmcqJW5+lOEH92m3BnmqZALJyU86+rDeFEK0E8Fp0Ps/PYyHklzrwwbnWADAAA5lfAJkSMQ9qiLL7tIV9Sw9OsuTmSO+p+2wNYU4zrk0QhAyEJl6Dq3hqNkiCS8JU1TcLWaJRANGGgBdQ9Fc0f+ft6Z8QEzMy7hLkX4rFo1PkvwokqgTV6iLBEhPL3cAMAb8x5cUBYehurAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAc0lEQVRIiWNgGAWjYJiCiZz/aWcg1QyfyPkfq8HoYujqyLYEF00AMOGVzf/OSLJDyALIrkb3FQGDiXMhsiXIgAgfEm8BuiVEBh+xFuALBrxmEGPB/0/d7Dgl+Up/4jWHkAV4DSfGElwWUJJbSYvXUTD0AQDDYTYvCJYfBwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAp0lEQVRIie2U3Q2AMAiErXEZGcShHeQcpz4YkipQ8CdqjN8bacvBlbZpfj4HEWUiyhx3VycfenCUASRVgCsAkGrrtT2MENCqsNf1PaaAPLyPRWjdvXkH40Rq+2WSMpEVC7ZTcAtnRN0x9S7doz1S1W0CEetci7TR4+QR60Jfhef7IqSLCIuiEwMgjRO5xVVesj8xln2mQEmtbSlis7Io2vZpHvkuXssMLP56RC4nRRUAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAuUlEQVRIib3VPRKCMBCG4U/GmsqKc3gRjsDJOIL38BRaQEVl7QBVmICb7PptNFWYhOflbwbgx+PEnlj19RLmc/dKOlQgxrVIxQQkVIq6AgHPPR46cEAXAJif723uDsT41LQBx9S0HxH6Kwq4NC7jbbO9d6AONpC8+hIBM84EVPwxDrvjb16yCb/ivnOtAQq3BmjcEnDhWsCN5xaK4KnFYri0oSh+3JTFI9iMA8BZ28DCqRPE3x4D/22s6ftnz9ngbtQAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAArklEQVRIie2TvQ0DIQyFH1EoMgANdZRtGIZJbphsE119TQZIQeEUkSOEsM/omijia7CEf58BmEz2iBkUM0i6d1og29vS94sZdLl97Nej72cKZMrq8bwXVzfAflKRkzRBzbbAcWBInmIGSVO1nLXLunsA8NfyLcinpj+gSMQ2J7Po3aM7QRtcJx/FtIMjDBdo97KHSUfA9i8OE5KnkLz6alp+bwejSFoOyWDMOflX3gPoOrVswusKAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAhElEQVRIiWNgGAVDDtzebPH/9maL/zQz/P+zS///P7v0/9zUDKIsYSLFcBXjWSQ7imgLyAWMpCi+vdni/+dHBgwMDAwMRtkzSNI7CoYwoFvGw2UJ2fkAPePBki/VLKAawBe+tzdb/D83NYPocgmrAaQUbGQZTmrpiQ4GtrAbLdwYGBgYAFTPX5fT1wXtAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAu0lEQVRIie1UuxGDMAyVOUomYA52yRzpU9IzR3bJHExArzQg54S+puIur0On97GFBXB3lAYOZvhZA5wfE3283h9Xo2sVj6JPM4CSAwRuIHMCjtD1SidAoaaJub3cAPEpMBZRyOolk+IRWlCWqi3OYN3yohrnMKD06wYwDj6Z18ah1nYt/DUwk3FDLmjhym8awt/guoE2TG34HOJDi5I1Q/ehZcUtDl9i6rrYU9VGu0/cRcSVqecwwb6b4wsIwjy5qWuN/wAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkElEQVRIie2SwQ2EIBBFH8YW7MQOKMI69u7Ru3VYhB3YCUWMl9VdAeMYNfEwLyEhn+H/yQAYhmFcpxqRSJLvUuG05sHjAOmaGoB2mA7vAxTaTv7Ncw3cEbDSDhPVqAspd3QBCH41ybKc83uTZGS5AJHPVnA+LQoekroeiUPixMT8LK7f+i4b9bc7m/eQr/EmZqhEI2B1InAFAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAt0lEQVRIid1UwQ3EIAxzK/7dI2MwCaMxScfIHkzAPSoQnJKS0uvj6h8SOI7jALwWRJSJKN+957RHPqTjECkz8zJ7bx0p9CHB0okGsQAzL3vcZjntsMzBOqv/RZ1626aWmhm4Ql7jBoiRKwKuFhf34BvWvZCEuHqINot8SGoRSUjt4Iy0COhsNMJkUVtkJOZxDBfv15vZWXQlLe0bQLfNPAON/PZ3bSI/QdfBbFL2uD2TrPd/1QDwAfx6iTTKaBYOAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAbVJREFUSIntlMtKw0AUhr/YokRqkSAGurAUgiLSraZvkT5BnsGlO3d5jj5B8wKum7qTrlqE0o0QkFm0xWys40InTm3Sm7gQ/GFIzgx855x/LvAXZNdMAFmtlwD4/KbxVlIQNfzAkYA8udhHj40fFC79wJmb6HcFUSjwA4fWzSPVesnYOkG1XmLUm0oAP3Dod0W6FoWC08uyMbgf85MOMA8KJJOZVLHrWZxdWQBpBzvbgMtHRQCZTGbS9SyuW+e4nkUUfnXhBw6j3lQWNwErW8bPr7jeR6WNpk3ldJ9G004TqL2wa+b6HSi4Hzi4nkWjadNo2nTaMU+DFzrtGPiwRtkUDxPW6kCH97sirVp10GnHRKHAPCgYyWQm9Q1f2cF3uK6nwctcnExmWJVdIwoFVmXXAJafoqzKATrteO4/CgXlo6Ixfn5dYOQmWGaL7vnZlUXr5jGXlWnRurYoeLVeyi00b2GlLTp81Jvm8RcT2DWTeJhIdRSX2bIKDhkWxcNk4RHLs2UVPDMBkFqjLhFsZouuzIumX/9tbNFVyJi7hTcOj/dSeBQKHu7ExvA8ye/j8/X81+/oHfIfC2frtx3xAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAelJREFUSIntlDFoE2EUx3+f3hESUbQXKFypQyg1iFNU6C0B41K7ZJIuSiI4NIJKFx0Es7YIWTK0QwsRBDchGDsUCprBG1pKx6pBkEiG4nWpJLWJfi7ekbP5rqkIXfqfvseD//+9/3vvg2McNURQMluM+uIz5yJUtuoS4NGlWyKTyhPWRgIFTgSR61qIatuR2kkdgMpWXeasBGkjTiaVl/10oAUlV1oNmTbilJ1NH1nZ2SRanhKj5pV/E8gWo0ROh2AbzNEIORIAzNnrAKSNOItfVmSysRFoMShm8ODFec8OlxSgO74WGhQ/f3UAKN3/phToOYNu8vEBUyR1Y18hobBGte3IsQs3aHVqSoGeFj21smLy6hOp70yLjQ+2L5ezPLtk17CVVvUUOMUgxcpDMf95SU4MDIul7bo3ZNcit8Ozr+6Ki8Njh+vgzdoC1bbjbZBbdS88//pOXnc+Ha4D8A5JmquTvqoBJowhMWevy5yVoPGx6a7xgRvlQ6tTo2TfIVYQ8l5piKlFk1hByGf2ZRkrCOnGrU5Nzi/fVvIoLzmsjfB27TVJ3RDNnR/sNvd8+d3mHrPWY1FZXRCZVF4pEHjJ3fv9978EcNOa+fOa2Zdzoezgf6FvgfcvvwfGKgRNvq/fsk+uYxwhfgNZt7hllq/TVQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAQFJREFUSIntlD0KwkAQhV/EI/jTpYt2CjYBFYSQRhSsxSOJeIxcQlIG0gS0U7t0MbnD2iQhGXaXWbX0gxTDvjA782YH+GOC77kAIKpvs14ptZOp3dIulo5UZ5FYJFGAXn8IALAdT6aptcfTAaPxAACw256l2o7szyLPlDenPO4v7bk0wa+T1FAPylgK9aCMzeGaqUJlYBOWmSqUHlB0fdaNd5ebQJfkEsZ0vAW4VTLNFEkUiCQKRPoMKy0ARgW3a4rmbcpYicl4s2GPt8ku+pS6j7SXFabvQupBkWf1RFBu15S+C+3EfLyLuPunVYHvudZsvhfN+BLGXycx4mdL7k/FG2sdid9DA0ygAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7klEQVRIie1VXQqDMAz+OkfBu3gtnz1Ln3et3kUYSPegwTRNjNsYbLAPSjUmX/6aCvzxqyjbchEOCCzdgtSvT9PscmnCgjECQ1dLiYzI87LupLd+b/gumlcM3U5ASD0wRp08L+S4yVx63NO3iHgQGkQmV13LIeFyGYSA3QOLzMomL8Dt3nD6TdYiPIr6VIm4oVUmz9EGeYrqJksyWRaZpXJU9WPKjTw5OXpqDngz+bsWNe3GHEgHAdNcT6eVCc/gQMe7iwK0vmjNNUpkDZrumJeqvuhMG7vJ3LAl46S03kbBGAtSf/pf8JqTD5J/Jx5qr2HmmdxT5AAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAdklEQVRIie2S0QnAIAxEzwpO41pO5VpOI4j9UmyrMelfSx4ICnrPgwCKonwfI7odXO37mFlvDzKsrRFvn7JXgllYOwuYC4KrPWz1Y29ZLegG90AASOXaZCOZC2I2SIUvFQsoibdgybcCStJgiFazzBpBYabyV07e8yJJjGp+5wAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAV0lEQVRIiWNgGAW0AE3Rtv+dDBT/D7Q7BhA0RdtSzftM2AQPXH1CkiE0jw9q+pi2gC4upUp40yUTDcqIczJQ/D8oHTawgKySFVc4Ui18sblohJf/QxoAANEqIe1OcIVOAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABEElEQVRIib1USwrCMBB9FaEICXiArlwWRLr1POKm5+mmeB63RYQuXXkAIQPSVV3oRNM2/STqgxKGCe/TTAL8GMGXeGob5zcE6ttpq4vl5mjwznzJ75cdACCUMQDgVetEPgkM501wEtcELefNleGSoNc5wzXBoPNQxsZBT0kwyTnXYxNMds4wCpFKPV6UKe45OWfoBCKVtUgE9PcUc3ZuJGDyJqggXPdrJ+etBDa4OjcEKFMBFdS5oVJl57pYHQbJAWBua/DvCWWMSpWI8vO7l6lR5FrAdgbsOMrPMPqpFhkn0AWRCO3aJu4lQAV5ETM6p6iPnAr6vITjBPqmyIccsDwVtks3lbwl0BQyBBzI/4IHmW2FwdDO4WUAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAt0lEQVRIie1Uyw6DMAzzJi4gtZ/EV/Uz9lV8EkjbsRxQtFClSR+buOBTRYTtGBfghoFHy0su+Ejn7bWqHEMtIQC85893hmOWEzI3cMFHTjgtoyg0LaMoom7AyTkxOXY4i0soioi7S/O3IjKR5u+Cj+kzDdWqKflPWiSBsu9uEUGKpbtFnFwiI/dak0wBq6rAEVMuoqft/+xammkf2tyAomjtedEGzZeoVKAHfxfIrV78K6jgvHERdhB9Y+Jbm9ffAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2UlEQVRYhWNgGAWjYBQMRuCtxfDfW4vhPz3sYsFmuYetHpR36f/WawyM+AxAdygh9QQdAAPn774nqBnZsTD13gyPCToaGTCRazkl6pEBVpfCgpUYn1AaBXQB+BI1zjRATcvxJWqsaYAWAFc6oYsDKEmkVAH0LNhIBjizDL2yF85yAJFyIXH48tljmjgCbzYkN/GQUpBhdQBE4yWyooDUygxnCFAjuMWlZAlWTlQvCWGhJy4lS22jSQPE5n2SghnZQGrlCKINQW98UCtbklwXULtcH/AoGAUDDgAvcmw2gDIKjQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAArUlEQVRIie2UsRWAIAxET58jULuJm1m6mZtQuwMWyhNjOAgWNl6FIP8IpwF+fa2ucV+oZVkNAgCsy/HgN2B0x3iadZ7FIERwVGqQM+mtcL9dkyk8p5oKHidnklWUKqiCp1VJMYOwLvfNcszAJQP15KPTM2BZaBmY7jzVm6+oWdRA3jG789yPZq5ACz0HB4CBwWR4WpgMzhaKQZ9gCi8tqo2tFmx5Sbbm1hb/6yPtXRM6Z/YOWwgAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAqElEQVRIie2UMQ6EIBREx42xotqj7IVM7C32LPYaL+RRtqKywQL/alRgwMqE1/gTwxsYiUAmc5cieWWjzH/utdOTFtAog09l52n2hrxooez4KJfZQUnJgVUUJwfYE/hEUtGtAFdooH+AqajXBbC7MQIhB2JvkXzgaQ6KhfSKSGJOcK6JWM8GmLG1w08Db2Wf3yHsYALM2G7iI3Xn97heXNXBkv5/yzyTBWLPMguA7xJeAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAdElEQVRIiWNgGAUjD+R5MfwnR9+UVIb/2PQyoSsi12G3nmIXZ8IujAmI8dmkbQyMxDsJiwXkBh/RgJIgHAWDDFAzMrHmg1tPqWcJzoyGK2cOGMCVCalaVBAs7HABYuJj0jYGRjVpTHGifUAMyJlNQWE3cgEAMasir1+5WT8AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA40lEQVRIie2UwRGCMBBFP4wVxDo8WYM9eKQCiqECj/ZADZyoA1pYD0xMNuwmq9GL459hhnw272dJAPjraxocZX3t+ctw6b4KroE+Dpeg1fAc9I0Q2l2DIwYywBsNTmMXRsu8FV8nYHDB79eGQft1x5MCRDiOp23C5cZDYrAPi4LSAKL7+QlL4d5jncRdFDowwb3HOhHAXgfRLcABgMZuC9H3EQDQslEMzMCZV1C7c9KJFXA5IIYZXlVJfA+WWYfHqzbCAe2YpiBh1ZYN1grCcc19BwZ4rih0UgEvFWp/RTP8N/QAh8uMoZx0KY4AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAn0lEQVRIiWNgGAVDE0wS+k+sUiZqGkaeBRQ6gDgLKPQFYUNxsQnJMRDyASGXTxL6z5D3jhGDTTTA5jpkGl0MC8Dvg7x3jHh9QYSLqZOKSA4abIaQGDQwQLzN2AwjwuXEWoDPpXjNIGTBfwYGBob/K4wZGIR1GRjeXsagGSPO4jULnwX//+9OwDQUBtDEGV0XYDUPmwXUKBYoTFWjYEgBAN7hSs79t25DAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQklEQVRIiWNgGAVIQEFB4f9AuwECiHXJ4HExtQBFPhpawTG0XEspGPy+RXfh4HcxTcEI9z4UUCUUhk5QDh2X0hIAAFsvEdRqfNUJAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxklEQVRIie2VPQ6DMAyFX3+Wbp27IuVuHXsajsCdkHqHbkyVO4RExDiOQ9NOPAkJiPO+h2MJYNcfRfOV6NDKvOv9zfOe+h4bAbJqAYjpfwGg20Mv+AZAXQ9cHDCN7QFJWzTIFoDac67aMSU3AO+XvMhHFKj7gpj8dLVvsgLitIT0HCKlF19I5iH5NPoD5cqZWwCrA+UQzRzQW1SclpJ5bpEAwA3+QZqY2bhoLhUkqcNBLiGW1EudtUXBuMo8V7z6aWwx3mXWB53sOFv+9drCAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAApUlEQVRIie2TwQ2AIAxFq/HCCg7Afk7ifgzgChzxYBp+qq0VboZ3Eoz/t/2VaDDoZWr5aN2o4PnYdZ3ZI4aC/BzidQ7xbug2WDcqLIQiIRLlVE0s1NZkpTnVdyickz2ixXLnSp+q5ntLnMiRQYj3UWDVMiOJ6S7njgZ4Z3XjXlMMHOGxaVl8+g/YRAZuBf2agQYLdm2R18SiuQMvWgXq2nVoDv7KCeIgQHNazaXdAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAr0lEQVRIiWNgGAWkgt97Ov+fm5rxn1rmMaIbDmNfvnmfwSh7BiOmFtwOu3zzPgMDAwOKPiYqOBLuMF11RQw5FAtYXcoZL9+8zwBzCTUA0UGADyDHGSnBOjQASd7BlVLwAaJTEb6UQhULKAbE5OBzUzNIzuXwcIQFAak5mBCgeRDBLYDl4kEP0OOSqtkaW2lMUj4glIKwBTFRPiClnoA5AqaGhRgLSAFkJ3FyMhldAADK8WmxC7dL5gAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABIElEQVRIib1VuxGEIBBd6MAxsZwLDC3DMggtgzIMDSzHxLEDuQSY3XVB/Nxtgp/Hvo8gAImyRrvUuyul32hSRMAUOzZmHeXeRYJ+2JUHumWqAQDAj84a7fphV1fVEwJPAtbQ1KzR0A97TnGZW6TeWaPJGFyc4SXcgWSZajIpXAvwg5BAikEaq+k+FYzzRrqM8wbdp4oNcQQBj0ceUfxw1mgXANKkcd4Af2gJL+HwKorqE81J9qVucURwMgnCcg0rLRNRdHE3ImeNhkxEsffdiIrcEoKSSV7IpYh4JTcax53smYgX/6ZcUQ6TcysRqKZdyQN/z+2qpl3FiDhechBJEs1FJym3Tw6cIrdPT7RTt/87MlkpvBt/QfBK8zcreYp9ARnARYgSAH7PAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAf0lEQVRIiWNgGAWjABfYsIb1PzHqmMg1XEVZlihLiLLgynklolxLFrhyXun/hjWs/9EtoWkQUQUguxib65F9gM83WH1w5bzS/zt3H+O1JCDkNyPMcHwRTlQQ6RjeYyRGHUkA3cXIfHTXkhxE1ASjFhAE2FIHpcUC9VPcKBjcAAAkzD98KD5/RAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZElEQVRIiWNgGAWo4D+6ABM1Db8xA7slRLmEWEuIUjQjm+E/BZZQzSW0dcCNGQPnS9paOuDxR3WbkTMavoxCNYuxGj7g4UpzyweDD4choJqXsVU4/2dk47WEKpbjNHwgS9GBAQB1RDSsD2ft+gAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAiUlEQVRIie2VQQ6AIAwEVxMPvoon+RaexKs8eMCrkJYuEDRG90qZCaQU4Hvxa6wpn6uAOZyQ2QINRJ5kahYAwLab+60C9r5VjrYQAeBwjqIvIag8SRBZsCJKmLmgGa5JroJuuCTh2rQjv+B5wfA2vf0EwOCX3CyR4CUBQA680qCzBImoEO5PeW1OkEwustrVkE0AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAV0lEQVRIiWNgGAWjYBSMgqECJnL+J8immiXoNAHASLIFMJD/nSi9xCgi5FK8ZuCT/M/AwMDw294er+msBw/iNQuXBf8JGYzDIgzzsFlAacogPl5HwfAAAI0CFpxFHWhuAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAV0lEQVRIiWNgGAWUgorEwP+UyNPfkorEwP/4NFDFxQNiOCmOGBQOoVpwMFHDEKoCXGFMlI/JDRaaGk4RoKmPKLGELuUTVQDZlpCT3anmI1wGDZ1wH3kAAGHuPqjrva2eAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAR1JREFUSInlVbENwjAQPCNIhSjp0oUGJohYgClIxRCZgDnYgg0yAGXS0aVOQ5AwTWzZzv8TU8JJkWznfee/s2TgH6GdT6oBAKhY8uKc2cmlbAyHIVSmxvybRQqoYSMAYBDTxTmz49GGCPLRZqIbu2Y6mCKgAaBP89GP5F55IoGYAoBPFuk+zS153XZYHGaTyb2BJMAhuVd2zIQvdiCS120HfdrDdOiG74LrwCOv2w7b4wrP64sspuyKuqab9ZIlJ0g9UAK6T3MvUAnGqkvZkFaxDNypQ2FTx+UVZiAGy8HNyLlZKhT4itzFQO4dWjQ5tEOaU+Thgg1XupJTT84KxCD0m8I8ijGCmCsgbarbDrvHTdo3WQDgn8LY1+9H8AYaOaFdHXkaZAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAZpJREFUSIntVDFPwkAYfWdQoAYMgdiIcSHK0ASHslgGBiTGGBLZXJmMHXCE0ZmasGDSVf8BA4MhTiyd7OhiogMBAhEMDmrCcA7mCpUWMDI48KZe79173/u+ywELLPDvQWYhZUoBeH0cKp06Ta1vkbfXd1xnX/5mkCkFTOvaoEtlSYSq6WAmo7AzXJpUcW3QpZzHCRe3YuzJkohKp04BGByvj7NN4LATr3TqrGLKhFVNBwAcrG0QAD85lt2wTMAOMjy0c8b3kX+TVPstWu23DM7o/tQEnMcJ9ABV0zFqki0ngTSgarohrGr6RHHLBLe9pklAlkQIvAKBV0w8VdNxyu8SgVfwGGzbXpaxBFeOFEmUBYr0UGi0/8yc9V6WRBxrN7YzGDNINAQA3y0ReAUXnjg5Ke+ZDBlkSUS2nMRhMEIiuLZMYDlkAOTe/UyUjyTZbvCGIUN82U/OV6OE/dtp8jYyFglchYJp/ZnPo+LVSc59R2UMh372tA/M+BJMRTjmQqhI6KUWpaEioeGYa+azkyqgv6xjPmkWmDu+ABYSnXTgyhitAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAmJJREFUSIntlL9P1GAYxz/vtbw5rw1X7gwOhKRAIrtMjCYmJCbEyb+BBRddWJxcWHTBxb/BRUNiojExrsawuAgJeAlBPQ/uCrRHeend63Bt0/uJTjrwTG369vs83x/vA1f1r0v8yaHXj+4A6Gl3jmOvLtyFRVRL6byZF2bOZGpp9e8bHLx9nj5/3/1K48c+Z81AjzsTwl1YRBpSx9+Ef1QFoOiUuPXgRRdO7pLhNaCvu7OcNQMAceI1kIZMhhNCtznxGrrolPQgAHMUetSORBiFWhqSe0/f9zEDOK3XmHbnaAa+KFj26AYfntwHOlSnllbZ3lwHEKqlBjFDtZQoOiWs8qSwypPY5RujG5x4DT3tzkHszfzyGgBbGytsbaz0MePsPEYxsYtlHbWjPk+7GmSpZqXY+fSRolPSzcAX1Z0vWO4Mh5U9YQJjCN1S58JXPra0NT3B6TVZFCwby50hakepFAD7lV0Klq0TZoeVPX5W9jTAxXmINKRQLTWaQRKx7c11wijUtrQT6Rh3JsSxV6folNLzU7M3RRuwrlnM3H3Yi92ZOPuS6DzmOKlh0pCp4XE8kYbEVz55M4+ZMzUghl22LomagQ+gLzwPacgUMCnVUjq5YABhFGqA8PS4LwgDGxzVqunPcTR11I5Sw/NmvotxonujegCg4wGHN4h1TkF85ScSML+8hpkzIZbVlnbK8rRe6wpBtobuoqzmymsQHP0COkH49uYZGanE53evGHcmALj9+GUXztBVkb1kzcCnYNm6l12yTZM1MqguW3YAFCxb71d20/fYHxFG4chVfVX/R/0G94oNtjdxwCgAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAW5JREFUSIntVbFuglAUPS81rTTwQpcmNowMGAddXDv1D/oVTv0WJ7/CP3By7SKDKQOjCUkXyYOITnTQ+/qA56MmDh08CQkh3HPuudzzAG7417h7uQeA0nSd3jkLpnv44D/iEO9KAOCTnpFAzBKqYYd4ZxawX5+QL7clAHjTvpawO7Dl/X6dy/vNxxdxsHy5bQpYIwfFKiv9xVgWiig1dk/ggSuF47dPWCOHFaus4aD0pv0K6fO7VyFSO1ah1vDAJTcMADoAYA0dFGEGEaXggdtKSKCuuwO74fr0HaWD0l+MG8SXjEgV3K9z6aJDL33PN62F9QYI1IiuISmgjqaOtlHpagWSqoBOXVdYdwPo3RMqDuo7rhM1NaLWUwAZ8JtcPukZR/UXiCiFmCWwhg4rwuzogCLOA7ex0wTdaHTbxgMXAgmKsBY0SrJ6RFy6psDxyDiXZCkCALpc1KHZ+wp5Q0AKHZN9ldPUiGv8D25oxQ++q8nB7rJdfQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAWNJREFUSIntkj9Lw0AYxp+T1jYxViPFYtFJFMSl3CBE3Lp0cHR0yGhAt34FwcGthawufgOHog5SLBWEIl0LBf+QgjS1rdUMVc7pwiVpqTg45Qc33MvzPs+9xwuEhISETISMKuqFJLI0hX2qMq4j0m1AI3J21J4cIDaVhzYzNIp8RsJ9s0+2NusejTwbQ6ljMQDYXVwh/bfPkSFT4iVLUygPbRaLR93aqlnB3YsDvZCEXkgiocooD21W6ljM0CgMjeLi9ZklVDkwVWAC5uyw0wcHZrXm1gyNwqzWkFtIEwDgxgCQz0gAAN6jOMvkqfWNbtEaH8Ab/PBQHggAneYSlLU5VzNo9BBRoqR98jg2AFeNdxxc15lY5y8WOT5veczFkG7Rcn0DW+T/x7g8jctey/0W8fUAAhMA8ARE/AH+TVjfjgN7Xo10M0MiHwN8bSiMmwqMXH0/7C9HzqmYP0z/xj/kH/kBY5CYjlZ/xP0AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAN9JREFUSIntVNsRgzAMU3odTKN4lIySUTwKm7gfJTkIsSHQz+qHOzvIL9nAH18YSajqwZFmWESkfUk2cgCVPG3sAIDXTIBSiomIqeow25FtBLfcNVtTVavVVBuArc0nrwRBNiMy8x6/PUcQIAFAKeVgG2E4A5JYlsX75zFauSICEbk8vFvBgnlEYmiIZOoOrvpyztGb0wBY9R4u4+32nfTf0771m/wEfXvaDm2NU6eiw9Qd22XiqeNq20JynEhTVS3nHAXZwW2Rpw6SIGndqag4tG32VKTqf4LT5fnjp/gAHB6L7zj2AgcAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAThJREFUSIntlK9zg0AQhb/WrEecw8cwCE4wmHj+zriaKDyGqSAiLh53vuJiiOjsFQYSYCJqeIqf39t9t3ew67/18ca//RrWVoMAPRwOOOcwxiAiXK/XWd4Wgz6KIowxWGtp2xYRoes6AOI4njVZa9CnaYr3PjxwzgWw9x7n3KzJ59rKFSIiIRqFiwjGmFEBaw36NE0xxuCcoyxLvPfhPkkSRIQ8y0ZdDbUUUchdAXp9LAq+LxfyLKNumvDudruNuK86CNVrLHEccywKRIS6acizjJ/7PcCttZs66IejeCwK6qYBCLF8nc/A30IDkw5eGkRRRFmWYSSTJKGqqvDBEGyt5XQ6TZiLHcB08XQddD88y3/JYGSiMPiNSMdWs5+rfo0BDI4H3Ww6shrds2NircGs2ZucXbs26AE1fqYGir1jrgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA8ElEQVRIidWVwRnDIAhGSb9ukyUYwxFcIqcs4Tgu4Tz2In6EIGjaS/+zvgeGKMC/Z1tcX1cZnuACTCndFsQYTdZIUEdAnpwzIKIp0gR1BgwAHc7TRJ371uC8slmw5JCEd3CpXMJGUlnAvu9wHEdnUwe3Y+HgmaoJLvPyNiEiIGIXrcBdAQ9JpMiCmwLtzGU3I/h5ngBt1Kc7kCKCl1LMtY8EPJ5EFXgj6Z27K1iN1QX9B1uMsYYQTBB93NnqueC2UZt7C0xdyDXyLjJhGkALvyrkbVrbDA/jSThcE3wlkfCR4JFEg1sCAP39tbL6vv8mH84SiYSmpt3xAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAYlJREFUSIntlDFPwkAYhh8bE2JhgM2pTCasEP0dMjKSsNCJRB0c3WAAYzccSBgZ+R+akjgRnCAOTopJIXFpHeAu17uCja68C+1x97xv7/vu4KCD/qujlPOivzJ+M4gAOt0e+VwWgGWwom6NABiGNW5vrvfy9hlEnW4vBhPPAN6iYixoPzwazF0GUafb4+ttJgdajh+bMLYbAFTXg1iA06unGNfal7zl+BRLZYqlsgEXYKG6NWIY1gyYbhC931/IRMOwJkEisfhV/xMSdVKlbpGEC6mJ9MXLYEU+l5Umak3UWhzrji8fJwD4+UsJrq4HeFOzqF8AzuariqXNWHU9oK3MiRmM7QbYMJ9OIJhJiEdFFlkvrnge2w2WwcrY9JjBfDoB4h2jF1TtGnXbxPnQu0hv06jf7xuFFQn15Hev5wAUMqEc089CUptKmP6uwr1FhUImpJAJaTk+n9+WcVaSvgC210PTdWPJ1MUiuXw/ewYwtmeXgTRquq4BSoJvwYm8VJddCqW9lQ8y9QNiZaVNTKTieAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAZZJREFUSIntlLFKA0EQhr+onHfYHCG6RXIKFj5AykCeSgufQCyUFNZWwSqQlwikkqusUgjxkmKjSBpJDISz2mF3cwlJJYJ/d8fONzP/zg7867dV2vF8vitz2wQ5QLfTBqDXTwFoNurOocFwwvXVpcM92Ab81H4kCgOB2+DZfAFApqeFgHUd5AAPrRvKFUWmp1ycnThwAzaJB8MJejxCVWtOF0Ud5N1Om8FwQrkSA3C0/02vn3J+eixwGwwI/OLsxIHtrYMnKpbWX9/eaTbqlCuK2XzB54cuhBfJTpA/tR8FHoUBnx9agk3VURhQrSVikR6PxDa/evHJrzwKA5kUVa3JP1u25z7cnibnDowtxu+v5eEKfDZfkOnpWrj/vWcHRmHAc/qyMt8+fJMGw4ncjZPABDYbdcajrLB6I7/6Xj8VsN/N2oeWqJhMT8U2uwgDNlLVmiT1k5gOStdXl1LF1/KwEK7HI2dqjCXmXKJiJwZWX7Iss9u7+0Jb7Or8NZGomOf0BYBWqwVQ2rTsttmcm7Trpv7XX9UPRxDlZCE0bRgAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAQhJREFUSIntlD1uhDAQhb9EuUOK5BBbeGsoOARHoF8XOUIKp+cCvgWFqTNFbkQajIgZbHaVkichIWZ4PzOW4cSJE0cwzc9DeCqR930PQNd1R/o3eD7aKCLwQJqco2kmTUVimiMc+QSpAIAxBhGhbVs+3RcUEhVHpImsv5VE9gSW5UbH6/cQAhdzBaCpq6zBbAJjzK7zSD6EMZviJUeeEoYQALiYa9F5hHYCJhHBObcp7I1lCCMAH/a24UwFpjnuQhJ/buoK5xzWWtXpEEZVQN2BRg5grcV7v9RiPULbhTqidYpUBMB7z+vb+5+epq7iociOKCuyxo98LzsBff45Abj/Br37IvwX/AKZJHqzxczScgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAXZJREFUSIntlC1vwkAYx38s+wALroIvQBAVbfAkJJVIbB0OAQLRTE1MbAIz2+BQaBIS0hAMLwJBENgKXFNXycS45ijXg5GphX/SNL3r83+5J/fAAw/8CxxPz114uka8n7k0m827hQp55MnWIYwMprsqALXygumuSqvVulZ7BlWCY7J1LhZLxQO18oL9zOW0f1OirIuUPIwMSsWDsiiMDEbLCpv1iuFwqOLRJmAwb5y9sygVD2zWK0zLZj9zQZNE1+RcEXlttKxoRWSBY7J1GMwbaUNVhIN5gyAIMC0bgLYz4fUryTX4fC2BSkSg7Uzoj+uYFqIXeoEwMqiVF7kiQRAAYFo2bWdykzG5+8f3j8/Umfv2cvGzfCwy+uM6AL1uJ8upbnJ/XMf3YnwvxrRsTMvG92I265XSuS6NLFA4OUgLhDPx7XsxYWSke2Jfh2yCQq/bSYuzQvBzB4SInDgvRe4skvuhcioumoDq/HUC8PvJedPw+3N8A0QSnZsj1HFJAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAArElEQVRIiWNgGOqAEYf4f2qZh82C/0EzfMgyfV3GFgwzWQgoJhrgchROCxgYGBim5JoSZXjO5NM45fBagAyyd6AaMtWDOMuJtoAUQ5EBEymKs3ecxvAJITC4fEAOINoCclzPwEAgiPAlP4otIDc3E20BAwPxuRmfYwimov9nHfDKMxofwCtPdDI9f/YrCt/QmJsofURbQKyBJFtAKAgosoAaKYnmOZnmVebQBwBEGSTr3HTDzQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA9UlEQVRIidWVOwrCQBCGv4gIor0n0CaVSHqxyhG8gJV6ABsbG7uAj8LK1iNYib0Ee8+hWK5FDMlCspn4wvywZHYnmW9m2CFQdFkp5+pT8ZIASnl2YA0aAExqTQDmLILzaQWA6uwCwJYWAP0gXFrSGkARVCFeO1RoayqbSKuxk5UMAKPlKdVnBMQ13EdB1q4MDFASv/kMvHYdDZYlcQUQVfFXFeQCvCIxIN6WPC1K0m/mQHl27klOkvEWWfXD0wqfG81/j9J5DQCg/K7Rb3WORr94Ds7+Tdu3OzXRd2KANGBuQFYL3gKoaw/IvkUmfX2Sv/7LLL4egFJcIh1wkL8AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4UlEQVRIieWUvQ3CMBCF3yHEIEhsEadKQUHLEkgpvECWyBi0FBRUeIV0bEJjChzkOP45WyBF4kmWT9a9+86OY2Bh0mawRTnFn9d3sNnzvVzAp/goLmTFBBQr1EHWOcfqhXZA1oC+HDHOduzL5QK+JjbA6ngSp8S+RW5ROpxZ/qz/oMTLPSJd9wqDBAYJ1L3yAYsBepDzRbOWhKQAnC6jOeuAgez5tFW47QQaKACwYgE3F8638e3Am9g8lDeOeUIAuxsAoHsrZklmjQKeCZmromuapa6C7qq8h3A5b9H/An6uF4WMRHW3ug60AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlklEQVRIie1VQQqAMAzLxO/5AP+y4/7iA3zgPDikbG1XrYKIAWFsWRLSgcCPNyOXz8UL0qWUEgAgxujiDb14RYBLeIhrkJI1AlVC7cxsIAnBKm4xaEwoeuKAYQZenKqIg6eipv913tfTYp+DVBE7XAq6pzzl/gyUdIEzbkjKWa44mVZE9zWt8aK5mff4M/0Nbof1J/QhbIFgQxZVKNMbAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABaUlEQVRIie1VO46DMBAdom18idRQEMk3oKfbK1ClQZyFxhXHoPcNkOKCPpdw6S3Qc8aOnZBNmpV2GpBt3m8YIPqvT9U6Sfeb5w57gM/fpSMiUkPpXiV6SqCNpb4VRETU1CIgfptgnaRrakHjbImI/FUNm6M9JFmCdZJOGxuswQlKG/uUJEmwTtKNs/WR9O3NhTbbOt+Ho90EyH2cLcEF1F+uNzcg5b2Jq8g5SJFyIO6kbwVV3ZLEunOA7Hn+2livHHsgOx3zou4IkGVTCw+ArHlETS28AP6WpUi+uHK+Mc6WTsctayjOzQRcgIhXwcEBmmsaokKDc2d5PzxB3EQA8BjiOYjJ4RI4VbcUBw6ujfU2+1YEvQA4sscV5y9XCmbDO1BD6WA7pQjKeTzxmUf3QQ/imF5Z4875Od8M/hal1OaaytdTLoLpU0PpUtOaUl91S/HoQ5ebbO8kfnidpMMPJ/dxU0OZ3fu79QOnNyLrGvOANgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgUlEQVRYhe2W0QrAIAhFbexT/Sz/tb2skKYPw+kGuwd6CemeJEgiAP5Oc/Z7VZ4l0Jk5JV1ELpmrwAw/ix9jOXfmblaxLlLdaJE970KmQCUQgAAEIAABCLz+HWuBzswkIpQ5kIyMkb17hVWYb8AYLqLL7eqnHqE1CXtT810yzwYxDkKWK8nSGBQGAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlElEQVRIie2UwRGAMAgEL45F2IIV0IB2bQNUoCXYBf70YYBkIuND+cLckoMABEcqqJEWDQ8gzGwWEJGp0zmA5gi3qC/pQiTPSMnv71WLBNC7PwWuV2S1NIB4wgrophdukTrkeQsGAMAylmwxMK26ne6aCg9mPtFu5sNn8AM+AHDX1FvDJoD1gUoj/Ni557qGUVn/TByjTiCJ3SiEogAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAt0lEQVRIicWUwREDIQhFv5ktwhZSAQ0kHVimJaQBKkhKsAty2s0hKrCGyT8q8x8CAgQrGWJkxUMDCDNPA4ho6nNRAMsKL9FmyUKkz0hJz++vJRJgnP1h8HlF12sEEM14APryCy/RsMn3VzAAAB5XyxQDt+e4nOqYCufpfaI2vQ/vgQtQqaEqGZ8GVGoonFE4uyAmwG6+ywMxAUqn0b2z04AVqWOqjeESYPaBrApfduq69jCc8b/RG+oJMonZquS9AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwUlEQVRIicWUwRECMQhFfxwryCktWAENaNc2QAVaQk5pAS9GHU0CbDYjp50J8x98WIDFEQw5MqOhAYSZhwlENNQ5KIDpWG7R0VKFSJsRgl7fXy0SoF/9S+DdRVOrBxBNuAP60VtuUXfIl/tiAABcT5YtBs63vp3qmgqn4XugPHx3zaBQRlEENwMKZUROiJxcEBOgitcOPBDTqaiC8TmPz28tXB18A3cDtKq1dqBapK3hFGD0A1lj+bFTz7WH4czfJx6xwUOYVCI2qwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3UlEQVRIie2UQQrCMBBFX0WE4gH0AtKFB8i+p/AC0ivUhW7cuBM8hVfJEfQEHqBQXI2LgCg2k5ZYCuKHbDKT/yeTn4GekbTIkRiOkIBYa9UEY4zKMwoIRKP3FrW6gVQ5pRSUUoDc3dqGdDsIxEATEECkyv0Z7haC0saxj1yOy3B5QMoFgJpMaHiPwVwk56B53rFyVB98vha9HgpCK0YVABA7V+OJuanxQW36F/gRgaBNQzaMEuj6m5vgHRXPYbeeAbCZLgA4cHL7uwkA6f4KQE3WyKfNgq7lt5sr38YDiBMyusgc/RoAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABAElEQVRIicWUsY0CMRBFHwidhCiAbeBEQAHOqWEDGjhtC1zAJZeQIVEFwTbiEqCCLQAJXTQEq0WH8M7YGMSXnNiz/43HswMv1iAiRnI8LIB479UA55zqMzQA2Xp5iaJuIKcFK6lYSQXy1661xU0A5EgDCCByWvRHtLcQlDKO+sxlO7fTA8YcADgzEwLv8bYukr3ZPLdatlZ3fn0l+v+RKS0ZFQAgvlDPB65Rz9/apneqXUNtZPwwoHYNpS8ofZEEiQJ05p1SIFGAMvDQob2HATky29RqwyxA6t8cUu+ouA67rykA35NPADbs2v2fDwDGv0cAzsyCftosSE0/bq48WxfOzkS6fPRuuQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABB0lEQVRIicWUOwrCQBCGP0UEsUtjLiAWHmB7T+EFxCtooY2NneApvMoeQU+QKpUgVmMRFR/JzK5R/CEQdjf/N4/NwI/VCDgjdTwsgHjv1QPOOdWnaQBq6+clCspAjiNmMmUmU5Bz8SwsbgSgjjSAACLHUfWJIgtBKWOrylw2Qzs8oMMegBMDoaQff7tFsjMvz7PGhdWbX1WJHj8ypQWjAgDEp+p+w2XqflQPcpeRG4YfA3KXkfiUxKdRkCDAzfyWQQzE7AFwN0yu/Xh8txSVwSvwa4CyaEMzMEtkXcNagNi/uUyVo+I+7CY9AObdPgBrtsX6sg1AZ3UA4MSg1E+bBbHhh82Vb+sCloZVyeeaHwgAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAo0lEQVRIiWNgoDFgJELNf0rMIGTB/5MnT+JVYG5ujtccJgIWUAxoHkQsxLhiS7wGVnGfhTcI6h3QIPrPwIDb9TCA5AusZuGy4D8hg3FYhGEezYMIZyRP/XGdRKOwBwbeVLR9JTGpmIHBMxx3SiaYTP+flMArz2j+Aq88zeNg1IIRYAHBZEooGVJkAb4MRLEF2RyaJBm0HYc4weKaBEBcuUJtAAAZkx6s4XKlkgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZElEQVRIiWNgGAUEACMeuf/UMAuXBf8v9/GTZLpu0Ues5mGzgGTD8VmCbgHZhuOyBNkCig3HZgnMAlIjlFjAyAJj/TsUQlWTmezWQGiqmorNolELRi0YtWAYWEDzwo5G5tIRAAC2nxYih/81pwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAuklEQVRIic2UwQ3DIAxFPx2ALNSJOPRMJmjOnal7pReIHGMIGFfKl5CsyP/9YBDAjbWnxeuTHhNwl+s1RoQQ8vfpAArHGiMAYPFebB4NKP6cStqFdkSiFu+LkJkA9942MYRqNMChcluo0uj2bNCoeRZpZw5Q3qLv6wgB2Kgo/FQMwvH8FP4jkBpGAlrwqnoDVPDeRjW8p3kKfmWYhrdMJvCa0QwumU3hHGAOp5C/wAH2FlnDuS6f4VvqB7TESLgVFsd2AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAxElEQVRIS+2V2w3DIAxFnb06S9QF6DBlgSqz9C/qTES2SoQcbjCPfFQq3+QcfGU7E118pov59BdwwoEIJ9EbUbjPM72WhUVZVo8geO+lRz7rCiWtgvB+EN2eRCVJi0DgfFjAJ0qcc4eoagUaHr+XuHJR1QgQXDoJVWEVnMHjMhCJjskisMBhFSWBFQ6rOBPUwvcq0piQoAW+V5FOdU7QAz9sfy0YCtdTNxyeFXzHv9Rd5h9hCuK9DteumaguDnspesDvCzbc3VkZpaP6uQAAAABJRU5ErkJgggAA\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAALJJREFUSInV1cENgzAMBdDfqovQOToT5zBBOXeL7MEcMIp7akWM3Vi2OdRHK37fKAKAk+uS5JDmRgMIAKZSmuZznr/2LYJzeN023Ieh6V0zcak8ASrOt/cGmHHAf8k0lSLi+wsGAk/Q2zwSQMsI1FoPON/eE0DLeABVXGxY8Mermf28xaJlDdDwblkOunHL4RDeGwjjv4ZScG0wDZeGU3EOpON75BQcYJ+KbJwX/3H/R70B5PVOSsiwgM8AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0klEQVRIie1UwRGEMAgkV8JVYAOWRjWUZgNWYAvxYzJkDwg697vbGWeMJLuyQIj+mKAEsZrc90igikhfMPNjkVdEfhHTta7G3inwr5C8WILOWROYQQGSASLSH0pmZFnUyQhqYcVnAqkiNxzLSu99G77NGiBsUy1yLGt/vyPiWoTQpFqMKLbLEzAtikQ8hHNgoYmgTVmBkBxFGpjZtSldAw+KXIt0IavyqSwaOcG0Y+zWHDjkH2d0zLMovDKivsfY7MJyU/f2YyxzI5qpfxtDZ/wWThNOcCnuawEeAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACNUlEQVRoge2YPW7CMBTH/w+hIgTXQB1yCy6R3oA5GwzpwsIWqVtvUE7QjVtk4B4smV6HxE7i70BIK9U/yRLE9vuwn99zAkQikUgkEolEIr8FTaCDR9BplfGoA6rgUIRe33zyjKGhDvSE7XmnDTjhoxG98Au7bQEAh9VGnx8mg2ZeLY0u3L/aZoGN8U5yv0qfA1bDgwywCS0S0PoimwYt6nYklxMEAHOXnrstBACuWmO6j4sElJVgbsUTURuOtND6kHPtjOHM2nbAafyg1edKriIXSa+LHEfQ1dfF5MB4xk+A6sAkxnORyBXuhQ8AcNXr8x3k7hkYx3g19Ymz4JB30DqbOe8vXnXCAYalaKhx6+JEn/rDgHrwCNYsNMRwwGL8BGiHmItksPGhUFaOLjO0Ev9ZXIVsMvrh1/ktMpCliAG6A0RZyc8KIaAOIyFfXCP4fDaPTf3FbA6A+bYFrS8iEz2XnEEZAVkpDac0BQDvfxMzAKDV98N2ma7WPXLuFSXbqptoxhrrVB1CtPC9OASx5119n1dzv6eaqs4McW6GNmy08KGsvC/1cdVvHkwh4gqbLt4sxOdzLSwrx7vI5QxKSa601KHoFTR9QVnIiFCgvnzseWOZYeHY2rDEFZS+SvmmsOk4NSi5MBcJc5GItzHZOs/k2IFNzlviyktcQ8dbCdkBaoy39Y0BAeCvxuY32AuXyv+5SjzjIqbydseGmmaYvoKN8XXtKTpCd2CKT5BT6IhEIpGR+QG4Bej6ikQYYQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8ElEQVRoge1YS3bDMAiEvN7RN0BnUm7gU9JFioMIWNhR0uZVs2j1oTADSLYLMDExMTExMTHxv8Hm90fhAgBARB9JHgDg6w0xbHJwpA9UBiMcZ6Hj9uz2bPBoBRpnRBQaXq/Xrh/5+1prs1lKER/dBGUFNAFHIOOLiHqJ6AoYTlz8WWJShVJKs7cjArcf4J8BHkHcBhdCzPfuQMRtrscyVyIezukliDuEvBAWX6MrCdAK2B5orwjkAREB8ZZUObh2vQcRsLXSO8gTUUNQx9RjaZ896EPcu3OHwhLTV+mRJEZn4DDsXX4Guo2yGCbgTPAR2BUgWa21Pp3h3kPpbAIeBAhZTbiUAqUUV5AVNqKVjiD1KlFrbTLkjcVGz+1+VIFoXQ5z9BCLFlk/CS2kEroitvxWsH1NMMSA19WNhcvS4+qCLYiIiaiZezbWXtbsGG7XNfO6Mq9rdu4i3UIevGrs2TdZCrIe2eKyuN8sp65Re4B1y+hz4LVRRFALsvM97ArIvpP0KtGrjun1cM3l6KxthxgRpXyykXKaCvzje5sbws7e8VtIB/EyckaQVJSZ7+P+LRS2QVeA2ZC17Ed5FDOMkeDXIHMLNQGPBkjCE5XyPexl7reQ/rdK9gvpGZyJ4Qr4q2Q9ZCvwekXviTExMTExGN/dZHBpuZub8gAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+klEQVRoge2YUZLDIAiGYad3zA3MmeQGOSX7sINFI0Ia2+6D30w7jbHwo0BsARaLxWKxWCwWi2+BH/DBE3yaNu4G0BqOIn6976MzB68GUBlLKZkTicg3xmP96MsLB8AAY8EtXgDaVs65urfve9SOG8Bl4RHHKaXqfrsTeuXbuXpaeTPgV4Rrcs6nNBBBWjQilmv9Wa5VECe9P+8Uv+87MHPZwdbmKMcD+Q8A/QBuiwd45rHO53fQBjBFfFuULSmlssJtyjBzdc/T81CfzZ4mgiKr6YkXRsKYObxzsgMMRkFHBWnenTYaq4i/TnThzACICIgIELGs6Mhoznl43+rnnk0PqYFy5tBOJE9HD6WeE2mhHhGBni1dxAiqC8kOAJwL7pW66Akrjo2eL93JeohZg5dbqRVQb+WICFJK1VOaj6P7fdw2T+ucAACuBwHwFC5CnetuAF/rQtaqD+Z2n1PTArAKLVIvfBxVQO31iGEKWUU8IiIYESuBuG0nwe2YlUaPdqCFj6Pk5IxzEsDzvCMCtQ/tVxjVQHcH5CxCRKfC0vQCGu2Abpf60BboQpd++jIzc0qJ4a9wykuNlbkXX5UP/mv0kfmXaI2DiG/G7tD10RlzMVMIoGw5GmN3mObDLWIh+hPvDq/46AbwX8X2iO7AJ/6C/ISPxWKxmMwve31ULTQV7Y8AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABrklEQVRoge2Ya46EIAyAy8Q7eoMeihtwyu6PEQdqS4FBd5PtlzhxtPaBfagAjuM4juM4jvNbhAds0AKbqo5vA+CKe8l2reuDIRNGA6iUIaIqGGM0lbWu79QRNtPKG+oxOEKPLkQ0g7DuwLTjLcOj+hRd4fxRoBUrzo3P6jz0XPzVUqhyvnRi1IEsH2Os9iUZ65zESzimOr8SIgIiEm20znF4AEvS5knKFDJ7Og9OWx1rERARQtHBS/nWOYkcAIEyNO66Iy29IzZ750DFXXUxg1TETSzntdXrGUozDAfw15hKodVYzUAbYgDXAEKM8bZWmtOIDzRKSZQP+27q3ODo/THG3Im+crAkO8jbJHc8O2r9lxiugVaRSs7n/cu0VVZd4pAV59R2GLBeHCpWpxgPZiS4F3zS5pI+0sr1MhNk2Pdz68VMIUppOhCe++U+dzLsO1BK58bPgVKf0kEqu0SrkL55MZGK+eLcx+ZQcyFEJEQkeNfFuRXHTtnBzbShyKv0DLIA+mP2qs8ylY3W4OL8n0eJJ55AZ2yIRSzIrPi6douN3jvwxCfIJ2w4juMs5gdcWvZP4r+1igAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACFElEQVRoge1YW3aEMAiFnu5xdoBrijtwlfRjJEWEhHQcpx+559ipJsKFXPIQYGJiYmJiYmJiYuJTwBt88AU+QxuvBmANZyF+e+9jpw9+DTpmfTEzRFfGDhG57xIREJH0ayIbgJAOSS7LkjT1xE6w+Z70aaEnocoyympEYF3XJjHdbm0jYthXd6t/ArAYKKU0urWzaJ0LIU0aEeu9/l/uVRAnvpGEKvmI5LIs9WpBNG3tCbkIrTaNb8+n50xGYVTro/1HYUfAJX81iKhm2EqGmQ9tPS56BLrkvWyWUv6U5ZafkQTKCDAEBd0q4F5x3wGvBgAgT+7dGu9BL+kI++rqQYhGgelAooJf19WVh2fTexcGplEX75BMZDPrKx2ANWjXAWn3st8jiYjuJe1R9vVDXcShjISYJuRJyw6/nqlERqWUOl3ytrm+8PHwuJ7ARFQ3a3sAaRBRup9cILvZbWPetuy9i7SEom2Dl/nUFiPIeqOvG4QcGA6/vf28lZFtE3h1A/CU0UgAAFVO7iwkD0+NUkwWXqG+sh4YrYfPsqi6hV2H8HsCG64F0b19Bkrj2gcY/fdqwKvsKiFErEPtZaQntZOz4KCSmIXCGagbgGmQZ9lDeeSPZUVundwCfgeEeyFjJCrsqz7LIJyDStke/Srx75AZAQDIH/FeQUdOLtwacPpc8XXtLT6yI3DHJ8g7fExMTExcjB/HIw4rhmRWFQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/klEQVRoge2YbXLEIAiGcad3zA3ImfQGnpL+2JoiQcWPzewPn5nMtAnKi4BrArDZbDabzWYzjHvYHw34Jfb3bdxrSk4f1DbpH/NiRiMORhn1dRv3AgBAxE+L/9j8P5PjZ4VNB5aagsDWWJlDRKwae+/fTpw+dRqf7BLneQIAQAhBG5ZNZs0AcYdWzvME7z0Q0S0Iy1yIKIO4rUQrAwQAQESXoBG891kAUlia/xJVtu3aRgkRs8llqkdIgojourhg51z2LIRQzVYpAOotFwtyzlJvtJ5xtAAy8bxsRkuohCwd6zOObOLlK6+VHSLe6vwSIEqqpScF4MCwJ3vvl2WhJqxnEXkJLT/YrWj6Fk8e5orIQHsCbwagTZ6uFrzclB+lJQxnoKcXVu9enOJRQlthKURrannPIr51VvrLnGokA3AhBLLswSnAnp0plZEQBhSjau+Oozln8zCXDmQ1kT1Nx3shCU9CW/9rVHugJHrF9lha9YqtWhbmF5oe0dzWUl4ymJ7gqhkIIXxk6yvhjsNU99kY5d7VxM45oBj/a9J4wKrB37b4SkvhyjPzSYESAEAUI1GMBO8azK5e+Ni/DwmqD8VnkWYGxIN0j7/J9XCNk1tph76mgQzAFe7NsMzHVxzmZjBvo9ZXvBlGfKgBfKtYDWsGnviK/fSX8s1ms1nAL4ZTXaf8TqprAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsUlEQVRoge2YWXLDIAxARSd3zA10KN3Ap6QfLVQm2sDU/tGbScYJsjYkMTZAkiRJkiRJkjxFucFG3WBT1XE1gFFxlGbXu784MmU2gJDDiAhEFJKzCOgoXxGH4Mfx1WyLeM5HZV7O+rTTUcd4dsd7xjVlJ0r/UljKuOXMSXn9U19K6fcR0cca48NfrYQqIoay6WHpKUYLWmscqYQqN8ivI415N+MOVCvr3o7M7FjLMC+fpoOvefAALk2ZHeW2QiuhCv6hAQDnqfCU05zoOXBiV4M3XZH/NLxzIIzX4NHTmctH9KoBWAeNJjdDNMte4C2AXv9SfRORaHCX85qeQU4cSS9BoHpH/Sqj3nZdj0OUL++3q1OKyjwLOLM7MNZ1c7w56vwWd2BpCu1Ay7ohK474bVPoCmMwM8GZO0BEZpnM9IYlK9V6pP4BnB4gIqjH0ZXNPEFFZHmmR4eFNbEHQgFIBiJOSk7zeyem0NSjb0XEiojtMbJ/2H9ddvLj2lDkVSJNXEAfrbtey5xs/O5MSPdjY3QX4TF6x9PYig2xiQWZHW/X/sVGdAfueAV5h40kSZLNfAP8suojqxWMSgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1klEQVRoge2YXZKDMAiAYad39AZ4JnODnjL7UixBkJim7j7wzdixJuEvJEQBkiRJkiRJkuSvwBt01Ak6XRmfOqAF98J6o/EY9MGfi4qrukyIqEsOEQERQa21ufh5YDwAAPQ60CjsMDBEyljXNezj8Qja9whoYfy/lBIqsZDjWBY7otscHbj/OBymz4qI54DnIBtU61s8Ijb9rbaXnIO93gyMLs4dNlwaJgOAiI2hkrM2jbUG3JE6mj3pM5pivWgHPo58DzwTiNikz7ZtbpuHTKHQ+Bm7jydr27YhPTwDFYKipoXOTA1pvLzv4bAGrH1+ZuRn49aB2UbzVjhb7tWjxM5MQ9Z1datxRFSJT4mqca+TPN4qeuK5uUblqXC/H4mup9zqpx2vz6fZF5fFshX0w6pK9ZAD0qBovDacDQ3+mw58lEKaK457Uff64rKYW/0DAKCUEr04fBXtzBXnfuDt1cG7UsrXzzIeKv9dwhR6TR8AzNs6iQhwWZpIa4ONtvE1wE707jQe+kVFLlYrbYRTl97dKxFVItLvv/LZ3vfiFepw+rv0zMDZ1jrrs0yj46xwaYaPEv+F7jpwx240osOaJusr2Iyva1/R0TsDd3yCvENHkiTJZH4BOxYPBJ6xfbsAAAAASUVORK5CYII=\"","/**\n * Compares given number against a randomly generated number\n * @param {number} chance float between 0-1 to compare dice roll against\n * @returns {bool} true if the dice roll was equal to or lower than the given chance, false otherwise\n */\nexport default function isRandomNumberLessThan(chance) {\n  return Math.random() <= chance\n}\n","export default function totalIngredientsInRecipe(recipe, amount = 1) {\n  return (\n    amount *\n    Object.values(recipe.ingredients).reduce(\n      (acc, quantity) => acc + quantity,\n      0\n    )\n  )\n}\n","/**\n * @module farmhand.utils\n * @ignore\n */\n\nimport { Buffer } from 'buffer'\n\nimport Dinero from 'dinero.js'\nimport fastMemoize from 'fast-memoize'\nimport configureJimp from '@jimp/custom'\nimport jimpPng from '@jimp/png'\nimport sortBy from 'lodash.sortby'\nimport { v4 as uuid } from 'uuid'\n\nimport shopInventory from './data/shop-inventory'\nimport fruitNames from './data/fruit-names'\nimport { cropIdToTypeMap, itemsMap } from './data/maps'\nimport adjectives from './data/adjectives'\nimport animalNames from './data/animal-names'\nimport {\n  chocolateMilk,\n  milk1,\n  milk2,\n  milk3,\n  rainbowMilk1,\n  rainbowMilk2,\n  rainbowMilk3,\n} from './data/items'\nimport { levels } from './data/levels'\nimport { unlockableItems } from './data/levels'\nimport { items as itemImages, animals, pixel } from './img'\nimport {\n  cowColors,\n  cropLifeStage,\n  fertilizerType,\n  genders,\n  itemType,\n  stageFocusType,\n  standardCowColors,\n  toolLevel,\n} from './enums'\nimport {\n  BREAKPOINTS,\n  COW_COLORS_HEX_MAP,\n  COW_FERTILIZER_PRODUCTION_RATE_FASTEST,\n  COW_FERTILIZER_PRODUCTION_RATE_SLOWEST,\n  COW_MAXIMUM_VALUE_MATURITY_AGE,\n  COW_MAXIMUM_VALUE_MULTIPLIER,\n  COW_MILK_RATE_FASTEST,\n  COW_MILK_RATE_SLOWEST,\n  COW_MINIMUM_VALUE_MULTIPLIER,\n  COW_STARTING_WEIGHT_BASE,\n  COW_STARTING_WEIGHT_VARIANCE,\n  COW_WEIGHT_MULTIPLIER_MAXIMUM,\n  COW_WEIGHT_MULTIPLIER_MINIMUM,\n  DAILY_FINANCIAL_HISTORY_RECORD_LENGTH,\n  HUGGING_MACHINE_ITEM_ID,\n  I_AM_RICH_BONUSES,\n  INITIAL_FIELD_HEIGHT,\n  INITIAL_FIELD_WIDTH,\n  INITIAL_SPRINKLER_RANGE,\n  INITIAL_STORAGE_LIMIT,\n  MALE_COW_WEIGHT_MULTIPLIER,\n  MEMOIZE_CACHE_CLEAR_THRESHOLD,\n  PEER_METADATA_STATE_KEYS,\n  PERSISTED_STATE_KEYS,\n  PRICE_EVENT_STANDARD_DURATION_DECREASE,\n  STORAGE_EXPANSION_AMOUNT,\n  STORAGE_EXPANSION_BASE_PRICE,\n  STORAGE_EXPANSION_SCALE_PREMIUM,\n} from './constants'\n\nconst Jimp = configureJimp({\n  types: [jimpPng],\n})\n\nconst { SEED, GROWING, GROWN } = cropLifeStage\n\nconst shopInventoryMap = shopInventory.reduce((acc, item) => {\n  acc[item.id] = item\n  return acc\n}, {})\n\nexport const chooseRandom = list =>\n  list[Math.round(Math.random() * (list.length - 1))]\n\n// Ensures that the condition argument to memoize() is not ignored, per\n// https://github.com/caiogondim/fast-memoize.js#function-arguments\n//\n// Pass this is the `serializer` option to any memoize()-ed functions that\n// accept function arguments.\nconst memoizationSerializer = args =>\n  JSON.stringify(\n    [...args].map(arg => (typeof arg === 'function' ? arg.toString() : arg))\n  )\n\n// This is basically the same as fast-memoize's default cache, except that it\n// clears the cache once the size exceeds MEMOIZE_CACHE_CLEAR_THRESHOLD to\n// prevent memory bloat.\n// https://github.com/caiogondim/fast-memoize.js/blob/5cdfc8dde23d86b16e0104bae1b04cd447b98c63/src/index.js#L114-L128\n/**\n * @ignore\n */\nclass MemoizeCache {\n  cache = {}\n\n  /**\n   * @param {Object} [config] Can also contain the config options used to\n   * configure fast-memoize.\n   * @param {number} [config.cacheSize]\n   * @see https://github.com/caiogondim/fast-memoize.js\n   */\n  constructor({ cacheSize = MEMOIZE_CACHE_CLEAR_THRESHOLD } = {}) {\n    this.cacheSize = cacheSize\n  }\n\n  has(key) {\n    return key in this.cache\n  }\n\n  get(key) {\n    return this.cache[key]\n  }\n\n  set(key, value) {\n    if (Object.keys(this.cache).length > this.cacheSize) {\n      this.cache = {}\n    }\n\n    this.cache[key] = value\n  }\n}\n\nexport const memoize = (fn, config) =>\n  fastMemoize(fn, {\n    cache: { create: () => new MemoizeCache(config) },\n    ...config,\n  })\n\n/**\n * @param {number} num\n * @param {number} min\n * @param {number} max\n */\nexport const clampNumber = (num, min, max) =>\n  num <= min ? min : num >= max ? max : num\n\nexport const castToMoney = num => Math.round(num * 100) / 100\n\n/**\n * Safely adds dollar figures to avoid IEEE 754 rounding errors.\n * @param {...number} num Numbers that represent money values.\n * @returns {number}\n * @see http://adripofjavascript.com/blog/drips/avoiding-problems-with-decimal-math-in-javascript.html\n */\nexport const moneyTotal = (...args) =>\n  args.reduce((sum, num) => (sum += Math.round(num * 100)), 0) / 100\n\n/**\n * Based on https://stackoverflow.com/a/14224813/470685\n * @param {number} value Number to scale\n * @param {number} min Non-standard minimum\n * @param {number} max Non-standard maximum\n * @param {number} baseMin Standard minimum\n * @param {number} baseMax Standard maximum\n * @returns {number}\n */\nexport const scaleNumber = (value, min, max, baseMin, baseMax) =>\n  ((value - min) * (baseMax - baseMin)) / (max - min) + baseMin\n\n/**\n * @param {string} string\n * @returns {number}\n */\nconst convertStringToInteger = string =>\n  string.split('').reduce((acc, char, i) => acc + char.charCodeAt() * i, 0)\n\nexport const createNewField = () =>\n  new Array(INITIAL_FIELD_HEIGHT)\n    .fill(undefined)\n    .map(() => new Array(INITIAL_FIELD_WIDTH).fill(null))\n\n/**\n * @param {number} number\n * @returns {string} Include dollar sign and other formatting, as well as cents.\n */\nexport const moneyString = number =>\n  Dinero({ amount: Math.round(number * 100) }).toFormat()\n\n/**\n * @param {number} number\n * @param {string} format\n * @see https://dinerojs.com/module-dinero#~toFormat\n * @returns {string}\n */\nconst formatNumber = (number, format) =>\n  Dinero({ amount: Math.round(number * 100), precision: 2 })\n    .convertPrecision(0)\n    .toFormat(format)\n\n/**\n * @param {number} number\n * @returns {string} Include dollar sign and other formatting. Cents are\n * rounded off.\n */\nexport const dollarString = number => formatNumber(number, '$0,0')\n\n/**\n * @param {number} number\n * @returns {string} Number string with commas.\n */\nexport const integerString = number => formatNumber(number, '0,0')\n\n/**\n * @param {number} number A float\n * @returns {string} the float converted to a full number with a % added\n */\nexport const percentageString = number => `${Math.round(number * 100)}%`\n\n/**\n * @param {string} itemId\n * @returns {number}\n */\nconst getItemBaseValue = itemId => itemsMap[itemId].value\n\n/**\n * @param {farmhand.item} item\n * @param {Object.<number>} valueAdjustments\n * @returns {number}\n */\nexport const getItemCurrentValue = ({ id }, valueAdjustments) =>\n  Dinero({\n    amount: Math.round(\n      (valueAdjustments[id]\n        ? getItemBaseValue(id) *\n          (itemsMap[id].doesPriceFluctuate ? valueAdjustments[id] : 1)\n        : getItemBaseValue(id)) * 100\n    ),\n    precision: 2,\n  }).toUnit()\n\n/**\n * @param {Object} valueAdjustments\n * @param {string} itemId\n * @returns {number} Rounded to a money value.\n */\nexport const getAdjustedItemValue = (valueAdjustments, itemId) =>\n  Number(((valueAdjustments[itemId] || 1) * itemsMap[itemId].value).toFixed(2))\n\n/**\n * @param {farmhand.item} item\n * @returns {boolean}\n */\nexport const isItemSoldInShop = ({ id }) => Boolean(shopInventoryMap[id])\n\n/**\n * @param {farmhand.item} item\n * @returns {number}\n */\nexport const getResaleValue = ({ id }) => itemsMap[id].value / 2\n\n/**\n * @param {string} itemId\n * @returns {farmhand.crop}\n */\nexport const getCropFromItemId = itemId => ({\n  ...getPlotContentFromItemId(itemId),\n  daysOld: 0,\n  daysWatered: 0,\n  fertilizerType: fertilizerType.NONE,\n  wasWateredToday: false,\n})\n\n/**\n * @param {string} itemId\n * @returns {farmhand.plotContent}\n */\nexport const getPlotContentFromItemId = itemId => ({\n  itemId,\n  fertilizerType: fertilizerType.NONE,\n})\n\n/**\n * @param {farmhand.plotContent} plotContent\n * @returns {?string}\n */\nexport const getPlotContentType = ({ itemId }) =>\n  itemId ? itemsMap[itemId].type : null\n\n/**\n * @param {?farmhand.plotContent} plot\n * @returns {boolean}\n */\nexport const doesPlotContainCrop = plot =>\n  plot && getPlotContentType(plot) === itemType.CROP\n\n/**\n * @param {farmhand.item} item\n * @returns {boolean}\n */\nexport const isItemAGrownCrop = item =>\n  Boolean(item.type === itemType.CROP && !item.growsInto)\n\n/**\n * @param {farmhand.item} item\n * @returns {boolean}\n */\nexport const isItemAFarmProduct = item =>\n  Boolean(\n    isItemAGrownCrop(item) ||\n      item.type === itemType.MILK ||\n      item.type === itemType.CRAFTED_ITEM\n  )\n\n/**\n * @param {farmhand.crop} crop\n * @returns {string}\n */\nexport const getCropId = ({ itemId }) =>\n  cropIdToTypeMap[itemsMap[itemId].cropType]\n\n/**\n * @param {farmhand.crop} crop\n * @returns {number}\n */\nexport const getCropLifecycleDuration = memoize(({ cropTimetable }) =>\n  Object.values(cropTimetable).reduce((acc, value) => acc + value, 0)\n)\n\n/**\n * @param {farmhand.cropTimetable} cropTimetable\n * @returns {Array.<enums.cropLifeStage>}\n */\nexport const getLifeStageRange = memoize(cropTimetable =>\n  [SEED, GROWING].reduce(\n    (acc, stage) => acc.concat(Array(cropTimetable[stage]).fill(stage)),\n    []\n  )\n)\n\n/**\n * @param {farmhand.crop} crop\n * @returns {enums.cropLifeStage}\n */\nexport const getCropLifeStage = ({ itemId, daysWatered }) =>\n  getLifeStageRange(itemsMap[itemId].cropTimetable)[Math.floor(daysWatered)] ||\n  GROWN\n\nconst cropLifeStageToImageSuffixMap = {\n  [SEED]: 'seed',\n  [GROWING]: 'growing',\n}\n\n/**\n * @param {farmhand.plotContent} plotContent\n * @returns {?string}\n */\nexport const getPlotImage = plotContent => {\n  if (plotContent) {\n    if (getPlotContentType(plotContent) === itemType.CROP) {\n      if (getCropLifeStage(plotContent) === GROWN) {\n        return itemImages[getCropId(plotContent)]\n      } else {\n        return itemImages[\n          `${getCropId(plotContent)}-${\n            cropLifeStageToImageSuffixMap[getCropLifeStage(plotContent)]\n          }`\n        ]\n      }\n    }\n\n    if (plotContent?.oreId) {\n      return itemImages[plotContent.oreId]\n    } else {\n      return itemImages[plotContent.itemId]\n    }\n  }\n\n  return null\n}\n\n/**\n * @param {number} rangeSize\n * @param {number} centerX\n * @param {number} centerY\n * @returns {Array.<Array.<?farmhand.plotContent>>}\n */\nexport const getRangeCoords = (rangeSize, centerX, centerY) => {\n  const squareSize = 2 * rangeSize + 1\n  const rangeStartX = centerX - rangeSize\n  const rangeStartY = centerY - rangeSize\n\n  return new Array(squareSize)\n    .fill()\n    .map((_, y) =>\n      new Array(squareSize)\n        .fill()\n        .map((_, x) => ({ x: rangeStartX + x, y: rangeStartY + y }))\n    )\n}\n\n/**\n * @param {string} seedItemId\n * @returns {string}\n */\nexport const getFinalCropItemIdFromSeedItemId = seedItemId =>\n  itemsMap[seedItemId].growsInto\n\n/**\n * @param {farmhand.item} item\n * @returns {farmhand.item}\n */\nexport const getFinalCropItemFromSeedItem = ({ id }) =>\n  itemsMap[getFinalCropItemIdFromSeedItemId(id)]\n\n/**\n * @param {farmhand.item} cropItemId\n * @returns {string}\n */\nexport const getSeedItemIdFromFinalStageCropItemId = memoize(\n  cropItemId =>\n    Object.values(itemsMap).find(({ growsInto }) => growsInto === cropItemId)\n      ?.id,\n  {\n    cacheSize: 30,\n  }\n)\n\n/**\n * @param {farmhand.cow} cow\n * @returns {string}\n */\nconst getDefaultCowName = ({ id }) =>\n  fruitNames[convertStringToInteger(id) % fruitNames.length]\n\n/**\n * @param {farmhand.cow} cow\n * @param {string} playerId\n * @param {boolean} allowCustomPeerCowNames\n * @returns {string}\n */\nexport const getCowDisplayName = (cow, playerId, allowCustomPeerCowNames) => {\n  return cow.originalOwnerId !== playerId && !allowCustomPeerCowNames\n    ? getDefaultCowName(cow)\n    : cow.name\n}\n\n/**\n * Generates a friendly cow.\n * @param {Object} [options]\n * @returns {farmhand.cow}\n */\nexport const generateCow = (options = {}) => {\n  const gender = options.gender || chooseRandom(Object.values(genders))\n  const color = options.color || chooseRandom(Object.values(standardCowColors))\n  const id = options.id || uuid()\n\n  const baseWeight = Math.round(\n    COW_STARTING_WEIGHT_BASE *\n      (gender === genders.MALE ? MALE_COW_WEIGHT_MULTIPLIER : 1) -\n      COW_STARTING_WEIGHT_VARIANCE +\n      Math.random() * (COW_STARTING_WEIGHT_VARIANCE * 2)\n  )\n\n  const cow = {\n    baseWeight,\n    color,\n    colorsInBloodline: { [color]: true },\n    daysOld: 1,\n    daysSinceMilking: 0,\n    daysSinceProducingFertilizer: 0,\n    gender,\n    happiness: 0,\n    happinessBoostsToday: 0,\n    id,\n    isBred: false,\n    isUsingHuggingMachine: false,\n    name: '',\n    ownerId: '',\n    originalOwnerId: '',\n    timesTraded: 0,\n    weightMultiplier: 1,\n    ...options,\n  }\n\n  cow.name = getDefaultCowName(cow)\n\n  return cow\n}\n\n/**\n * Generates a cow based on two parents.\n * @param {farmhand.cow} cow1\n * @param {farmhand.cow} cow2\n * @param {string} ownerId\n * @param {Partial<farmhand.cow>?} customProps\n * @returns {farmhand.cow}\n */\nexport const generateOffspringCow = (cow1, cow2, ownerId, customProps = {}) => {\n  if (cow1.gender === cow2.gender) {\n    throw new Error(\n      `${JSON.stringify(cow1)} ${JSON.stringify(\n        cow2\n      )} cannot produce offspring because they have the same gender`\n    )\n  }\n\n  const maleCow = cow1.gender === genders.MALE ? cow1 : cow2\n  const femaleCow = cow1.gender === genders.MALE ? cow2 : cow1\n  const colorsInBloodline = {\n    // These lines are for backwards compatibility and can be removed on 11/1/2020\n    [maleCow.color]: true,\n    [femaleCow.color]: true,\n    // End backwards compatibility lines to remove\n    ...maleCow.colorsInBloodline,\n    ...femaleCow.colorsInBloodline,\n  }\n\n  delete colorsInBloodline[cowColors.RAINBOW]\n\n  const isRainbowCow =\n    Object.keys(colorsInBloodline).length ===\n    Object.keys(standardCowColors).length\n\n  return generateCow({\n    color: isRainbowCow\n      ? cowColors.RAINBOW\n      : chooseRandom([femaleCow.color, maleCow.color]),\n    colorsInBloodline,\n    baseWeight: (maleCow.baseWeight + femaleCow.baseWeight) / 2,\n    isBred: true,\n    ownerId,\n    originalOwnerId: ownerId,\n    ...customProps,\n  })\n}\n\n/**\n * @param {farmhand.cow} cow\n * @returns {farmhand.item}\n */\nexport const getCowMilkItem = ({ color, happiness }) => {\n  if (color === cowColors.BROWN) {\n    return chocolateMilk\n  }\n\n  const isRainbowCow = color === cowColors.RAINBOW\n\n  if (happiness < 1 / 3) {\n    return isRainbowCow ? rainbowMilk1 : milk1\n  } else if (happiness < 2 / 3) {\n    return isRainbowCow ? rainbowMilk2 : milk2\n  }\n\n  return isRainbowCow ? rainbowMilk3 : milk3\n}\n\n/**\n * @param {farmhand.cow} cow\n * @returns {farmhand.item}\n */\nexport const getCowFertilizerItem = ({ color }) =>\n  itemsMap[color === cowColors.RAINBOW ? 'rainbow-fertilizer' : 'fertilizer']\n\n/**\n * @param {farmhand.cow} cow\n * @returns {number}\n */\nexport const getCowMilkRate = cow =>\n  cow.gender === genders.FEMALE\n    ? scaleNumber(\n        cow.weightMultiplier,\n        COW_WEIGHT_MULTIPLIER_MINIMUM,\n        COW_WEIGHT_MULTIPLIER_MAXIMUM,\n        COW_MILK_RATE_SLOWEST,\n        COW_MILK_RATE_FASTEST\n      )\n    : Infinity\n\n/**\n * @param {farmhand.cow} cow\n * @returns {number}\n */\nexport const getCowFertilizerProductionRate = cow =>\n  cow.gender === genders.MALE\n    ? scaleNumber(\n        cow.weightMultiplier,\n        COW_WEIGHT_MULTIPLIER_MINIMUM,\n        COW_WEIGHT_MULTIPLIER_MAXIMUM,\n        COW_FERTILIZER_PRODUCTION_RATE_SLOWEST,\n        COW_FERTILIZER_PRODUCTION_RATE_FASTEST\n      )\n    : Infinity\n\n/**\n * @param {farmhand.cow} cow\n * @returns {number}\n */\nexport const getCowWeight = ({ baseWeight, weightMultiplier }) =>\n  Math.round(baseWeight * weightMultiplier)\n\n/**\n * @param {farmhand.cow} cow\n * @param {boolean} [computeSaleValue=false]\n * @returns {number}\n */\nexport const getCowValue = (cow, computeSaleValue = false) =>\n  computeSaleValue\n    ? getCowWeight(cow) *\n      clampNumber(\n        scaleNumber(\n          cow.daysOld,\n          1,\n          COW_MAXIMUM_VALUE_MATURITY_AGE,\n          COW_MINIMUM_VALUE_MULTIPLIER,\n          COW_MAXIMUM_VALUE_MULTIPLIER\n        ),\n        COW_MINIMUM_VALUE_MULTIPLIER,\n        COW_MAXIMUM_VALUE_MULTIPLIER\n      )\n    : getCowWeight(cow) * 1.5\n\nexport const getCowSellValue = cow => getCowValue(cow, true)\n\n/**\n * @param {Array.<farmhand.item>} inventory\n * @returns {Object}\n */\nexport const getInventoryQuantityMap = memoize(inventory =>\n  inventory.reduce((acc, { id, quantity }) => {\n    acc[id] = quantity\n    return acc\n  }, {})\n)\n\n/**\n * @param {farmhand.recipe} recipe\n * @param {Array.<farmhand.item>} inventory\n * @returns {number}\n */\nexport const maxYieldOfRecipe = memoize(({ ingredients }, inventory) => {\n  const inventoryQuantityMap = getInventoryQuantityMap(inventory)\n\n  return (\n    Math.min(\n      ...Object.keys(ingredients).map(itemId =>\n        Math.floor(inventoryQuantityMap[itemId] / ingredients[itemId])\n      )\n    ) || 0\n  )\n})\n\n/**\n * @param {farmhand.recipe} recipe\n * @param {Array.<farmhand.item>} inventory\n * @param {number} howMany\n * @returns {boolean}\n */\nexport const canMakeRecipe = (recipe, inventory, howMany) =>\n  maxYieldOfRecipe(recipe, inventory) >= howMany\n\n/**\n * @param {Array.<string>} itemIds\n * @returns {Array.<string>}\n */\nexport const filterItemIdsToSeeds = itemsIds =>\n  itemsIds.filter(id => itemsMap[id].type === itemType.CROP)\n\n/**\n * @param {Array.<string>} unlockedSeedItemIds\n * @returns {farmhand.item}\n */\nexport const getRandomUnlockedCrop = unlockedSeedItemIds =>\n  itemsMap[getFinalCropItemIdFromSeedItemId(chooseRandom(unlockedSeedItemIds))]\n\n/**\n * @param {farmhand.item} cropItem\n * @returns {farmhand.priceEvent}\n */\nexport const getPriceEventForCrop = cropItem => ({\n  itemId: cropItem.id,\n  daysRemaining:\n    getCropLifecycleDuration(cropItem) - PRICE_EVENT_STANDARD_DURATION_DECREASE,\n})\n\n/**\n * @param {Array.<Array.<?farmhand.plotContent>>} field\n * @param {function(?farmhand.plotContent)} condition\n * @returns {?farmhand.plotContent}\n */\nexport const findInField = memoize(\n  (field, condition) => field.find(row => row.find(condition)) || null,\n  {\n    serializer: memoizationSerializer,\n  }\n)\n\n// This is currently unused, but it could be useful later.\n/**\n * @param {Array.<Array.<?farmhand.plotContent>>} field\n * @param {function(?farmhand.plotContent)} filterCondition\n * @returns {Array.<Array.<?farmhand.plotContent>>}\n */\nexport const getCrops = memoize(\n  (field, filterCondition) =>\n    field.reduce((acc, row) => {\n      acc.push(...row.filter(filterCondition))\n\n      return acc\n    }, []),\n  {\n    serializer: memoizationSerializer,\n  }\n)\n\n/**\n * @returns {boolean}\n */\nexport const doesMenuObstructStage = () => window.innerWidth < BREAKPOINTS.MD\n\nconst itemTypesToShowInReverse = new Set([itemType.MILK])\n\nconst sortItemIdsByTypeAndValue = memoize(itemIds =>\n  sortBy(itemIds, [\n    id => Number(itemsMap[id].type !== itemType.CROP),\n    id => {\n      const { type, value } = itemsMap[id]\n      return itemTypesToShowInReverse.has(type) ? -value : value\n    },\n  ])\n)\n\n/**\n * @param {Array.<farmhand.item>} items\n * @return {Array.<farmhand.item>}\n */\nexport const sortItems = items => {\n  const map = {}\n  items.forEach(item => (map[item.id] = item))\n\n  return sortItemIdsByTypeAndValue(items.map(({ id }) => id)).map(id => map[id])\n}\n\n/**\n * @param {Array.<farmhand.item>} inventory\n * @returns {number}\n */\nexport const inventorySpaceConsumed = memoize(inventory =>\n  inventory.reduce((sum, { quantity }) => sum + quantity, 0)\n)\n\n/**\n * @param {{ inventory: Array.<farmhand.item>, inventoryLimit: number}} state\n * @returns {number}\n */\nexport const inventorySpaceRemaining = ({ inventory, inventoryLimit }) =>\n  inventoryLimit === -1\n    ? Infinity\n    : Math.max(0, inventoryLimit - inventorySpaceConsumed(inventory))\n\n/**\n * @param {{ inventory: Array.<farmhand.item>, inventoryLimit: number}} state\n * @returns {boolean}\n */\nexport const doesInventorySpaceRemain = ({ inventory, inventoryLimit }) =>\n  inventorySpaceRemaining({ inventory, inventoryLimit }) > 0\n\n/**\n * @param {Array.<farmhand.item>} inventory\n * @return {boolean}\n */\nexport const areHuggingMachinesInInventory = memoize(inventory =>\n  inventory.some(({ id }) => id === HUGGING_MACHINE_ITEM_ID)\n)\n\n/**\n * @param {number} arraySize\n * @returns {Array.<null>}\n */\nexport const nullArray = memoize(\n  arraySize => Object.freeze(new Array(arraySize).fill(null)),\n  {\n    cacheSize: 30,\n  }\n)\n\n/**\n * @param {Array.<farmhand.cow>} cowInventory\n * @param {string} id\n * @returns {farmhand.cow|undefined}\n */\nexport const findCowById = memoize((cowInventory, id) =>\n  cowInventory.find(cow => id === cow.id)\n)\n\n/**\n * @param {Object.<number>} itemsSold\n * @returns {number}\n */\nexport const farmProductsSold = memoize(itemsSold =>\n  Object.entries(itemsSold).reduce(\n    (sum, [itemId, numberSold]) =>\n      sum + (isItemAFarmProduct(itemsMap[itemId]) ? numberSold : 0),\n    0\n  )\n)\n\n/**\n * @param {number} farmProductsSold\n * @returns {number}\n */\nexport const levelAchieved = farmProductsSold =>\n  Math.floor(Math.sqrt(farmProductsSold) / 10) + 1\n\n/**\n * @param {number} targetLevel\n * @returns {number}\n */\nexport const farmProductSalesVolumeNeededForLevel = targetLevel =>\n  ((targetLevel - 1) * 10) ** 2\n\n/**\n * @param {number} levelNumber\n * @returns {Object} Contains `sprinklerRange` and keys that correspond to\n * unlocked items.\n */\nexport const getLevelEntitlements = memoize(levelNumber => {\n  const acc = {\n    sprinklerRange: INITIAL_SPRINKLER_RANGE,\n    items: {},\n    tools: {},\n  }\n\n  // Assumes that levels is sorted by id.\n  levels.find(\n    ({ unlocksShopItem, unlocksTool, id, increasesSprinklerRange }) => {\n      if (increasesSprinklerRange) {\n        acc.sprinklerRange++\n      }\n\n      if (unlocksShopItem) {\n        acc.items[unlocksShopItem] = true\n      }\n\n      if (unlocksTool) {\n        acc.tools[unlocksTool] = true\n      }\n\n      return id === levelNumber\n    }\n  )\n\n  return acc\n})\n\n/**\n * @param {Object} levelEntitlements\n * @returns {Array.<{ item: farmhand.item }>}\n */\nexport const getAvailableShopInventory = memoize(levelEntitlements =>\n  shopInventory.filter(\n    ({ id }) =>\n      !(\n        unlockableItems.hasOwnProperty(id) &&\n        !levelEntitlements.items.hasOwnProperty(id)\n      )\n  )\n)\n\n/**\n * @param {number} level\n * @returns {farmhand.item} Will always be a crop seed item.\n */\nexport const getRandomLevelUpReward = level =>\n  itemsMap[\n    chooseRandom(\n      filterItemIdsToSeeds(Object.keys(getLevelEntitlements(level).items))\n    )\n  ]\n\n/**\n * @param {number} level\n * @returns {number}\n */\nexport const getRandomLevelUpRewardQuantity = level => level * 10\n\n/**\n * @param {farmhand.state} state\n * @returns {Object} Data that is meant to be shared with Trystero peers.\n */\nexport const getPeerMetadata = state => {\n  const reducedState = PEER_METADATA_STATE_KEYS.reduce((acc, key) => {\n    acc[key] = state[key]\n\n    return acc\n  }, {})\n\n  Object.assign(reducedState, {\n    cowOfferedForTrade: state.cowInventory.find(\n      ({ id }) => id === state.cowIdOfferedForTrade\n    ),\n  })\n\n  return reducedState\n}\n\n/**\n * @param {Object} state\n * @returns {Object} A version of `state` that only contains keys of\n * farmhand.state data that should be persisted.\n */\nexport const reduceByPersistedKeys = state =>\n  PERSISTED_STATE_KEYS.reduce((acc, key) => {\n    // This check prevents old exports from corrupting game state when\n    // imported.\n    if (typeof state[key] !== 'undefined') {\n      acc[key] = state[key]\n    }\n\n    return acc\n  }, {})\n\n/**\n * @param {Array.<number>} historicalData Must be no longer than 7 numbers long.\n * @return {number}\n */\nexport const get7DayAverage = historicalData =>\n  historicalData.reduce((sum, revenue) => moneyTotal(sum, revenue), 0) /\n  DAILY_FINANCIAL_HISTORY_RECORD_LENGTH\n\nconst cowColorToIdMap = {\n  [cowColors.BLUE]: 'blue',\n  [cowColors.BROWN]: 'brown',\n  [cowColors.GREEN]: 'green',\n  [cowColors.ORANGE]: 'orange',\n  [cowColors.PURPLE]: 'purple',\n  [cowColors.RAINBOW]: 'rainbow',\n  [cowColors.WHITE]: 'white',\n  [cowColors.YELLOW]: 'yellow',\n}\n\nexport const getCowColorId = ({ color }) => `${cowColorToIdMap[color]}-cow`\n\n/**\n * @param {number} revenue\n * @param {number} losses\n * @return {number}\n */\nexport const getProfit = (revenue, losses) => moneyTotal(revenue, losses)\n\n/**\n * @param {number} recordSingleDayProfit\n * @param {number} todaysRevenue\n * @param {number} todaysLosses\n * @returns {number}\n */\nexport const getProfitRecord = (\n  recordSingleDayProfit,\n  todaysRevenue,\n  todaysLosses\n) => Math.max(recordSingleDayProfit, getProfit(todaysRevenue, todaysLosses))\n\n/**\n * @param {Object} todaysStartingInventory\n * @param {Object} todaysPurchases\n * @param {Array.<{ id: farmhand.item, quantity: number }>} inventory\n * @return {Object} Keys are item IDs, values are either 1 or -1.\n */\nexport const computeMarketPositions = (\n  todaysStartingInventory,\n  todaysPurchases,\n  inventory\n) =>\n  inventory.reduce((acc, { id, quantity: endingPosition }) => {\n    const startingInventory = todaysStartingInventory[id] || 0\n    const purchaseQuantity = todaysPurchases[id] || 0\n\n    if (!itemsMap[id].doesPriceFluctuate) {\n      return acc\n    }\n\n    if (startingInventory !== endingPosition) {\n      if (\n        endingPosition < startingInventory ||\n        endingPosition < purchaseQuantity\n      ) {\n        acc[id] = -1\n      } else if (\n        endingPosition > startingInventory ||\n        endingPosition > purchaseQuantity\n      ) {\n        acc[id] = 1\n      }\n    }\n\n    return acc\n  }, {})\n\n/**\n * @param {Object.<farmhand.module:enums.toolType, farmhand.module:enums.toolLevel>} currentToolLevels\n * @param {farmhand.module:enums.toolType} toolType\n * @returns {farmhand.state}\n */\nexport const unlockTool = (currentToolLevels, toolType) => {\n  if (currentToolLevels[toolType] === toolLevel.UNAVAILABLE) {\n    return Object.assign({}, currentToolLevels, {\n      [toolType]: toolLevel.DEFAULT,\n    })\n  }\n\n  return currentToolLevels\n}\n\n/**\n * @param {Farmhand.state} state\n * @return {Object}\n */\nexport const transformStateDataForImport = state => {\n  const sanitizedState = { ...state }\n  const { id } = sanitizedState\n\n  const rejectedKeys = ['version']\n  rejectedKeys.forEach(rejectedKey => delete sanitizedState[rejectedKey])\n\n  // Update old data models\n\n  if (sanitizedState.field) {\n    // Update plot data\n    sanitizedState.field = sanitizedState.field.map(row =>\n      row.map(plot => {\n        if (plot === null) {\n          return null\n        }\n\n        const { isFertilized, ...rest } = plot\n\n        return {\n          ...rest,\n\n          // Convert from isFertilized (boolean) to fertilizerType (enum)\n          fertilizerType:\n            rest.fertilizerType ||\n            (isFertilized ? fertilizerType.STANDARD : fertilizerType.NONE),\n        }\n      })\n    )\n  }\n\n  const { tools: unlockedTools } = getLevelEntitlements(\n    levelAchieved(farmProductsSold(sanitizedState.itemsSold))\n  )\n\n  for (const tool of Object.keys(unlockedTools)) {\n    sanitizedState.toolLevels = unlockTool(sanitizedState.toolLevels, tool)\n  }\n\n  if (\n    !sanitizedState.showHomeScreen &&\n    sanitizedState.stageFocus === stageFocusType.HOME\n  ) {\n    sanitizedState.stageFocus = stageFocusType.SHOP\n  }\n\n  // TODO: Remove these cowInventory and cowForSale transformations after\n  // 3/15/2023\n  sanitizedState.cowInventory = sanitizedState.cowInventory.map(cow => ({\n    ownerId: id,\n    originalOwnerId: id,\n    timesTraded: 0,\n    ...cow,\n  }))\n\n  sanitizedState.cowForSale = {\n    ownerId: '',\n    originalOwnerId: '',\n    timesTraded: 0,\n    ...sanitizedState.cowForSale,\n  }\n\n  return sanitizedState\n}\n\n/**\n * @param {string} playerId\n * @returns {string}\n */\nexport const getPlayerName = memoize(playerId => {\n  const playerIdNumber = convertStringToInteger(playerId)\n  const adjective = adjectives[playerIdNumber % adjectives.length]\n  const adjectiveNumberValue = convertStringToInteger(adjective)\n\n  const animal =\n    animalNames[(playerIdNumber + adjectiveNumberValue) % animalNames.length]\n\n  return `${adjective} ${animal}`\n})\n\n/**\n * @param {number} currentInventoryLimit\n * @returns {number}\n */\nexport const getCostOfNextStorageExpansion = currentInventoryLimit => {\n  const upgradesPurchased =\n    (currentInventoryLimit - INITIAL_STORAGE_LIMIT) / STORAGE_EXPANSION_AMOUNT\n\n  return (\n    STORAGE_EXPANSION_BASE_PRICE +\n    upgradesPurchased * STORAGE_EXPANSION_SCALE_PREMIUM\n  )\n}\n\n/**\n * Create a no-op Promise that resolves in a specified amount of time.\n * @returns {Promise}\n */\nexport const sleep = ms => new Promise(resolve => setTimeout(resolve, ms))\n\n// TODO: This needs to be used for rendering the values of items:\n// https://github.com/jeremyckahn/farmhand/issues/264\n//\n/**\n * @param {object} completedAchievements from game state\n * @returns {number} multiplier to be used for sales price adjustments based on completedAchievements\n */\nexport const getSalePriceMultiplier = (completedAchievements = {}) => {\n  let salePriceMultiplier = 1\n\n  if (completedAchievements['i-am-rich-3']) {\n    salePriceMultiplier += I_AM_RICH_BONUSES[2]\n  } else if (completedAchievements['i-am-rich-2']) {\n    salePriceMultiplier += I_AM_RICH_BONUSES[1]\n  } else if (completedAchievements['i-am-rich-1']) {\n    salePriceMultiplier += I_AM_RICH_BONUSES[0]\n  }\n\n  return salePriceMultiplier\n}\n\n/**\n * @param {Array} weightedOptions an array of objects each containing a `weight` property\n * @returns {Object} one of the items from weightedOptions\n */\nexport function randomChoice(weightedOptions) {\n  let totalWeight = 0\n  let sortedOptions = []\n\n  for (let option of weightedOptions) {\n    totalWeight += option.weight\n    sortedOptions.push(option)\n  }\n\n  sortedOptions.sort(o => o.weight)\n\n  let diceRoll = Math.random() * totalWeight\n  let option\n  let runningTotal = 0\n\n  for (let i in sortedOptions) {\n    option = sortedOptions[i]\n\n    if (diceRoll < option.weight + runningTotal) {\n      return option\n    }\n\n    runningTotal += option.weight\n  }\n}\n\nconst colorizeCowTemplate = (() => {\n  const cowImageWidth = 48\n  const cowImageHeight = 48\n  const cowImageFactoryCanvas = document.createElement('canvas')\n  cowImageFactoryCanvas.setAttribute('height', cowImageHeight)\n  cowImageFactoryCanvas.setAttribute('width', cowImageWidth)\n\n  const cachedCowImages = {}\n\n  // https://stackoverflow.com/a/5624139\n  const hexToRgb = memoize(hex => {\n    const [, r, g, b] = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\n\n    return {\n      r: parseInt(r, 16),\n      g: parseInt(g, 16),\n      b: parseInt(b, 16),\n    }\n  })\n\n  /**\n   * @param {string} cowTemplate Base64 representation of an image\n   * @param {string} color\n   * @returns {string} Base64 representation of an image\n   */\n  return async (cowTemplate, color) => {\n    if (color === cowColors.RAINBOW) return animals.cow.rainbow\n\n    const imageKey = `${color}_${cowTemplate}`\n\n    if (cachedCowImages[imageKey]) return cachedCowImages[imageKey]\n\n    try {\n      // `data:image/png;base64,` needs to be removed from the base64 string\n      // before being provided to Buffer.\n      // https://github.com/oliver-moran/jimp/issues/231#issuecomment-282167737\n      const cowTemplateBuffer = Buffer.from(\n        cowTemplate.split(',')[1] ?? '',\n        'base64'\n      )\n      const image = await Jimp.read(cowTemplateBuffer)\n\n      image.scan(0, 0, image.bitmap.width, image.bitmap.height, function(x, y) {\n        const { r, g, b } = Jimp.intToRGBA(image.getPixelColor(x, y))\n\n        // rgb(102, 102, 102) represents the color to replace in the template\n        // source images (#666).\n        if (r === 102 && g === 102 && b === 102) {\n          const cowColorRgb = hexToRgb(COW_COLORS_HEX_MAP[color])\n          const colorNumber = Jimp.rgbaToInt(\n            cowColorRgb.r,\n            cowColorRgb.g,\n            cowColorRgb.b,\n            255\n          )\n\n          image.setPixelColor(colorNumber, x, y)\n        }\n      })\n\n      cachedCowImages[imageKey] = await image.getBase64Async(Jimp.MIME_PNG)\n\n      return cachedCowImages[imageKey]\n    } catch (e) {\n      // Jimp.read() expectedly errors out when it receives an empty buffer,\n      // which it will in some unit tests.\n      if (process.env.NODE_ENV !== 'test') {\n        console.error(e)\n      }\n\n      return pixel\n    }\n  }\n})()\n\n/**\n * @param {farmhand.cow} cow\n * @returns {string} Base64 representation of an image\n */\nexport const getCowImage = async cow => {\n  const cowIdNumber = convertStringToInteger(cow.id)\n  const { variations } = animals.cow\n  const cowTemplate = variations[cowIdNumber % variations.length]\n\n  return await colorizeCowTemplate(cowTemplate, cow.color)\n}\n\n/**\n * Adapted from https://www.javascripttutorial.net/dom/css/check-if-an-element-is-visible-in-the-viewport/\n * @param {Element} element\n * @returns {boolean}\n */\nexport const isInViewport = element => {\n  const { top, left, bottom, right } = element.getBoundingClientRect()\n\n  return (\n    top >= 0 &&\n    left >= 0 &&\n    bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n    right <= (window.innerWidth || document.documentElement.clientWidth)\n  )\n}\n\n/**\n * @param {farmhand.cow} cow\n * @param {farmhand.cowBreedingPen} cowBreedingPen\n * @returns {boolean}\n */\nexport const isCowInBreedingPen = (cow, cowBreedingPen) =>\n  cowBreedingPen.cowId1 === cow.id || cowBreedingPen.cowId2 === cow.id\n\nexport { default as isRandomNumberLessThan } from './utils/isRandomNumberLessThan'\nexport { default as totalIngredientsInRecipe } from './utils/totalIngredientsInRecipe'\n","import { cowColors } from './enums'\n\nexport const PROGRESS_SAVED_MESSAGE = 'Progress saved!'\nexport const RAIN_MESSAGE = 'It rained in the night!'\nexport const STORM_MESSAGE = 'There was a storm in the night!'\nexport const STORM_DESTROYS_SCARECROWS_MESSAGE =\n  'There was a storm in the night! No scarecrows survived!'\nexport const FARM_PRODUCTS_TOOLTIP_TEXT =\n  'This figure only includes sales of grown crops, crafted items, and animal products.'\nexport const COW_SOLD_TOOLTIP_TEXT =\n  'This figure only includes cows you were not the original owner for.'\nexport const DATA_DELETED = 'Your local game data has been deleted.'\nexport const INVALID_DATA_PROVIDED = 'Invalid Farmhand data provided.'\nexport const UPDATE_AVAILABLE =\n  \"A game update is available! Click this message to reload and see what's new.\"\nexport const SERVER_ERROR =\n  \"There was an issue communicating with the server. You can keep playing offline, and you'll be reconnected as soon as things improve.\"\nexport const CONNECTING_TO_SERVER = 'Connecting...'\nexport const DISCONNECTING_FROM_SERVER = 'Disconnecting...'\nexport const DISCONNECTED_FROM_SERVER = 'You are now playing offline.'\nexport const REQUESTED_COW_TRADE_UNAVAILABLE =\n  'The requested cow is no longer available.'\nexport const UNKNOWN_COW_TRADE_FAILURE =\n  'Something went wrong with your cow trade request. Please try again!'\nexport const COW_ALREADY_OWNED = 'It looks like you already have this cow!'\nexport const OUT_OF_COW_FEED_NOTIFICATION =\n  \"You're out of cow feed! Buy some more before your cows get hungry and run away!\"\nexport const INVENTORY_FULL_NOTIFICATION = 'Your inventory is full!'\n\nexport const SHOVELED = 'Shoveled'\n\nexport const WATERING_CAN_ALT_TEXT = 'A watering can for hydrating plants.'\nexport const WATERING_CAN_HIDDEN_TEXT =\n  'Select the watering can to water your crops'\nexport const SCYTHE_ALT_TEXT = 'A scythe for crop harvesting.'\nexport const SCYTHE_HIDDEN_TEXT = 'Select the scythe to harvest ripened crops'\nexport const HOE_ALT_TEXT =\n  'A hoe for removing crops and disposing of them. Also returns replantable items to your inventory.'\nexport const HOE_HIDDEN_TEXT =\n  'Select the hoe to clear crops, or replantable field items'\nexport const SHOVEL_ALT_TEXT = 'A shovel for digging up rocks.'\nexport const SHOVEL_HIDDEN_TEXT = 'Select the shovel to dig for ore'\n\n// TODO: Implement all of these upgrades\nexport const TOOL_LEVEL_INFO = {\n  SCYTHE: {\n    DEFAULT: '**Basic**: Harvests one crop per plot.',\n    BRONZE: '**Bronze**: Harvests two crops per plot.',\n    IRON: '**Iron**: Harvests three crops per plot.',\n    SILVER: '**Silver**: Harvests four crops per plot.',\n    GOLD: '**Gold**: Harvests five crops per plot.',\n  },\n  SHOVEL: {\n    DEFAULT: '**Basic**: Has a 30% chance of digging up resources.',\n    BRONZE: '**Bronze**: Has a 40% chance of digging up resources.',\n    IRON: '**Iron**: Has a 50% chance of digging up resources.',\n    SILVER: '**Silver**: Has a 60% chance of digging up resources.',\n    GOLD: '**Gold**: Has a 70% chance of digging up resources.',\n  },\n  WATERING_CAN: {\n    DEFAULT: '**Basic**: Keeps plots watered for one day.',\n    BRONZE: '**Bronze**: Keeps plots watered for two days.',\n    IRON: '**Iron**: Keeps plots watered for three days.',\n    SILVER: '**Silver**: Keeps plots watered for four days.',\n    GOLD: '**Gold**: Keeps plots watered for five days.',\n  },\n  HOE: {\n    DEFAULT: '**Basic**: Destroys crops.',\n    BRONZE: '**Bronze**: 25% chance to retrieve seeds when digging up crops.',\n    IRON: '**Iron**: 50% chance to retrieve seeds when digging up crops.',\n    SILVER: '**Silver**: 75% chance to retrieve seeds when digging up crops.',\n    GOLD: '**Gold**: 100% chance to retrieve seeds when digging up crops.',\n  },\n}\n\nexport const FORGE_AVAILABLE_NOTIFICATION =\n  '**The Forge** is now available in the Workshop!'\n\nexport const COW_COLOR_NAMES = {\n  [cowColors.BLUE]: 'Blue',\n  [cowColors.BROWN]: 'Brown',\n  [cowColors.GREEN]: 'Green',\n  [cowColors.ORANGE]: 'Orange',\n  [cowColors.PURPLE]: 'Purple',\n  [cowColors.RAINBOW]: 'Rainbow',\n  [cowColors.WHITE]: 'White',\n  [cowColors.YELLOW]: 'Yellow',\n}\n","import { goldOre, ironOre, bronzeOre, silverOre } from '../data/ores'\nimport { randomChoice } from '../utils'\n\nconst SPAWNABLE_ORES = [goldOre, ironOre, bronzeOre, silverOre]\n\n/**\n * Resource factory used for spawning ores\n * @constructor\n */\nexport default class OreFactory {\n  constructor() {\n    this.oreOptions = []\n    for (let o of SPAWNABLE_ORES) {\n      this.oreOptions.push({\n        ore: o,\n        weight: o.spawnChance,\n      })\n    }\n  }\n\n  /**\n   * Generate resources\n   * @returns {Array} an array of ore resources\n   */\n  generate() {\n    return [this.spawn()]\n  }\n\n  /**\n   * Spawn a random ore\n   * @returns {Object} an object representing an ore\n   * @private\n   **/\n  spawn() {\n    const spawnedOption = randomChoice(this.oreOptions)\n    return spawnedOption.ore\n  }\n}\n","import { chooseRandom } from '../utils'\nimport { coal, stone } from '../data/ores'\n\n/**\n * Resource factory used for spawning coal\n * @constructor\n */\nexport default class CoalFactory {\n  /**\n   * Generate resources\n   * @returns {Array} an array of coal and stone resources\n   */\n  generate() {\n    let spawns = []\n\n    const amount = chooseRandom([1, 1, 1, 2, 3])\n\n    for (let i = 0; i < amount; i++) {\n      spawns.push(this.spawnCoal())\n    }\n\n    spawns.push(this.spawnStone())\n\n    return spawns\n  }\n\n  /**\n   * Spawn a piece of coal\n   * @returns {Object} coal item\n   * @private\n   */\n  spawnCoal() {\n    return coal\n  }\n\n  /**\n   * Spawn a piece of stone\n   * @returns {Object} stone item\n   * @private\n   */\n  spawnStone() {\n    return stone\n  }\n}\n","import { coal, stone } from '../data/ores'\nimport { COAL_SPAWN_CHANCE } from '../constants'\nimport { isRandomNumberLessThan } from '../utils'\n\n/**\n * Resource factory used for spawning stone\n * @constructor\n */\nexport default class StoneFactory {\n  /**\n   * Generate resources\n   * @returns {Array} an array of stone and coal resources\n   */\n  generate() {\n    let resources = []\n\n    resources.push(this.spawnStone())\n\n    if (isRandomNumberLessThan(COAL_SPAWN_CHANCE)) {\n      resources.push(this.spawnCoal())\n    }\n\n    return resources\n  }\n\n  /**\n   * Spawn a piece of stone\n   * @returns {Object} stone item\n   * @private\n   */\n  spawnStone() {\n    return stone\n  }\n\n  /**\n   * Spawn a piece of coal\n   * @returns {Object} coal item\n   * @private\n   */\n  spawnCoal() {\n    return coal\n  }\n}\n","import { itemType, toolLevel } from '../enums'\nimport {\n  RESOURCE_SPAWN_CHANCE,\n  ORE_SPAWN_CHANCE,\n  COAL_SPAWN_CHANCE,\n  STONE_SPAWN_CHANCE,\n} from '../constants'\nimport { isRandomNumberLessThan, randomChoice } from '../utils'\n\nimport OreFactory from './OreFactory'\nimport CoalFactory from './CoalFactory'\nimport StoneFactory from './StoneFactory'\n\n/**\n * Used for spawning mined resources\n * @constructor\n */\nexport default class ResourceFactory {\n  constructor() {\n    this.resourceOptions = [\n      { weight: ORE_SPAWN_CHANCE, itemType: itemType.ORE },\n      { weight: COAL_SPAWN_CHANCE, itemType: itemType.FUEL },\n      { weight: STONE_SPAWN_CHANCE, itemType: itemType.STONE },\n    ]\n  }\n\n  /**\n   * Object for internal cache of factory instances\n   * @static\n   */\n  static _factoryInstances = {}\n\n  /**\n   * Var for caching reference to instance of ResourceFactory\n   * @static\n   */\n  static _instance = null\n\n  /**\n   * Retrieve a reusable instance of ResourceFactory\n   * @returns {ResourceFactory}\n   * @static\n   */\n  static instance() {\n    if (!ResourceFactory._instance) {\n      ResourceFactory._instance = new ResourceFactory()\n    }\n\n    return ResourceFactory._instance\n  }\n\n  /**\n   * Generate an instance for specific factory\n   * @param {Number} type - an item type from itemType enum\n   * @returns {?Factory} returns a factory if one exists for type, default return is null\n   * @static\n   */\n  static generateFactoryInstance(type) {\n    switch (type) {\n      case itemType.STONE:\n        return new StoneFactory()\n\n      case itemType.FUEL:\n        return new CoalFactory()\n\n      case itemType.ORE:\n        return new OreFactory()\n\n      default:\n        return null\n    }\n  }\n\n  /**\n   * Retrieve a specific factory for generating resources. Will create and cache\n   * a factory instance for reuse.\n   * @param {Number} type - an item type from itemType enum\n   * @return {Factory}\n   * @static\n   */\n  static getFactoryForItemType = type => {\n    if (!ResourceFactory._factoryInstances[type]) {\n      ResourceFactory._factoryInstances[\n        type\n      ] = ResourceFactory.generateFactoryInstance(type)\n    }\n\n    return ResourceFactory._factoryInstances[type]\n  }\n\n  /**\n   * Use dice roll and resource factories to generate resources at random\n   * @returns {Array} array of resource objects\n   */\n  generateResources(shovelLevel) {\n    let resources = []\n    let spawnChance = RESOURCE_SPAWN_CHANCE\n\n    switch (shovelLevel) {\n      case toolLevel.BRONZE:\n        spawnChance += 0.1\n        break\n\n      case toolLevel.IRON:\n        spawnChance += 0.2\n        break\n\n      case toolLevel.SILVER:\n        spawnChance += 0.3\n        break\n\n      case toolLevel.GOLD:\n        spawnChance += 0.5\n        break\n\n      default:\n    }\n\n    if (isRandomNumberLessThan(spawnChance)) {\n      const opt = randomChoice(this.resourceOptions)\n      const factory = ResourceFactory.getFactoryForItemType(opt.itemType)\n\n      if (factory) {\n        resources = factory.generate()\n      }\n    }\n\n    return resources\n  }\n}\n","import { addItemToInventory } from '../game-logic/reducers'\nimport {\n  doesPlotContainCrop,\n  dollarString,\n  findInField,\n  getCropLifeStage,\n  getProfitRecord,\n  integerString,\n  memoize,\n  moneyTotal,\n  percentageString,\n} from '../utils'\nimport { cropLifeStage, standardCowColors } from '../enums'\nimport { COW_FEED_ITEM_ID, I_AM_RICH_BONUSES } from '../constants'\nimport { features } from '../config'\n\nimport { itemsMap } from './maps'\n\nconst { SEED } = cropLifeStage\n\nconst addMoney = (state, reward) => ({\n  ...state,\n  money: moneyTotal(state.money, reward),\n})\n\nconst sumOfCropsHarvested = memoize(cropsHarvested =>\n  Object.values(cropsHarvested).reduce(\n    (sum, cropHarvested) => sum + cropHarvested,\n    0\n  )\n)\n\nconst cowFeed = itemsMap[COW_FEED_ITEM_ID]\n\nconst achievements = [\n  ((reward = 100) => ({\n    id: 'plant-crop',\n    name: 'Plant a Crop',\n    description: 'Purchase a seed and plant it in the field.',\n    rewardDescription: dollarString(reward),\n    condition: state =>\n      findInField(\n        state.field,\n        plot => doesPlotContainCrop(plot) && getCropLifeStage(plot) === SEED\n      ),\n    reward: state => addMoney(state, reward),\n  }))(),\n\n  ((reward = 150) => ({\n    id: 'water-crop',\n    name: 'Water a Crop',\n    description: 'Water a crop that you planted.',\n    rewardDescription: dollarString(reward),\n    condition: state =>\n      findInField(\n        state.field,\n        plot => doesPlotContainCrop(plot) && plot.wasWateredToday\n      ),\n    reward: state => addMoney(state, reward),\n  }))(),\n\n  ((reward = 200) => ({\n    id: 'harvest-crop',\n    name: 'Harvest a Crop',\n    description: 'Harvest a crop that you planted.',\n    rewardDescription: dollarString(reward),\n    condition: state => sumOfCropsHarvested(state.cropsHarvested) >= 1,\n    reward: state => addMoney(state, reward),\n  }))(),\n\n  ((goal = 10000) => ({\n    id: 'unlock-crop-price-guide',\n    name: 'Prove Yourself as a Farmer',\n    description: `Show that you can run a farm by earning at least ${dollarString(\n      goal\n    )}. Proven farmers get access to the Crop Price Guide, an invaluable tool for making better buying and selling decisions!`,\n    rewardDescription: 'Crop Price Guide',\n    condition: state => state.revenue >= goal,\n    // Reward is a no-op for this achievement. The value of\n    // state.completedAchievements['unlock-crop-price-guide'] (which is\n    // automatically set to `true` in the achievement processing logic) is used\n    // to gate the price guides.\n    reward: state => state,\n  }))(),\n\n  ((reward = 15) => ({\n    id: 'purchase-cow-pen',\n    name: 'Purchase a Cow Pen',\n    description:\n      'Construct any size cow pen to let your bovine buddies moo-ve on in!',\n    rewardDescription: `${reward} units of ${cowFeed.name}`,\n    condition: state => state.purchasedCowPen > 0,\n    reward: state => addItemToInventory(state, cowFeed, reward, true),\n  }))(),\n\n  ((reward = 100) => ({\n    id: 'purchase-all-cow-colors',\n    name: 'Cows of Many Colors',\n    description: 'Show that you love all cows and purchase one of every color.',\n    rewardDescription: `${reward} units of ${cowFeed.name}`,\n    condition: state =>\n      Object.values(standardCowColors).every(\n        color => state.cowColorsPurchased[color] > 0\n      ),\n    reward: state => addItemToInventory(state, cowFeed, reward, true),\n  }))(),\n\n  ((goal = 5000, reward = 25) => ({\n    id: 'daily-profit-1',\n    name: `Daily profit: ${dollarString(goal)}`,\n    description: `Earn ${dollarString(goal)} of profit in a single day.`,\n    rewardDescription: `${reward} units of ${itemsMap.fertilizer.name}`,\n    condition: state =>\n      getProfitRecord(\n        state.recordSingleDayProfit,\n        state.todaysRevenue,\n        state.todaysLosses\n      ) >= goal,\n    reward: state =>\n      addItemToInventory(state, itemsMap.fertilizer, reward, true),\n  }))(),\n\n  ((goal = 15000, reward = 50) => ({\n    id: 'daily-profit-2',\n    name: `Daily profit: ${dollarString(goal)}`,\n    description: `Earn ${dollarString(goal)} of profit in a single day.`,\n    rewardDescription: `${reward} units of ${itemsMap['onion-seed'].name}`,\n    condition: state =>\n      getProfitRecord(\n        state.recordSingleDayProfit,\n        state.todaysRevenue,\n        state.todaysLosses\n      ) >= goal,\n    reward: state =>\n      addItemToInventory(state, itemsMap['onion-seed'], reward, true),\n  }))(),\n\n  ((goal = 50000, reward = 100) => ({\n    id: 'daily-profit-3',\n    name: `Daily profit: ${dollarString(goal)}`,\n    description: `Earn ${dollarString(goal)} of profit in a single day.`,\n    rewardDescription: `${reward} units of ${itemsMap['tomato-seed'].name}`,\n    condition: state =>\n      getProfitRecord(\n        state.recordSingleDayProfit,\n        state.todaysRevenue,\n        state.todaysLosses\n      ) >= goal,\n    reward: state =>\n      addItemToInventory(state, itemsMap['tomato-seed'], reward, true),\n  }))(),\n\n  ((goal = 2500, reward = 35, rewardItem = itemsMap['pumpkin-seed']) => ({\n    id: 'profit-average-1',\n    name: `7-day profit average: ${dollarString(goal)}`,\n    description: `Reach a 7-day profit average of ${dollarString(goal)}.`,\n    rewardDescription: `${reward} units of ${rewardItem.name}`,\n    condition: state => state.record7dayProfitAverage >= goal,\n    reward: state => addItemToInventory(state, rewardItem, reward, true),\n  }))(),\n\n  ((goal = 10000, reward = 100, rewardItem = itemsMap['potato-seed']) => ({\n    id: 'profit-average-2',\n    name: `7-day profit average: ${dollarString(goal)}`,\n    description: `Reach a 7-day profit average of ${dollarString(goal)}.`,\n    rewardDescription: `${reward} units of ${rewardItem.name}`,\n    condition: state => state.record7dayProfitAverage >= goal,\n    reward: state => addItemToInventory(state, rewardItem, reward, true),\n  }))(),\n\n  ((goal = 25000, reward = 250, rewardItem = itemsMap['soybean-seed']) => ({\n    id: 'profit-average-3',\n    name: `7-day profit average: ${dollarString(goal)}`,\n    description: `Reach a 7-day profit average of ${dollarString(goal)}.`,\n    rewardDescription: `${reward} units of ${rewardItem.name}`,\n    condition: state => state.record7dayProfitAverage >= goal,\n    reward: state => addItemToInventory(state, rewardItem, reward, true),\n  }))(),\n\n  ((goal = 50000, reward = 300, rewardItem = itemsMap['chocolate-milk']) => ({\n    id: 'profit-average-4',\n    name: `7-day profit average: ${dollarString(goal)}`,\n    description: `Reach a 7-day profit average of ${dollarString(goal)}.`,\n    rewardDescription: `${reward} units of ${rewardItem.name}`,\n    condition: state => state.record7dayProfitAverage >= goal,\n    reward: state => addItemToInventory(state, rewardItem, reward, true),\n  }))(),\n\n  ((goal = 150000, reward = 500, rewardItem = itemsMap['rainbow-milk-3']) => ({\n    id: 'profit-average-5',\n    name: `7-day profit average: ${dollarString(goal)}`,\n    description: `Reach a 7-day profit average of ${dollarString(goal)}.`,\n    rewardDescription: `${reward} units of ${rewardItem.name}`,\n    condition: state => state.record7dayProfitAverage >= goal,\n    reward: state => addItemToInventory(state, rewardItem, reward, true),\n  }))(),\n\n  ((goal = 1000000, reward = 1000, rewardItem = itemsMap['rainbowCheese']) => ({\n    id: 'profit-average-6',\n    name: `7-day profit average: ${dollarString(goal)}`,\n    description: `Reach a 7-day profit average of ${dollarString(goal)}.`,\n    rewardDescription: `${reward} units of ${rewardItem.name}`,\n    condition: state => state.record7dayProfitAverage >= goal,\n    reward: state => addItemToInventory(state, rewardItem, reward, true),\n  }))(),\n\n  ((\n    goal = 10000,\n    goalItem = itemsMap['milk-3'],\n    reward = 5000,\n    rewardItem = itemsMap['fertilizer']\n  ) => ({\n    id: 'sale-goal-1',\n    name: `Dairy Master`,\n    description: `Sell ${integerString(goal)} units of ${goalItem.name}.`,\n    rewardDescription: `${integerString(reward)} ${rewardItem.name} units`,\n    condition: state => state.itemsSold[goalItem.id] >= goal,\n    reward: state => addItemToInventory(state, rewardItem, reward, true),\n  }))(),\n\n  ((\n    goal = 1000,\n    goalItem = itemsMap['rainbow-milk-2'],\n    reward = 500,\n    rewardItem = itemsMap['scarecrow']\n  ) => ({\n    id: 'sale-goal-2',\n    name: `A Big Average Rainbow`,\n    description: `Sell ${integerString(goal)} units of ${goalItem.name}.`,\n    rewardDescription: `${integerString(reward)} ${rewardItem.name} units`,\n    condition: state => state.itemsSold[goalItem.id] >= goal,\n    reward: state => addItemToInventory(state, rewardItem, reward, true),\n  }))(),\n\n  ((goal = 10000, goalItem = itemsMap['burger'], reward = 5000) => ({\n    id: 'sale-goal-3',\n    name: `Burger Master`,\n    description: `Sell ${integerString(goal)} ${goalItem.name} units.`,\n    rewardDescription: `${integerString(reward)} additional inventory spaces`,\n    condition: state => state.itemsSold[goalItem.id] >= goal,\n    reward: state => ({\n      ...state,\n      inventoryLimit: state.inventoryLimit + reward,\n    }),\n  }))(),\n\n  ((goal = 500000) => ({\n    id: 'i-am-rich-1',\n    name: 'I am Rich!',\n    description: `Earn ${dollarString(goal)}.`,\n    rewardDescription: `All sales receive a ${percentageString(\n      I_AM_RICH_BONUSES[0]\n    )} bonus`,\n    condition: state => state.revenue >= goal,\n    reward: state => state,\n  }))(),\n\n  ((goal = 1000000) => ({\n    id: 'i-am-rich-2',\n    name: 'Millionaire',\n    description: `Earn ${dollarString(goal)}.`,\n    rewardDescription: `All sales receive a ${percentageString(\n      I_AM_RICH_BONUSES[1]\n    )} bonus`,\n    condition: state => state.revenue >= goal,\n    reward: state => state,\n  }))(),\n\n  ((goal = 1000000000) => ({\n    id: 'i-am-rich-3',\n    name: 'Billionaire',\n    description: `Earn ${dollarString(goal)}.`,\n    rewardDescription: `All sales receive a ${percentageString(\n      I_AM_RICH_BONUSES[2]\n    )} bonus`,\n    condition: state => state.revenue >= goal,\n    reward: state => state,\n  }))(),\n]\n\nif (features.MINING) {\n  achievements.push(\n    Object.assign(\n      {},\n      {\n        id: 'gold-digger',\n        name: 'Gold Digger',\n        description: `Dig up your first piece of gold.`,\n        rewardDescription: `A Gold Ingot`,\n        condition: state => !!state.inventory.find(i => i.id === 'gold-ore'),\n        reward: state => {\n          return addItemToInventory(state, itemsMap['gold-ingot'], 1, true)\n        },\n      }\n    )\n  )\n}\n\nexport default achievements\n\nexport const achievementsMap = achievements.reduce((acc, achievement) => {\n  acc[achievement.id] = achievement\n\n  return acc\n}, {})\n","import { itemsMap } from '../data/maps'\n\n/**\n * @param {farmhand.priceEvent} [priceCrashes]\n * @param {farmhand.priceEvent} [priceSurges]\n * @returns {Object}\n */\nexport const generateValueAdjustments = (priceCrashes = {}, priceSurges = {}) =>\n  Object.keys(itemsMap).reduce((acc, key) => {\n    if (itemsMap[key].doesPriceFluctuate) {\n      if (priceCrashes[key]) {\n        acc[key] = 0.5\n      } else if (priceSurges[key]) {\n        acc[key] = 1.5\n      } else {\n        acc[key] = Math.random() + 0.5\n      }\n    }\n\n    return acc\n  }, {})\n","/**\n * @module farmhand.templates\n * @ignore\n */\n\nimport {\n  getCowDisplayName,\n  getRandomLevelUpRewardQuantity,\n  integerString,\n  moneyString,\n} from './utils'\n\nimport { itemUnlockLevels, levels } from './data/levels'\nimport { itemsMap } from './data/maps'\n\n/**\n * @param {farmhand.crop} crop\n * @returns {string}\n */\nexport const CROW_ATTACKED = (_, crop) => `Oh no a crow ate your ${crop.name}!`\n\n/**\n * @param {number} cows\n * @returns {string}\n */\nexport const COW_PEN_PURCHASED = (_, cows) =>\n  `Purchased a cow pen with capacity for ${cows} cows! You can visit your cow pen by going to the \"Cows\" page.`\n\n/**\n * @param {Object.<string, number>} milksProduced\n * @returns {string}\n */\nexport const MILKS_PRODUCED = (_, milksProduced) => {\n  let message = `Your cows produced milk:\n`\n\n  Object.keys(milksProduced)\n    .sort()\n    .forEach(\n      milkName =>\n        (message += `  - ${milksProduced[milkName]} ${milkName}${\n          milksProduced[milkName] > 1 ? 's' : ''\n        }\n`)\n    )\n\n  return message\n}\n\n/**\n * @param {Object.<string, number>} fertilizersProduced\n * @returns {string}\n */\nexport const FERTILIZERS_PRODUCED = (_, fertilizersProduced) => {\n  let message = `Your cows produced fertilizer:\n`\n\n  Object.keys(fertilizersProduced)\n    .sort()\n    .forEach(\n      fertilizerName =>\n        (message += `  - ${\n          fertilizersProduced[fertilizerName]\n        } ${fertilizerName}${fertilizersProduced[fertilizerName] > 1 ? 's' : ''}\n`)\n    )\n\n  return message\n}\n\n/**\n * @param {farmhand.cow} cow\n * @returns {string}\n */\nexport const COW_ATTRITION_MESSAGE = (_, { name }) =>\n  `${name} got hungry from being underfed and ran away!`\n\n/**\n * @param {farmhand.cow} parentCow1\n * @param {farmhand.cow} parentCow2\n * @param {farmhand.cow} offspringCow\n * @returns {string}\n */\nexport const COW_BORN_MESSAGE = (_, parentCow1, parentCow2, offspringCow) =>\n  `${parentCow1.name} and ${parentCow2.name} had a baby: ${offspringCow.name}! Welcome to the world, ${offspringCow.name}!`\n\n/**\n * @param {farmhand.recipe} recipe\n * @returns {string}\n */\nexport const RECIPE_LEARNED = (_, recipe) =>\n  `You learned a new recipe: **${recipe.name}**!`\n\nexport const RECIPES_LEARNED = (_, learnedRecipes) => {\n  let recipesString = ''\n  const learnedRecipeNames = learnedRecipes.map(({ name }) => name)\n\n  if (learnedRecipes.length === 2) {\n    recipesString = `**${learnedRecipeNames[0]}** and **${learnedRecipeNames[1]}**`\n  } else if (learnedRecipes.length > 2) {\n    recipesString = `**${learnedRecipeNames\n      .slice(0, -1)\n      .join(', ')},** and **${learnedRecipeNames.slice(-1)}**`\n  }\n\n  return `You learned the recipes for ${recipesString}!`\n}\n\n/**\n * @param {farmhand.item} cropItem\n * @returns {string}\n */\nexport const PRICE_CRASH = (_, { name }) =>\n  `${name} prices have bottomed out! Avoid selling them until prices return to normal.`\n\n/**\n * @param {farmhand.item} cropItem\n * @returns {string}\n */\nexport const PRICE_SURGE = (_, { name }) =>\n  `${name} prices are at their peak! Now is the time to sell!`\n\n/**\n * @param {farmhand.achievement} achievement\n * @returns {string}\n */\nexport const ACHIEVEMENT_COMPLETED = (_, { name, rewardDescription }) =>\n  `You achieved \"${name}!\" Way to go!\n\nYou earned: ${rewardDescription}`\n\n/**\n * @returns {string}\n */\nexport const LOAN_PAYOFF = () =>\n  `You paid off your loan to the bank! You're finally free!`\n\n/**\n * @param {number} loanBalance\n * @returns {string}\n */\nexport const LOAN_INCREASED = (_, loanBalance) =>\n  `You took out a new loan. Your current balance is ${moneyString(\n    loanBalance\n  )}.`\n\n/**\n * @param {number} loanBalance\n * @returns {string}\n */\nexport const LOAN_BALANCE_NOTIFICATION = (_, loanBalance) =>\n  `Your loan balance has grown to ${moneyString(loanBalance)}.`\n\n/**\n * @param {number} newLevel\n * @param {farmhand.item} [randomCropSeed]\n * @returns {string}\n */\nexport const LEVEL_GAINED_NOTIFICATION = (_, newLevel, randomCropSeed) => {\n  let chunks = [\n    `You reached **level ${newLevel}!** Way to go!\n\n`,\n  ]\n\n  const levelObject = levels[newLevel]\n\n  if (itemUnlockLevels[newLevel]) {\n    chunks.push(\n      `Now available in the shop: **${\n        itemsMap[itemUnlockLevels[newLevel]].name\n      }**.`\n    )\n  } else if (levelObject && levelObject.increasesSprinklerRange) {\n    chunks.push(`Sprinkler range has increased.`)\n  } else if (randomCropSeed) {\n    chunks.push(\n      `You got **${getRandomLevelUpRewardQuantity(newLevel)} units of ${\n        randomCropSeed.name\n      }** as a reward!`\n    )\n  } else if (levelObject && levelObject.unlocksTool) {\n    // todo: there is only one tool that can be unlocked currently, but this is a bit\n    // short-sighted if we ever introduce other tool unlocks\n    chunks.push(`You've unlocked a new tool for the field, The **Shovel**!`)\n  }\n\n  return chunks.join(' ')\n}\n\n/**\n * @param {string} room\n * @returns {string}\n */\nexport const CONNECTED_TO_ROOM = (_, room) => `Connected to room **${room}**!`\n\n/**\n * @param {string} who\n * @param {Object} positions\n * @returns {string}\n */\nexport const POSITIONS_POSTED_NOTIFICATION = (_, who, positions) => {\n  const positivePositions = []\n  const negativePositions = []\n  const positionKeys = Object.keys(positions)\n\n  positionKeys.forEach(itemId =>\n    (positions[itemId] > 0 ? positivePositions : negativePositions).push(itemId)\n  )\n\n  const chunks = positionKeys.length ? [`${who} impacted the market!\\n`] : []\n\n  if (positivePositions.length) {\n    chunks.push('Values raised:')\n    positivePositions.forEach(itemId =>\n      chunks.push(`  - ${itemsMap[itemId].name}`)\n    )\n  }\n\n  if (negativePositions.length) {\n    if (positivePositions.length) {\n      chunks.push('') // Adds a necessary linebreak\n    }\n\n    chunks.push('Values lowered:')\n    negativePositions.forEach(itemId =>\n      chunks.push(`  - ${itemsMap[itemId].name}`)\n    )\n  }\n\n  return chunks.join('\\n')\n}\n\n/**\n * @param {string} room\n * @param {string} nextRoom\n * @returns {string}\n */\nexport const ROOM_FULL_NOTIFICATION = (_, room, nextRoom) =>\n  `Room **${room}** is full! Trying room **${nextRoom}**...`\n\n/**\n * @param {number} quantity\n * @param {farmhand.item} item\n * @returns {string}\n */\nexport const PURCHASED_ITEM_PEER_NOTIFICATION = (_, quantity, { name }) =>\n  `purchased ${integerString(quantity)} unit${\n    quantity > 1 ? 's' : ''\n  } of ${name}.`\n\n/**\n * @param {number} quantity\n * @param {farmhand.item} item\n * @returns {string}\n */\nexport const SOLD_ITEM_PEER_NOTIFICATION = (_, quantity, { name }) =>\n  `sold ${integerString(quantity)} unit${quantity > 1 ? 's' : ''} of ${name}.`\n\n/**\n * @param {string} toolName - the name of the tool being replaced\n * @param {string} upgradedName - the new name of the tool\n */\nexport const TOOL_UPGRADED_NOTIFICATION = (_, toolName, upgradedName) =>\n  `Your ${toolName} has been upgraded to a **${upgradedName}**!`\n\nexport const INGREDIENTS_LIST_ITEM = (\n  _,\n  ingredientName,\n  quantityNeeded,\n  quantityAvailable\n) => `${ingredientName} x ${quantityNeeded} (On hand: ${quantityAvailable})`\n\n/**\n * @param {string} cowDisplayName\n * @returns {string}\n */\nexport const OFFER_COW_FOR_TRADE = (_, cowDisplayName) =>\n  `Offer ${cowDisplayName} for trade with online players`\n\n/**\n * @param {string} cowDisplayName\n * @returns {string}\n */\nexport const WITHDRAW_COW_FROM_TRADE = (_, cowDisplayName) =>\n  `Keep ${cowDisplayName} from being traded`\n\n/**\n * @param {farmhand.cow} cowTradedAway\n * @param {farmhand.cow} cowReceived\n * @param {string} playerId\n * @param {boolean} allowCustomPeerCowNames\n * @returns {string}\n */\nexport const COW_TRADED_NOTIFICATION = (\n  _,\n  cowTradedAway,\n  cowReceived,\n  playerId,\n  allowCustomPeerCowNames\n) =>\n  `You traded ${getCowDisplayName(\n    cowTradedAway,\n    playerId,\n    allowCustomPeerCowNames\n  )} for ${getCowDisplayName(cowReceived, playerId, allowCustomPeerCowNames)}!`\n","/**\n * @module farmhand.reducers\n * @ignore\n */\n\nimport { itemsMap, recipesMap } from '../data/maps'\nimport { levels } from '../data/levels'\nimport { ResourceFactory } from '../factories'\nimport achievements from '../data/achievements'\nimport upgrades from '../data/upgrades'\nimport {\n  areHuggingMachinesInInventory,\n  canMakeRecipe,\n  castToMoney,\n  chooseRandom,\n  clampNumber,\n  doesInventorySpaceRemain,\n  farmProductsSold,\n  filterItemIdsToSeeds,\n  findCowById,\n  findInField,\n  generateCow,\n  generateOffspringCow,\n  get7DayAverage,\n  getAdjustedItemValue,\n  getCostOfNextStorageExpansion,\n  getCowColorId,\n  getCowFertilizerItem,\n  getCowFertilizerProductionRate,\n  getCowMilkItem,\n  getCowMilkRate,\n  getCowValue,\n  getCropFromItemId,\n  getCropLifeStage,\n  getFinalCropItemIdFromSeedItemId,\n  getInventoryQuantityMap,\n  getLevelEntitlements,\n  getPlotContentFromItemId,\n  getPlotContentType,\n  getPriceEventForCrop,\n  getProfit,\n  getRandomLevelUpReward,\n  getRandomLevelUpRewardQuantity,\n  getRandomUnlockedCrop,\n  getRangeCoords,\n  getResaleValue,\n  getSalePriceMultiplier,\n  getSeedItemIdFromFinalStageCropItemId,\n  inventorySpaceRemaining,\n  isItemAFarmProduct,\n  isItemSoldInShop,\n  isRandomNumberLessThan,\n  levelAchieved,\n  moneyTotal,\n  nullArray,\n  unlockTool,\n} from '../utils'\nimport { generateValueAdjustments } from '../common/utils'\nimport {\n  COW_FEED_ITEM_ID,\n  COW_GESTATION_PERIOD_DAYS,\n  COW_HUG_BENEFIT,\n  COW_MINIMUM_HAPPINESS_TO_BREED,\n  COW_WEIGHT_MULTIPLIER_FEED_BENEFIT,\n  COW_WEIGHT_MULTIPLIER_MAXIMUM,\n  COW_WEIGHT_MULTIPLIER_MINIMUM,\n  CROW_CHANCE,\n  DAILY_FINANCIAL_HISTORY_RECORD_LENGTH,\n  FERTILIZER_BONUS,\n  HOE_LEVEL_TO_SEED_RECLAIM_RATE,\n  HUGGING_MACHINE_ITEM_ID,\n  LOAN_GARNISHMENT_RATE,\n  LOAN_INTEREST_RATE,\n  MAX_ANIMAL_NAME_LENGTH,\n  MAX_DAILY_COW_HUG_BENEFITS,\n  MAX_LATEST_PEER_MESSAGES,\n  MAX_PENDING_PEER_MESSAGES,\n  NOTIFICATION_LOG_SIZE,\n  PRECIPITATION_CHANCE,\n  PRICE_EVENT_CHANCE,\n  PURCHASEABLE_COMBINES,\n  PURCHASEABLE_COW_PENS,\n  PURCHASEABLE_FIELD_SIZES,\n  PURCHASEABLE_SMELTERS,\n  SCARECROW_ITEM_ID,\n  SPRINKLER_ITEM_ID,\n  STORAGE_EXPANSION_AMOUNT,\n  STORM_CHANCE,\n} from '../constants'\nimport {\n  FORGE_AVAILABLE_NOTIFICATION,\n  INVENTORY_FULL_NOTIFICATION,\n  OUT_OF_COW_FEED_NOTIFICATION,\n  RAIN_MESSAGE,\n  STORM_MESSAGE,\n  STORM_DESTROYS_SCARECROWS_MESSAGE,\n} from '../strings'\nimport {\n  ACHIEVEMENT_COMPLETED,\n  COW_ATTRITION_MESSAGE,\n  COW_BORN_MESSAGE,\n  CROW_ATTACKED,\n  FERTILIZERS_PRODUCED,\n  LEVEL_GAINED_NOTIFICATION,\n  LOAN_BALANCE_NOTIFICATION,\n  LOAN_INCREASED,\n  LOAN_PAYOFF,\n  MILKS_PRODUCED,\n  PRICE_CRASH,\n  PRICE_SURGE,\n  PURCHASED_ITEM_PEER_NOTIFICATION,\n  SOLD_ITEM_PEER_NOTIFICATION,\n  TOOL_UPGRADED_NOTIFICATION,\n} from '../templates'\nimport {\n  cropLifeStage,\n  fertilizerType,\n  fieldMode,\n  itemType,\n  toolLevel,\n  toolType,\n} from '../enums'\n\nconst { FERTILIZE, OBSERVE, SET_SCARECROW, SET_SPRINKLER } = fieldMode\nconst { GROWN } = cropLifeStage\n\n///////////////////////////////////////////////////////////\n//\n// Local helper functions\n//\n///////////////////////////////////////////////////////////\n\n/**\n * @param {?farmhand.crop} crop\n * @returns {?farmhand.crop}\n */\nexport const incrementPlotContentAge = crop =>\n  crop && getPlotContentType(crop) === itemType.CROP\n    ? {\n        ...crop,\n        daysOld: crop.daysOld + 1,\n        daysWatered:\n          crop.daysWatered +\n          (crop.wasWateredToday\n            ? 1 +\n              (crop.fertilizerType === fertilizerType.NONE\n                ? 0\n                : FERTILIZER_BONUS)\n            : 0),\n      }\n    : crop\n\n/**\n * @param {?farmhand.plotContent} plotContent\n * @param {boolean} wasWateredToday\n * @returns {?farmhand.plotContent}\n */\nconst setWasWateredProperty = (plotContent, wasWateredToday) => {\n  if (plotContent === null) {\n    return null\n  }\n\n  return getPlotContentType(plotContent) === itemType.CROP\n    ? { ...plotContent, wasWateredToday }\n    : { ...plotContent }\n}\n\n/**\n * @param {?farmhand.plotContent} plotContent\n * @returns {?farmhand.plotContent}\n */\nexport const setWasWatered = plotContent =>\n  setWasWateredProperty(plotContent, true)\n\n/**\n * @param {?farmhand.plotContent} plotContent\n * @returns {?farmhand.plotContent}\n */\nexport const resetWasWatered = plotContent =>\n  setWasWateredProperty(plotContent, false)\n\n/**\n * @param {?farmhand.plotContent} plotContent\n * @returns {?farmhand.plotContent}\n */\nexport const resetWasShoveled = plotContent => {\n  if (plotContent && plotContent.isShoveled && plotContent.daysUntilClear > 1) {\n    return {\n      ...plotContent,\n      daysUntilClear: plotContent.daysUntilClear - 1,\n    }\n  }\n\n  return plotContent && !plotContent.isShoveled ? plotContent : null\n}\n\n/**\n * Invokes a function on every plot in a field.\n * @param {Array.<Array.<?farmhand.plotContent>>} field\n * @param {Function(?farmhand.plotContent)} modifierFn\n * @returns {Array.<Array.<?farmhand.plotContent>>}\n */\nconst updateField = (field, modifierFn) =>\n  field.map((row, y) => row.map((plot, x) => modifierFn(plot, x, y)))\n\n/**\n * @param {Array} chancesAndEvents An array of arrays in which the first\n * element is a number and the second number is a function.\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nconst applyChanceEvent = (chancesAndEvents, state) =>\n  chancesAndEvents.reduce(\n    (acc, [chance, fn]) => (Math.random() <= chance ? fn(acc) : acc),\n    state\n  )\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processWeather = state =>\n  applyChanceEvent([[PRECIPITATION_CHANCE, applyPrecipitation]], state)\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processNerfs = state => applyChanceEvent([[1, applyCrows]], state)\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.priceEvent} priceEvent\n * @param {string} priceEventKey Either 'priceCrashes' or 'priceSurges'\n * @returns {farmhand.state}\n */\nexport const createPriceEvent = (state, priceEvent, priceEventKey) => ({\n  [priceEventKey]: {\n    ...state[priceEventKey],\n    [priceEvent.itemId]: priceEvent,\n  },\n})\n\n/**\n * @param {farmhand.state} state\n * @param {number} oldLevel\n * @returns {farmhand.state}\n */\nexport const processLevelUp = (state, oldLevel) => {\n  const { itemsSold, selectedItemId } = state\n  const newLevel = levelAchieved(farmProductsSold(itemsSold))\n\n  // Loop backwards so that the notifications appear in descending order.\n  for (let i = newLevel; i > oldLevel; i--) {\n    const levelObject = levels[i] || {}\n\n    let randomCropSeed\n    // There is no predefined reward for this level up.\n    if (Object.keys(levelObject).length < 2) {\n      randomCropSeed = getRandomLevelUpReward(i)\n      state = addItemToInventory(\n        state,\n        randomCropSeed,\n        getRandomLevelUpRewardQuantity(i),\n        true\n      )\n    } else if (levelObject && levelObject.unlocksTool) {\n      state.toolLevels = unlockTool(state.toolLevels, levelObject.unlocksTool)\n    }\n    // This handles an edge case where the player levels up to level that\n    // unlocks greater sprinkler range, but the sprinkler item is already\n    // selected. In that case, update the hoveredPlotRangeSize state.\n    else if (\n      levelObject &&\n      levelObject.increasesSprinklerRange &&\n      selectedItemId === SPRINKLER_ITEM_ID\n    ) {\n      const { sprinklerRange } = getLevelEntitlements(\n        levelAchieved(farmProductsSold(itemsSold))\n      )\n\n      if (sprinklerRange > state.hoveredPlotRangeSize) {\n        state = {\n          ...state,\n          hoveredPlotRangeSize: sprinklerRange,\n        }\n      }\n    }\n\n    state = showNotification(\n      state,\n      LEVEL_GAINED_NOTIFICATION`${i}${randomCropSeed}`,\n      'success'\n    )\n  }\n\n  return state\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nconst adjustItemValues = state => ({\n  ...state,\n  historicalValueAdjustments: [state.valueAdjustments],\n  valueAdjustments: generateValueAdjustments(\n    state.priceCrashes,\n    state.priceSurges\n  ),\n})\n\n/**\n * @param {?farmhand.plotContent} plot\n * @returns {boolean}\n */\nconst plotContainsScarecrow = plot => plot && plot.itemId === SCARECROW_ITEM_ID\n\n/**\n * @param {Array.<Array.<?farmhand.plotContent>>} field\n * @returns {boolean}\n */\nconst fieldHasScarecrow = field => findInField(field, plotContainsScarecrow)\n\n///////////////////////////////////////////////////////////\n//\n// Exported reducers\n//\n///////////////////////////////////////////////////////////\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const applyPrecipitation = state => {\n  let { field } = state\n  let scarecrowsConsumedByReplanting = 0\n  let notification\n\n  if (Math.random() < STORM_CHANCE) {\n    if (fieldHasScarecrow(field)) {\n      notification = {\n        message: STORM_DESTROYS_SCARECROWS_MESSAGE,\n        severity: 'error',\n      }\n\n      let { scarecrow: scarecrowsInInventory = 0 } = getInventoryQuantityMap(\n        state.inventory\n      )\n\n      field = updateField(field, plot => {\n        if (!plotContainsScarecrow(plot)) {\n          return plot\n        }\n\n        if (\n          scarecrowsInInventory &&\n          plot.fertilizerType === fertilizerType.RAINBOW\n        ) {\n          scarecrowsInInventory--\n          scarecrowsConsumedByReplanting++\n\n          return plot\n        }\n\n        return null\n      })\n    } else {\n      notification = { message: STORM_MESSAGE, severity: 'info' }\n    }\n  } else {\n    notification = { message: RAIN_MESSAGE, severity: 'info' }\n  }\n\n  state = decrementItemFromInventory(\n    { ...state, field },\n    'scarecrow',\n    scarecrowsConsumedByReplanting\n  )\n\n  state = {\n    ...state,\n    newDayNotifications: [...state.newDayNotifications, notification],\n  }\n\n  state = waterField(state)\n\n  return state\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const applyCrows = state => {\n  const { field } = state\n  const newDayNotifications = [...state.newDayNotifications]\n\n  let notificationMessages = []\n\n  const updatedField = fieldHasScarecrow(field)\n    ? field\n    : updateField(field, plotContent => {\n        if (!plotContent || getPlotContentType(plotContent) !== itemType.CROP) {\n          return plotContent\n        }\n\n        const destroyCrop = Math.random() <= CROW_CHANCE\n\n        if (destroyCrop) {\n          notificationMessages.push(\n            CROW_ATTACKED`${itemsMap[plotContent.itemId]}`\n          )\n        }\n\n        return destroyCrop ? null : plotContent\n      })\n\n  if (notificationMessages.length) {\n    newDayNotifications.push({\n      message: notificationMessages.join('\\n\\n'),\n      severity: 'error',\n    })\n  }\n\n  return { ...state, field: updatedField, newDayNotifications }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processSprinklers = state => {\n  const { field, itemsSold } = state\n  const crops = new Map()\n  let modifiedField = [...field]\n\n  const { sprinklerRange } = getLevelEntitlements(\n    levelAchieved(farmProductsSold(itemsSold))\n  )\n\n  field.forEach((row, plotY) => {\n    row.forEach((plot, plotX) => {\n      if (!plot || getPlotContentType(plot) !== itemType.SPRINKLER) {\n        return\n      }\n\n      ;[]\n        .concat(\n          // Flatten this 2D array for less iteration below\n          ...getRangeCoords(sprinklerRange, plotX, plotY)\n        )\n        .forEach(({ x, y }) => {\n          const fieldRow = field[y]\n\n          if (!fieldRow) {\n            return\n          }\n\n          const plotContent = fieldRow[x]\n\n          if (\n            plotContent &&\n            getPlotContentType(plotContent) === itemType.CROP\n          ) {\n            if (!crops.has(plotContent)) {\n              modifiedField = modifyFieldPlotAt(\n                { ...state, field: modifiedField },\n                x,\n                y,\n                setWasWatered\n              ).field\n            }\n\n            crops.set(plotContent, { x, y })\n          }\n        })\n    })\n  })\n\n  return { ...state, field: modifiedField }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processFeedingCows = state => {\n  const cowInventory = [...state.cowInventory]\n  const { length: cowInventoryLength } = cowInventory\n  const newDayNotifications = [...state.newDayNotifications]\n  let inventory = [...state.inventory]\n\n  const cowFeedInventoryPosition = inventory.findIndex(\n    ({ id }) => id === COW_FEED_ITEM_ID\n  )\n\n  const cowFeed = inventory[cowFeedInventoryPosition]\n  const quantity = cowFeed ? cowFeed.quantity : 0\n\n  let unitsSpent = 0\n\n  for (let i = 0; i < cowInventoryLength; i++) {\n    const cow = cowInventory[i]\n    const anyUnitsRemain = unitsSpent < quantity\n\n    cowInventory[i] = {\n      ...cow,\n      weightMultiplier: clampNumber(\n        anyUnitsRemain\n          ? cow.weightMultiplier + COW_WEIGHT_MULTIPLIER_FEED_BENEFIT\n          : cow.weightMultiplier - COW_WEIGHT_MULTIPLIER_FEED_BENEFIT,\n        COW_WEIGHT_MULTIPLIER_MINIMUM,\n        COW_WEIGHT_MULTIPLIER_MAXIMUM\n      ),\n    }\n\n    if (anyUnitsRemain) {\n      unitsSpent++\n    }\n  }\n\n  if (quantity <= cowInventoryLength && cowInventoryLength > 0) {\n    newDayNotifications.push({\n      message: OUT_OF_COW_FEED_NOTIFICATION,\n      severity: 'error',\n    })\n  }\n\n  return decrementItemFromInventory(\n    { ...state, cowInventory, inventory, newDayNotifications },\n    COW_FEED_ITEM_ID,\n    unitsSpent\n  )\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processCowAttrition = state => {\n  const newDayNotifications = [...state.newDayNotifications]\n  const oldCowInventory = [...state.cowInventory]\n\n  for (let i = 0; i < oldCowInventory.length; i++) {\n    const cow = oldCowInventory[i]\n\n    if (\n      // Cast toFixed(2) to prevent IEEE 754 rounding errors.\n      Number(cow.weightMultiplier.toFixed(2)) === COW_WEIGHT_MULTIPLIER_MINIMUM\n    ) {\n      state = removeCowFromInventory(state, cow)\n\n      newDayNotifications.push({\n        message: COW_ATTRITION_MESSAGE`${cow}`,\n        severity: 'error',\n      })\n    }\n  }\n\n  return { ...state, newDayNotifications }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processMilkingCows = state => {\n  const cowInventory = [...state.cowInventory]\n  const newDayNotifications = [...state.newDayNotifications]\n  const { length: cowInventoryLength } = cowInventory\n  const milksProduced = {}\n\n  for (let i = 0; i < cowInventoryLength; i++) {\n    const cow = cowInventory[i]\n\n    if (cow.daysSinceMilking > getCowMilkRate(cow)) {\n      cowInventory[i] = { ...cow, daysSinceMilking: 0 }\n\n      const milk = getCowMilkItem(cow)\n      const { name } = milk\n\n      if (!doesInventorySpaceRemain(state)) {\n        break\n      }\n\n      milksProduced[name] = (milksProduced[name] || 0) + 1\n      state = addItemToInventory(state, milk)\n    }\n  }\n\n  if (Object.keys(milksProduced).length) {\n    newDayNotifications.push({\n      message: MILKS_PRODUCED`${milksProduced}`,\n      severity: 'success',\n    })\n  }\n\n  return { ...state, cowInventory, newDayNotifications }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processCowFertilizerProduction = state => {\n  const cowInventory = [...state.cowInventory]\n  const newDayNotifications = [...state.newDayNotifications]\n  const { length: cowInventoryLength } = cowInventory\n  const fertilizersProduced = {}\n\n  for (let i = 0; i < cowInventoryLength; i++) {\n    const cow = cowInventory[i]\n\n    if (\n      // `cow.daysSinceProducingFertilizer || 0` is needed because legacy cows\n      // did not define daysSinceProducingFertilizer.\n      (cow.daysSinceProducingFertilizer || 0) >\n      getCowFertilizerProductionRate(cow)\n    ) {\n      cowInventory[i] = { ...cow, daysSinceProducingFertilizer: 0 }\n\n      const fertilizer = getCowFertilizerItem(cow)\n      const { name } = fertilizer\n\n      if (!doesInventorySpaceRemain(state)) {\n        break\n      }\n\n      fertilizersProduced[name] = (fertilizersProduced[name] || 0) + 1\n      state = addItemToInventory(state, fertilizer)\n    }\n  }\n\n  if (Object.keys(fertilizersProduced).length) {\n    newDayNotifications.push({\n      message: FERTILIZERS_PRODUCED`${fertilizersProduced}`,\n      severity: 'success',\n    })\n  }\n\n  return { ...state, cowInventory, newDayNotifications }\n}\n\n/**\n * Only adds as many items as there is room in the inventory for unless\n * allowInventoryOverage is true.\n * @param {farmhand.state} state\n * @param {farmhand.item} item\n * @param {number} [howMany=1]\n * @param {boolean} [allowInventoryOverage=false]\n * @returns {farmhand.state}\n */\nexport const addItemToInventory = (\n  state,\n  item,\n  howMany = 1,\n  allowInventoryOverage = false\n) => {\n  const { id } = item\n  const inventory = [...state.inventory]\n\n  const numberOfItemsToAdd = allowInventoryOverage\n    ? howMany\n    : Math.min(howMany, inventorySpaceRemaining(state))\n\n  if (numberOfItemsToAdd === 0) {\n    return state\n  }\n\n  const currentItemSlot = inventory.findIndex(({ id: itemId }) => id === itemId)\n\n  if (~currentItemSlot) {\n    const currentItem = inventory[currentItemSlot]\n\n    inventory[currentItemSlot] = {\n      ...currentItem,\n      quantity: currentItem.quantity + numberOfItemsToAdd,\n    }\n  } else {\n    inventory.push({ id, quantity: numberOfItemsToAdd })\n  }\n\n  return { ...state, inventory }\n}\n\nconst fieldReducer = (acc, fn) => fn(acc)\nconst fieldUpdaters = [\n  incrementPlotContentAge,\n  resetWasWatered,\n  resetWasShoveled,\n]\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nconst processField = state => ({\n  ...state,\n  field: updateField(state.field, plotContent =>\n    fieldUpdaters.reduce(fieldReducer, plotContent)\n  ),\n})\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processCowBreeding = state => {\n  const {\n    cowBreedingPen,\n    cowInventory,\n    id,\n    newDayNotifications,\n    purchasedCowPen,\n  } = state\n  const { cowId1, cowId2 } = cowBreedingPen\n\n  if (!cowId2) {\n    return state\n  }\n\n  const cow1 = findCowById(cowInventory, cowId1)\n  const cow2 = findCowById(cowInventory, cowId2)\n\n  // Same-sex couples are as valid and wonderful as any, but in this game they\n  // cannot naturally produce offspring.\n  if (cow1.gender === cow2.gender) {\n    return state\n  }\n\n  const daysUntilBirth =\n    cow1.happiness >= COW_MINIMUM_HAPPINESS_TO_BREED &&\n    cow2.happiness >= COW_MINIMUM_HAPPINESS_TO_BREED\n      ? cowBreedingPen.daysUntilBirth - 1\n      : COW_GESTATION_PERIOD_DAYS\n\n  const shouldGenerateOffspring =\n    cowInventory.length < PURCHASEABLE_COW_PENS.get(purchasedCowPen).cows &&\n    daysUntilBirth === 0\n\n  let offspringCow =\n    shouldGenerateOffspring && generateOffspringCow(cow1, cow2, id)\n\n  return {\n    ...state,\n    cowInventory: shouldGenerateOffspring\n      ? [...cowInventory, offspringCow]\n      : cowInventory,\n    cowBreedingPen: {\n      ...cowBreedingPen,\n      daysUntilBirth: shouldGenerateOffspring\n        ? COW_GESTATION_PERIOD_DAYS\n        : daysUntilBirth,\n    },\n    newDayNotifications: offspringCow\n      ? [\n          ...newDayNotifications,\n          {\n            message: COW_BORN_MESSAGE`${cow1}${cow2}${offspringCow}`,\n            severity: 'success',\n          },\n        ]\n      : newDayNotifications,\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const computeCowInventoryForNextDay = state => ({\n  ...state,\n  cowInventory: state.cowInventory.map(cow => ({\n    ...cow,\n    daysOld: cow.daysOld + 1,\n    daysSinceMilking: cow.daysSinceMilking + 1,\n    // `cow.daysSinceProducingFertilizer || 0` is needed because legacy cows\n    // did not define daysSinceProducingFertilizer.\n    daysSinceProducingFertilizer: (cow.daysSinceProducingFertilizer || 0) + 1,\n    happiness: Math.max(\n      0,\n      cow.isUsingHuggingMachine\n        ? Math.min(\n            1,\n            cow.happiness + (MAX_DAILY_COW_HUG_BENEFITS - 1) * COW_HUG_BENEFIT\n          )\n        : cow.happiness - COW_HUG_BENEFIT\n    ),\n    happinessBoostsToday: cow.isUsingHuggingMachine\n      ? MAX_DAILY_COW_HUG_BENEFITS\n      : 0,\n\n    // TODO: This line is for backwards compatibility and can be removed after\n    // 10/1/2020.\n    isUsingHuggingMachine: Boolean(cow.isUsingHuggingMachine),\n  })),\n})\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const waterField = state => ({\n  ...state,\n  field: updateField(state.field, setWasWatered),\n})\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @param {Function(?farmhand.plotContent)} modifierFn\n * @returns {farmhand.state}\n */\nexport const modifyFieldPlotAt = (state, x, y, modifierFn) => {\n  const { field } = state\n  const row = [...field[y]]\n  const plotContent = modifierFn(row[x])\n  row[x] = plotContent\n  const modifiedField = [...field]\n  modifiedField[y] = row\n\n  return { ...state, field: modifiedField }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const removeFieldPlotAt = (state, x, y) =>\n  modifyFieldPlotAt(state, x, y, () => null)\n\n/**\n * @param {farmhand.state} state\n * @param {string} itemId\n * @param {number} [howMany=1]\n * @returns {farmhand.state}\n */\nexport const decrementItemFromInventory = (state, itemId, howMany = 1) => {\n  const inventory = [...state.inventory]\n  const itemInventoryIndex = inventory.findIndex(({ id }) => id === itemId)\n\n  if (itemInventoryIndex === -1) {\n    return state\n  }\n\n  const { quantity } = inventory[itemInventoryIndex]\n\n  if (quantity > howMany) {\n    inventory[itemInventoryIndex] = {\n      ...inventory[itemInventoryIndex],\n      quantity: quantity - howMany,\n    }\n  } else {\n    inventory.splice(itemInventoryIndex, 1)\n  }\n\n  return { ...state, inventory }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const rotateNotificationLogs = state => {\n  const notificationLog = [...state.notificationLog]\n\n  const { dayCount, newDayNotifications } = state\n\n  const notifications = {\n    error: [],\n    info: [],\n    success: [],\n    warning: [],\n  }\n\n  newDayNotifications.forEach(({ message, severity }) =>\n    notifications[severity].push(message)\n  )\n\n  newDayNotifications.length &&\n    notificationLog.unshift({\n      day: dayCount,\n      notifications,\n    })\n\n  notificationLog.length = Math.min(\n    notificationLog.length,\n    NOTIFICATION_LOG_SIZE\n  )\n\n  return { ...state, notificationLog }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const generatePriceEvents = state => {\n  const priceCrashes = { ...state.priceCrashes }\n  const priceSurges = { ...state.priceSurges }\n  let newDayNotifications = [...state.newDayNotifications]\n  let priceEvent\n\n  if (Math.random() < PRICE_EVENT_CHANCE) {\n    const { items: unlockedItems } = getLevelEntitlements(\n      levelAchieved(farmProductsSold(state.itemsSold))\n    )\n\n    const cropItem = getRandomUnlockedCrop(\n      filterItemIdsToSeeds(Object.keys(unlockedItems))\n    )\n    const { id } = cropItem\n\n    // Only create a priceEvent if one does not already exist\n    if (!priceCrashes[id] && !priceSurges[id]) {\n      const priceEventType =\n        Math.random() < 0.5 ? 'priceCrashes' : 'priceSurges'\n\n      priceEvent = createPriceEvent(\n        state,\n        getPriceEventForCrop(cropItem),\n        priceEventType\n      )\n\n      newDayNotifications.push(\n        priceEventType === 'priceCrashes'\n          ? {\n              message: PRICE_CRASH`${cropItem}`,\n              severity: 'warning',\n            }\n          : {\n              message: PRICE_SURGE`${cropItem}`,\n              severity: 'success',\n            }\n      )\n    }\n  }\n\n  return { ...state, ...priceEvent, newDayNotifications }\n}\n\n/**\n * @param {Object.<farmhand.priceEvent>} priceEvents\n * @returns {Object.<farmhand.priceEvent>}\n */\nconst decrementPriceEventDays = priceEvents =>\n  Object.keys(priceEvents).reduce((acc, key) => {\n    const { itemId, daysRemaining } = priceEvents[key]\n\n    if (daysRemaining > 1) {\n      acc[key] = { itemId, daysRemaining: daysRemaining - 1 }\n    }\n\n    return acc\n  }, {})\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const updatePriceEvents = state => {\n  const { priceCrashes, priceSurges } = state\n\n  return {\n    ...state,\n    priceCrashes: decrementPriceEventDays(priceCrashes),\n    priceSurges: decrementPriceEventDays(priceSurges),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const updateFinancialRecords = state => {\n  const {\n    profitabilityStreak,\n    todaysLosses,\n    todaysRevenue,\n    record7dayProfitAverage,\n    recordProfitabilityStreak,\n  } = state\n  let {\n    historicalDailyLosses,\n    historicalDailyRevenue,\n    recordSingleDayProfit,\n  } = state\n\n  historicalDailyLosses = [todaysLosses, ...historicalDailyLosses].slice(\n    0,\n    DAILY_FINANCIAL_HISTORY_RECORD_LENGTH\n  )\n\n  historicalDailyRevenue = [todaysRevenue, ...historicalDailyRevenue].slice(\n    0,\n    DAILY_FINANCIAL_HISTORY_RECORD_LENGTH\n  )\n\n  const profitAverage = get7DayAverage(\n    historicalDailyLosses.map((loss, i) =>\n      moneyTotal(historicalDailyRevenue[i], loss)\n    )\n  )\n\n  const wasTodayProfitable = todaysRevenue + todaysLosses > 0\n  const currentProfitabilityStreak = wasTodayProfitable\n    ? profitabilityStreak + 1\n    : 0\n\n  return {\n    ...state,\n    historicalDailyLosses,\n    historicalDailyRevenue,\n    profitabilityStreak: currentProfitabilityStreak,\n    record7dayProfitAverage: Math.max(record7dayProfitAverage, profitAverage),\n    recordProfitabilityStreak: Math.max(\n      recordProfitabilityStreak,\n      currentProfitabilityStreak\n    ),\n    recordSingleDayProfit: Math.max(\n      recordSingleDayProfit,\n      getProfit(todaysRevenue, todaysLosses)\n    ),\n    todaysLosses: 0,\n    todaysRevenue: 0,\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const updateInventoryRecordsForNextDay = state => ({\n  ...state,\n  todaysPurchases: {},\n  todaysStartingInventory: state.inventory.reduce((acc, { id, quantity }) => {\n    acc[id] = quantity\n    return acc\n  }, {}),\n})\n\nexport const applyLoanInterest = state => {\n  const loanBalance = moneyTotal(\n    state.loanBalance,\n    castToMoney(state.loanBalance * LOAN_INTEREST_RATE)\n  )\n\n  const newDayNotifications =\n    loanBalance > 0\n      ? [\n          ...state.newDayNotifications,\n          {\n            severity: 'warning',\n            message: LOAN_BALANCE_NOTIFICATION`${loanBalance}`,\n          },\n        ]\n      : state.newDayNotifications\n\n  return {\n    ...state,\n    loanBalance,\n    newDayNotifications,\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const computeStateForNextDay = (state, isFirstDay = false) =>\n  (isFirstDay\n    ? []\n    : [\n        computeCowInventoryForNextDay,\n        processCowBreeding,\n        processField,\n        processNerfs,\n        processWeather,\n        processSprinklers,\n        processFeedingCows,\n        processCowAttrition,\n        processMilkingCows,\n        processCowFertilizerProduction,\n        updatePriceEvents,\n        updateFinancialRecords,\n        updateInventoryRecordsForNextDay,\n        generatePriceEvents,\n        applyLoanInterest,\n        rotateNotificationLogs,\n      ]\n  )\n    .concat([adjustItemValues])\n    .reduce((acc, fn) => fn({ ...acc }), {\n      ...state,\n      cowForSale: generateCow(),\n      dayCount: state.dayCount + 1,\n      todaysNotifications: [],\n    })\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.item} item\n * @param {number} [howMany=1]\n * @returns {farmhand.state}\n */\nexport const purchaseItem = (state, item, howMany = 1) => {\n  const { money, todaysPurchases, valueAdjustments } = state\n  const numberOfItemsToAdd = Math.min(howMany, inventorySpaceRemaining(state))\n\n  if (numberOfItemsToAdd === 0) {\n    return state\n  }\n\n  const value = getAdjustedItemValue(valueAdjustments, item.id)\n  const totalValue = value * numberOfItemsToAdd\n\n  if (totalValue > money) {\n    return state\n  }\n\n  state = prependPendingPeerMessage(\n    state,\n    PURCHASED_ITEM_PEER_NOTIFICATION`${howMany}${item}`\n  )\n\n  return addItemToInventory(\n    {\n      ...state,\n      money: moneyTotal(money, -totalValue),\n      todaysPurchases: {\n        ...todaysPurchases,\n        [item.id]: (todaysPurchases[item.id] || 0) + numberOfItemsToAdd,\n      },\n    },\n    item,\n    numberOfItemsToAdd\n  )\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} revenue\n * @returns {farmhand.state}\n */\nconst addRevenue = (state, revenueToAdd) => {\n  const { money, revenue, todaysRevenue } = state\n\n  return {\n    ...state,\n    money: moneyTotal(money, revenueToAdd),\n    revenue: moneyTotal(revenue, revenueToAdd),\n    todaysRevenue: moneyTotal(todaysRevenue, revenueToAdd),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.item} item\n * @param {number} [howMany=1]\n * @returns {farmhand.state}\n */\nexport const sellItem = (state, { id }, howMany = 1) => {\n  if (howMany === 0) {\n    return state\n  }\n\n  const item = itemsMap[id]\n  const {\n    completedAchievements,\n    itemsSold,\n    money: initialMoney,\n    valueAdjustments,\n  } = state\n  const oldLevel = levelAchieved(farmProductsSold(itemsSold))\n  let { loanBalance } = state\n\n  const adjustedItemValue = isItemSoldInShop(item)\n    ? getResaleValue(item)\n    : getAdjustedItemValue(valueAdjustments, id)\n  const saleIsGarnished = isItemAFarmProduct(item)\n  let saleValue = 0\n  for (let i = 0; i < howMany; i++) {\n    const loanGarnishment = saleIsGarnished\n      ? Math.min(\n          loanBalance,\n          castToMoney(adjustedItemValue * LOAN_GARNISHMENT_RATE)\n        )\n      : 0\n    const garnishedProfit =\n      adjustedItemValue * getSalePriceMultiplier(completedAchievements) -\n      loanGarnishment\n    loanBalance = moneyTotal(loanBalance, -loanGarnishment)\n    saleValue = moneyTotal(saleValue, garnishedProfit)\n  }\n\n  if (saleIsGarnished) {\n    state = adjustLoan(state, moneyTotal(loanBalance, -state.loanBalance))\n  }\n\n  const newItemsSold = { ...itemsSold, [id]: (itemsSold[id] || 0) + howMany }\n\n  // money needs to be passed in explicitly here because state.money gets\n  // mutated above and addRevenue needs its initial value.\n  state = addRevenue({ ...state, money: initialMoney }, saleValue)\n\n  state = {\n    ...state,\n    itemsSold: newItemsSold,\n  }\n\n  state = processLevelUp(state, oldLevel)\n  state = decrementItemFromInventory(state, id, howMany)\n\n  state = prependPendingPeerMessage(\n    state,\n    SOLD_ITEM_PEER_NOTIFICATION`${howMany}${item}`,\n    'warning'\n  )\n\n  return updateLearnedRecipes(state)\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const updateLearnedRecipes = state => ({\n  ...state,\n  learnedRecipes: Object.keys(recipesMap).reduce((acc, recipeId) => {\n    if (recipesMap[recipeId].condition(state)) {\n      acc[recipeId] = true\n    }\n\n    return acc\n  }, {}),\n})\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.recipe} recipe\n * @param {number} [howMany=1]\n * @returns {farmhand.state}\n */\nexport const makeRecipe = (state, recipe, howMany = 1) => {\n  if (!canMakeRecipe(recipe, state.inventory, howMany)) {\n    return state\n  }\n\n  state = Object.keys(recipe.ingredients).reduce(\n    (state, ingredientId) =>\n      decrementItemFromInventory(\n        state,\n        ingredientId,\n        recipe.ingredients[ingredientId] * howMany\n      ),\n    state\n  )\n\n  return addItemToInventory(state, recipe, howMany)\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.upgrade} upgrade\n */\nexport const upgradeTool = (state, upgrade) => {\n  state = makeRecipe(state, upgrade)\n\n  const currentName =\n    upgrades[upgrade.toolType][state.toolLevels[upgrade.toolType]].name\n  state.toolLevels[upgrade.toolType] = upgrade.level\n\n  state = showNotification(\n    state,\n    TOOL_UPGRADED_NOTIFICATION`${currentName}${upgrade.name}`\n  )\n\n  return { ...state }\n}\n\n// TODO: Change showNotification to accept a configuration object instead of so\n// many formal parameters.\n/**\n * @param {farmhand.state} state\n * @param {string} message\n * @param {string} [severity] Corresponds to the `severity` prop here:\n * https://material-ui.com/api/alert/\n * @returns {farmhand.state}\n * @see https://material-ui.com/api/alert/\n */\nexport const showNotification = (\n  state,\n  message,\n  severity = 'info',\n  onClick = undefined\n) => {\n  const { showNotifications, todaysNotifications } = state\n\n  return {\n    ...state,\n    ...(showNotifications && {\n      latestNotification: {\n        message,\n        onClick,\n        severity,\n      },\n    }),\n    // Don't show redundant notifications\n    todaysNotifications: todaysNotifications.find(\n      notification => notification.message === message\n    )\n      ? todaysNotifications\n      : todaysNotifications.concat({ message, onClick, severity }),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @returns {farmhand.state}\n */\nexport const purchaseCow = (state, cow) => {\n  const { cowInventory, cowColorsPurchased, id, money, purchasedCowPen } = state\n  const { color } = cow\n  const cowValue = getCowValue(cow, false)\n\n  if (\n    money < cowValue ||\n    purchasedCowPen === 0 ||\n    cowInventory.length >= PURCHASEABLE_COW_PENS.get(purchasedCowPen).cows\n  ) {\n    return state\n  }\n\n  state = addCowToInventory(state, { ...cow, ownerId: id, originalOwnerId: id })\n\n  return {\n    ...state,\n    cowColorsPurchased: {\n      ...cowColorsPurchased,\n      [color]: (cowColorsPurchased[color] || 0) + 1,\n    },\n    money: moneyTotal(money, -cowValue),\n    cowForSale: generateCow(),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @returns {farmhand.state}\n */\nexport const addCowToInventory = (state, cow) => {\n  const { cowInventory } = state\n\n  return {\n    ...state,\n    cowInventory: [...cowInventory, cow],\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @returns {farmhand.state}\n */\nexport const sellCow = (state, cow) => {\n  const { cowsSold } = state\n  const cowColorId = getCowColorId(cow)\n  const cowValue = getCowValue(cow, true)\n\n  state = removeCowFromInventory(state, cow)\n  state = addRevenue(state, cowValue)\n\n  const newCowsSold = {\n    ...cowsSold,\n    [cowColorId]: (cowsSold[cowColorId] || 0) + 1,\n  }\n\n  state = { ...state, cowsSold: newCowsSold }\n\n  return state\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @returns {farmhand.state}\n */\nexport const removeCowFromInventory = (state, cow) => {\n  const cowInventory = [...state.cowInventory]\n  const { isUsingHuggingMachine } = cow\n\n  cowInventory.splice(cowInventory.indexOf(cow), 1)\n\n  if (isUsingHuggingMachine) {\n    state = addItemToInventory(state, itemsMap[HUGGING_MACHINE_ITEM_ID])\n  }\n\n  state = changeCowBreedingPenResident(state, cow, false)\n\n  return { ...state, cowInventory }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {string} cowId\n * @param {Function(farmhand.cow)} fn Must return the modified cow or\n * undefined.\n * @returns {farmhand.state}\n */\nexport const modifyCow = (state, cowId, fn) => {\n  const cowInventory = [...state.cowInventory]\n  const cow = cowInventory.find(({ id }) => id === cowId)\n  const cowIndex = cowInventory.indexOf(cow)\n\n  cowInventory[cowIndex] = {\n    ...cow,\n    ...fn(cow),\n  }\n\n  return {\n    ...state,\n    cowInventory,\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @param {boolean} doAutomaticallyHug\n * @returns {farmhand.state}\n */\nexport const changeCowAutomaticHugState = (state, cow, doAutomaticallyHug) => {\n  if (\n    (doAutomaticallyHug && !areHuggingMachinesInInventory(state.inventory)) ||\n    // TODO: This Boolean cast is needed for backwards compatibility. Remove it\n    // after 10/1/2020.\n    Boolean(cow.isUsingHuggingMachine) === doAutomaticallyHug\n  ) {\n    return state\n  }\n\n  state = modifyCow(state, cow.id, cow => ({\n    ...cow,\n    isUsingHuggingMachine: doAutomaticallyHug,\n  }))\n\n  state = doAutomaticallyHug\n    ? decrementItemFromInventory(state, HUGGING_MACHINE_ITEM_ID)\n    : addItemToInventory(state, itemsMap[HUGGING_MACHINE_ITEM_ID])\n\n  return state\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @param {boolean} doAdd If true, cow will be added to the breeding pen. If\n * false, they will be removed.\n * @returns {farmhand.state}\n */\nexport const changeCowBreedingPenResident = (state, cow, doAdd) => {\n  const { cowBreedingPen } = state\n  const { cowId1, cowId2 } = cowBreedingPen\n  const isPenFull = cowId1 !== null && cowId2 !== null\n  const isCowInPen = cowId1 === cow.id || cowId2 === cow.id\n  let newCowBreedingPen = { ...cowBreedingPen }\n\n  if (doAdd) {\n    if (isPenFull || isCowInPen) {\n      return state\n    }\n\n    const cowId = cowId1 === null ? 'cowId1' : 'cowId2'\n    newCowBreedingPen = { ...newCowBreedingPen, [cowId]: cow.id }\n  } else {\n    if (!isCowInPen) {\n      return state\n    }\n\n    if (cowId1 === cow.id) {\n      newCowBreedingPen = {\n        ...newCowBreedingPen,\n        cowId1: newCowBreedingPen.cowId2,\n      }\n    }\n\n    newCowBreedingPen = { ...newCowBreedingPen, cowId2: null }\n  }\n\n  return {\n    ...state,\n    cowBreedingPen: {\n      ...newCowBreedingPen,\n      daysUntilBirth: COW_GESTATION_PERIOD_DAYS,\n    },\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @param {string} plantableItemId\n * @returns {farmhand.state}\n */\nexport const plantInPlot = (state, x, y, plantableItemId) => {\n  if (\n    !plantableItemId ||\n    !state.inventory.some(({ id }) => id === plantableItemId)\n  ) {\n    return state\n  }\n\n  const { field } = state\n  const row = field[y]\n  const finalCropItemId = getFinalCropItemIdFromSeedItemId(plantableItemId)\n\n  if (row[x]) {\n    // Something is already planted in field[x][y]\n    return state\n  }\n\n  state = modifyFieldPlotAt(state, x, y, () =>\n    getCropFromItemId(finalCropItemId)\n  )\n\n  state = decrementItemFromInventory(state, plantableItemId)\n  state = processSprinklers(state)\n\n  return {\n    ...state,\n    selectedItemId: state.inventory.find(({ id }) => id === plantableItemId)\n      ? plantableItemId\n      : '',\n  }\n}\n\nconst fertilizerItemIdToTypeMap = {\n  [itemsMap['fertilizer'].id]: fertilizerType.STANDARD,\n  [itemsMap['rainbow-fertilizer'].id]: fertilizerType.RAINBOW,\n}\n\n/**\n * Assumes that state.selectedItemId references an item with type ===\n * itemType.FERTILIZER.\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const fertilizePlot = (state, x, y) => {\n  const { field, selectedItemId } = state\n  const row = field[y]\n  const plotContent = row[x]\n\n  if (!plotContent || itemsMap[selectedItemId]?.type !== itemType.FERTILIZER) {\n    return state\n  }\n\n  const { id: fertilizerItemId } = itemsMap[selectedItemId]\n\n  const fertilizerInventory = state.inventory.find(\n    item => item.id === fertilizerItemId\n  )\n\n  const plotContentType = getPlotContentType(plotContent)\n\n  if (\n    !plotContent ||\n    !fertilizerInventory ||\n    plotContent.fertilizerType !== fertilizerType.NONE ||\n    (selectedItemId === 'fertilizer' && plotContentType !== itemType.CROP) ||\n    (selectedItemId === 'rainbow-fertilizer' &&\n      plotContentType !== itemType.CROP &&\n      plotContentType !== itemType.SCARECROW)\n  ) {\n    return state\n  }\n\n  const { quantity: initialFertilizerQuantity } = fertilizerInventory\n  state = decrementItemFromInventory(state, fertilizerItemId)\n  const doFertilizersRemain = initialFertilizerQuantity > 1\n\n  state = modifyFieldPlotAt(state, x, y, crop => ({\n    ...crop,\n    fertilizerType: fertilizerItemIdToTypeMap[fertilizerItemId],\n  }))\n\n  return {\n    ...state,\n    fieldMode: doFertilizersRemain ? FERTILIZE : OBSERVE,\n    selectedItemId: doFertilizersRemain ? fertilizerItemId : '',\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const setSprinkler = (state, x, y) => {\n  const { field } = state\n  const plot = field[y][x]\n\n  // Only set sprinklers in empty plots\n  if (plot !== null) {\n    return state\n  }\n\n  state = decrementItemFromInventory(state, SPRINKLER_ITEM_ID)\n\n  const doSprinklersRemain = state.inventory.some(\n    item => item.id === SPRINKLER_ITEM_ID\n  )\n\n  state = modifyFieldPlotAt(state, x, y, () =>\n    getPlotContentFromItemId(SPRINKLER_ITEM_ID)\n  )\n\n  state = processSprinklers(state)\n\n  return {\n    ...state,\n    fieldMode: doSprinklersRemain ? SET_SPRINKLER : OBSERVE,\n    selectedItemId: doSprinklersRemain ? SPRINKLER_ITEM_ID : '',\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const setScarecrow = (state, x, y) => {\n  const plot = state.field[y][x]\n\n  // Only set scarecrows in empty plots\n  if (plot !== null) {\n    return state\n  }\n\n  state = decrementItemFromInventory(state, SCARECROW_ITEM_ID)\n\n  const doScarecrowsRemain = state.inventory.some(\n    item => item.id === SCARECROW_ITEM_ID\n  )\n\n  state = modifyFieldPlotAt(state, x, y, () =>\n    getPlotContentFromItemId(SCARECROW_ITEM_ID)\n  )\n\n  return {\n    ...state,\n    fieldMode: doScarecrowsRemain ? SET_SCARECROW : OBSERVE,\n    selectedItemId: doScarecrowsRemain ? SCARECROW_ITEM_ID : '',\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const harvestPlot = (state, x, y) => {\n  const row = state.field[y]\n  const crop = row[x]\n\n  if (\n    !crop ||\n    getPlotContentType(crop) !== itemType.CROP ||\n    getCropLifeStage(crop) !== GROWN ||\n    !doesInventorySpaceRemain(state)\n  ) {\n    return state\n  }\n\n  const item = itemsMap[crop.itemId]\n  const seedItemIdForCrop = getSeedItemIdFromFinalStageCropItemId(item.id)\n  const plotWasRainbowFertilized =\n    crop.fertilizerType === fertilizerType.RAINBOW\n\n  let harvestedQuantity = 1\n\n  switch (state.toolLevels[toolType.SCYTHE]) {\n    case toolLevel.BRONZE:\n      harvestedQuantity += 1\n      break\n\n    case toolLevel.IRON:\n      harvestedQuantity += 2\n      break\n\n    case toolLevel.SILVER:\n      harvestedQuantity += 3\n      break\n\n    case toolLevel.GOLD:\n      harvestedQuantity += 4\n      break\n\n    default:\n      harvestedQuantity = 1\n  }\n\n  state = removeFieldPlotAt(state, x, y)\n  state = addItemToInventory(state, item, harvestedQuantity)\n\n  const { cropType } = item\n\n  if (plotWasRainbowFertilized) {\n    const seedsForHarvestedCropAreAvailable =\n      getInventoryQuantityMap(state.inventory)[seedItemIdForCrop] > 0\n\n    if (seedsForHarvestedCropAreAvailable) {\n      state = plantInPlot(state, x, y, seedItemIdForCrop)\n      state = modifyFieldPlotAt(state, x, y, crop => ({\n        ...crop,\n        fertilizerType: fertilizerType.RAINBOW,\n      }))\n    }\n  }\n\n  const { cropsHarvested } = state\n\n  return {\n    ...state,\n    cropsHarvested: {\n      ...cropsHarvested,\n      [cropType]: (cropsHarvested[cropType] || 0) + harvestedQuantity,\n    },\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const minePlot = (state, x, y) => {\n  const { field } = state\n  const row = field[y]\n\n  if (row[x]) {\n    // Something is already planted in field[x][y]\n    return state\n  }\n\n  if (!doesInventorySpaceRemain(state)) {\n    return showNotification(state, INVENTORY_FULL_NOTIFICATION)\n  }\n\n  const shovelLevel = state.toolLevels[toolType.SHOVEL]\n  const spawnedResources = ResourceFactory.instance().generateResources(\n    shovelLevel\n  )\n  let spawnedOre = null\n  let daysUntilClear = chooseRandom([1, 2, 2, 3])\n\n  if (spawnedResources.length) {\n    // even when multiple resources are spawned, the first one is ok to use\n    // for all subsequent logic\n    spawnedOre = spawnedResources[0]\n\n    // if ore was spawned, add up to 10 days to the time to clear\n    // at random, based loosely on the spawnChance meant to make\n    // rarer ores take longer to cooldown\n    daysUntilClear += Math.round(\n      Math.random() * (1 - spawnedOre.spawnChance) * 10\n    )\n\n    for (let resource of spawnedResources) {\n      state = addItemToInventory(state, resource)\n    }\n  }\n\n  state = modifyFieldPlotAt(state, x, y, () => {\n    return {\n      isShoveled: true,\n      daysUntilClear,\n      oreId: spawnedOre ? spawnedOre.id : null,\n    }\n  })\n\n  return {\n    ...state,\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const clearPlot = (state, x, y) => {\n  const plotContent = state.field[y][x]\n  const hoeLevel = state.toolLevels[toolType.HOE]\n\n  if (!plotContent || plotContent.isShoveled) {\n    return state\n  }\n\n  if (\n    getPlotContentType(plotContent) === itemType.CROP &&\n    getCropLifeStage(plotContent) !== GROWN &&\n    isRandomNumberLessThan(HOE_LEVEL_TO_SEED_RECLAIM_RATE[hoeLevel])\n  ) {\n    const seedId = getSeedItemIdFromFinalStageCropItemId(plotContent.itemId)\n    state = addItemToInventory(state, itemsMap[seedId])\n  }\n\n  const item = itemsMap[plotContent.itemId]\n\n  if (item.isReplantable && !doesInventorySpaceRemain(state)) {\n    return state\n  }\n\n  state = removeFieldPlotAt(state, x, y)\n\n  return item.isReplantable || getCropLifeStage(plotContent) === GROWN\n    ? addItemToInventory(state, item)\n    : state\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} fieldId\n * @returns {farmhand.state}\n */\nexport const purchaseField = (state, fieldId) => {\n  const { field, money, purchasedField } = state\n  if (purchasedField >= fieldId) {\n    return state\n  }\n\n  const { columns, price, rows } = PURCHASEABLE_FIELD_SIZES.get(fieldId)\n\n  return {\n    purchasedField: fieldId,\n    field: nullArray(rows).map((_, row) =>\n      nullArray(columns).map(\n        (_, column) => (field[row] && field[row][column]) || null\n      )\n    ),\n    money: moneyTotal(money, -price),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const waterPlot = (state, x, y) => {\n  const plotContent = state.field[y][x]\n\n  if (!plotContent || getPlotContentType(plotContent) !== itemType.CROP) {\n    return state\n  }\n\n  return modifyFieldPlotAt(state, x, y, crop => ({\n    ...crop,\n    wasWateredToday: true,\n  }))\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const waterAllPlots = state => waterField(state)\n\n/**\n * @param {farmhand.state} state\n * @param {number} combineId\n * @returns {farmhand.state}\n */\nexport const purchaseCombine = (state, combineId) => {\n  const { money, purchasedCombine } = state\n\n  if (purchasedCombine >= combineId) {\n    return state\n  }\n\n  return {\n    purchasedCombine: combineId,\n    money: moneyTotal(money, -PURCHASEABLE_COMBINES.get(combineId).price),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} smelterId\n * @returns {farmhand.state}\n */\nexport const purchaseSmelter = (state, smelterId) => {\n  const { money, purchasedSmelter } = state\n\n  if (purchasedSmelter >= smelterId) return state\n\n  state = {\n    ...state,\n    purchasedSmelter: smelterId,\n    money: moneyTotal(money, -PURCHASEABLE_SMELTERS.get(smelterId).price),\n  }\n\n  state = showNotification(state, FORGE_AVAILABLE_NOTIFICATION)\n\n  return updateLearnedRecipes(state)\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} cowPenId\n * @returns {farmhand.state}\n */\nexport const purchaseCowPen = (state, cowPenId) => {\n  const { money, purchasedCowPen } = state\n\n  if (purchasedCowPen >= cowPenId) {\n    return state\n  }\n\n  return {\n    purchasedCowPen: cowPenId,\n    money: moneyTotal(money, -PURCHASEABLE_COW_PENS.get(cowPenId).price),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const purchaseStorageExpansion = state => {\n  const { money, inventoryLimit } = state\n  const storageUpgradeCost = getCostOfNextStorageExpansion(inventoryLimit)\n\n  if (money < storageUpgradeCost || inventoryLimit === -1) {\n    return state\n  }\n\n  return {\n    ...state,\n    inventoryLimit: inventoryLimit + STORAGE_EXPANSION_AMOUNT,\n    money: moneyTotal(money, -storageUpgradeCost),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {string} cowId\n * @returns {farmhand.state}\n */\nexport const hugCow = (state, cowId) =>\n  modifyCow(state, cowId, cow =>\n    cow.happinessBoostsToday >= MAX_DAILY_COW_HUG_BENEFITS\n      ? cow\n      : {\n          happiness: Math.min(1, cow.happiness + COW_HUG_BENEFIT),\n          happinessBoostsToday: cow.happinessBoostsToday + 1,\n        }\n  )\n\n/**\n * @param {farmhand.state} state\n * @param {string} cowId\n * @returns {farmhand.state}\n */\nexport const offerCow = (state, cowId) => {\n  state = { ...state, cowIdOfferedForTrade: cowId }\n\n  return state\n}\n\n/**\n * @param {farmhand.state} state\n * @param {string} cowId\n * @returns {farmhand.state}\n */\nexport const withdrawCow = (state, cowId) => {\n  const { cowIdOfferedForTrade } = state\n\n  if (cowId === cowIdOfferedForTrade) {\n    state = { ...state, cowIdOfferedForTrade: '' }\n  }\n\n  return state\n}\n\n/**\n * @param {farmhand.state} state\n * @param {string} newName\n * @param {string} cowId\n * @returns {farmhand.state}\n */\nexport const changeCowName = (state, cowId, newName) =>\n  modifyCow(state, cowId, () => ({\n    name: newName.slice(0, MAX_ANIMAL_NAME_LENGTH),\n  }))\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @returns {farmhand.state}\n */\nexport const selectCow = (state, { id }) => ({ ...state, selectedCowId: id })\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.state} prevState\n * @returns {farmhand.state}\n */\nexport const updateAchievements = (state, prevState) =>\n  achievements.reduce((state, achievement) => {\n    if (\n      !state.completedAchievements[achievement.id] &&\n      achievement.condition(state, prevState)\n    ) {\n      state = {\n        ...achievement.reward(state),\n        completedAchievements: {\n          ...state.completedAchievements,\n          [achievement.id]: true,\n        },\n      }\n\n      state = showNotification(\n        state,\n        ACHIEVEMENT_COMPLETED`${achievement}`,\n        'success'\n      )\n    }\n\n    return state\n  }, state)\n\n/**\n * @param {farmhand.state} state\n * @param {number} adjustmentAmount This should be a negative number if the\n * loan is being paid down, positive if a loan is being taken out.\n * @returns {farmhand.state}\n */\nexport const adjustLoan = (state, adjustmentAmount) => {\n  const loanBalance = moneyTotal(state.loanBalance, adjustmentAmount)\n  const money = moneyTotal(state.money, adjustmentAmount)\n\n  if (loanBalance === 0 && adjustmentAmount < 0) {\n    state = showNotification(state, LOAN_PAYOFF``, 'success')\n  } else if (adjustmentAmount > 0) {\n    // Player is taking out a new loan\n    state = {\n      ...showNotification(state, LOAN_INCREASED`${loanBalance}`, 'info'),\n      loansTakenOut: state.loansTakenOut + 1,\n    }\n  }\n\n  return {\n    ...state,\n    loanBalance,\n    money,\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {function(farmhand.state, number, number)} fieldFn\n * @param {number} rangeRadius\n * @param {number} x\n * @param {number} y\n * @param {...any} args Passed to fieldFn.\n * @returns {farmhand.state}\n */\nexport const forRange = (\n  state,\n  fieldFn,\n  rangeRadius,\n  plotX,\n  plotY,\n  ...args\n) => {\n  const startX = Math.max(plotX - rangeRadius, 0)\n  const endX = Math.min(plotX + rangeRadius, state.field[0].length - 1)\n  const startY = Math.max(plotY - rangeRadius, 0)\n  const endY = Math.min(plotY + rangeRadius, state.field.length - 1)\n\n  for (let y = startY; y <= endY; y++) {\n    for (let x = startX; x <= endX; x++) {\n      state = fieldFn(state, x, y, ...args)\n    }\n  }\n\n  return state\n}\n\n/**\n * @param {farmhand.state} state\n * @param {string} peerId The peer to add\n * @returns {farmhand.state}\n */\nexport const addPeer = (state, peerId) => {\n  const peers = { ...state.peers }\n  peers[peerId] = null\n\n  return { ...state, peers }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {string} peerId The peer to remove\n * @returns {farmhand.state}\n */\nexport const removePeer = (state, peerId) => {\n  const peers = { ...state.peers }\n  delete peers[peerId]\n\n  return { ...state, peers }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {string} peerId The peer to update\n * @param {Object} state\n * @returns {farmhand.state}\n */\nexport const updatePeer = (state, peerId, peerState) => {\n  const peers = { ...state.peers }\n  peers[peerId] = peerState\n\n  // Out of date peer clients may not provide pendingPeerMessages, so default\n  // it here.\n  const { pendingPeerMessages = [] } = peerState\n\n  return {\n    ...state,\n    peers,\n    latestPeerMessages: [\n      ...pendingPeerMessages,\n      ...state.latestPeerMessages,\n    ].slice(0, MAX_LATEST_PEER_MESSAGES),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {string} peerMessage\n * @param {string?} [severity='info']\n * @returns {farmhand.state}\n */\nexport const prependPendingPeerMessage = (\n  state,\n  message,\n  severity = 'info'\n) => {\n  return {\n    ...state,\n    pendingPeerMessages: [\n      { id: state.id, message, severity },\n      ...state.pendingPeerMessages,\n    ].slice(0, MAX_PENDING_PEER_MESSAGES),\n  }\n}\n","import { saveAs } from 'file-saver'\n\nimport {\n  moneyTotal,\n  reduceByPersistedKeys,\n  transformStateDataForImport,\n} from '../utils'\nimport { DEFAULT_ROOM, TOOLBELT_FIELD_MODES } from '../constants'\nimport { dialogView, fieldMode, stageFocusType } from '../enums'\nimport {\n  DISCONNECTING_FROM_SERVER,\n  INVALID_DATA_PROVIDED,\n  PROGRESS_SAVED_MESSAGE,\n} from '../strings'\n\nimport {\n  clearPlot,\n  fertilizePlot,\n  harvestPlot,\n  minePlot,\n  plantInPlot,\n  waterPlot,\n} from '../game-logic/reducers'\n\nconst {\n  CLEANUP,\n  FERTILIZE,\n  HARVEST,\n  MINE,\n  PLANT,\n  SET_SCARECROW,\n  SET_SPRINKLER,\n  WATER,\n} = fieldMode\n\nexport default {\n  /**\n   * @param {farmhand.item} item\n   * @param {number} [howMany=1]\n   */\n  handleItemPurchaseClick(item, howMany = 1) {\n    this.purchaseItem(item, howMany)\n  },\n\n  /**\n   * @param {farmhand.recipe} recipe\n   * @param {number} [howMany=1]\n   */\n  handleMakeRecipeClick(recipe, howMany = 1) {\n    this.makeRecipe(recipe, howMany)\n  },\n\n  /**\n   * @param {farmhand.upgrade} upgrade\n   */\n  handleUpgradeTool(upgrade) {\n    this.upgradeTool(upgrade)\n  },\n\n  /**\n   * @param {farmhand.cow} cow\n   */\n  handleCowPurchaseClick(cow) {\n    this.purchaseCow(cow)\n  },\n\n  /**\n   * @param {farmhand.cow} cow\n   */\n  handleCowSellClick(cow) {\n    this.sellCow(cow)\n  },\n\n  /**\n   * @param {farmhand.cow} cow\n   */\n  handleCowTradeClick(cow) {\n    this.tradeForPeerCow(cow)\n  },\n\n  /**\n   * @param {external:React.SyntheticEvent} e\n   * @param {farmhand.cow} cow\n   */\n  handleCowAutomaticHugChange({ target: { checked } }, cow) {\n    this.changeCowAutomaticHugState(cow, checked)\n  },\n\n  /**\n   * @param {external:React.SyntheticEvent} e\n   * @param {farmhand.cow} cow\n   */\n  handleCowBreedChange({ target: { checked } }, cow) {\n    this.changeCowBreedingPenResident(cow, checked)\n  },\n\n  /**\n   * @param {farmhand.cow} cow\n   */\n  handleCowHugClick(cow) {\n    this.hugCow(cow.id)\n  },\n\n  /**\n   * @param {farmhand.cow} cow\n   */\n  handleCowOfferClick(cow) {\n    this.offerCow(cow.id)\n  },\n\n  /**\n   * @param {farmhand.cow} cow\n   */\n  handleCowWithdrawClick(cow) {\n    this.withdrawCow(cow.id)\n  },\n\n  /**\n   * @param {external:React.SyntheticEvent} e\n   * @param {farmhand.cow} cow\n   */\n  handleCowNameInputChange({ target: { value } }, cow) {\n    this.changeCowName(cow.id, value)\n  },\n\n  /**\n   * @param {farmhand.item} item\n   * @param {number} [howMany=1]\n   */\n  handleItemSellClick(item, howMany = 1) {\n    this.sellItem(item, howMany)\n  },\n\n  /**\n   * @param {external:React.SyntheticEvent} e\n   */\n  handleViewChange({ target: { value } }) {\n    this.setState({ stageFocus: value })\n  },\n\n  /**\n   * @param {farmhand.module:enums.stageFocusType} stageFocus\n   */\n  handleViewChangeButtonClick(stageFocus) {\n    this.setState({ stageFocus })\n  },\n\n  /**\n   * @param {farmhand.module:enums.fieldMode} fieldMode\n   */\n  handleFieldModeSelect(fieldMode) {\n    this.setState(({ selectedItemId }) => ({\n      selectedItemId:\n        fieldMode !== PLANT || TOOLBELT_FIELD_MODES.has(fieldMode)\n          ? ''\n          : selectedItemId,\n      fieldMode,\n    }))\n  },\n\n  /**\n   * @param {farmhand.item} item\n   */\n  handleItemSelectClick({\n    id,\n    enablesFieldMode,\n    hoveredPlotRangeSize: newHoveredPlotRangeSize,\n  }) {\n    this.setState({\n      fieldMode: enablesFieldMode,\n      selectedItemId: id,\n    })\n  },\n\n  /**\n   * @param {number} x\n   * @param {number} y\n   */\n  handlePlotClick(x, y) {\n    const {\n      fieldMode,\n      hoveredPlotRangeSize: rangeRadius,\n      selectedItemId,\n    } = this.state\n\n    if (fieldMode === PLANT) {\n      this.forRange(plantInPlot, rangeRadius, x, y, selectedItemId)\n    } else if (fieldMode === HARVEST) {\n      this.forRange(harvestPlot, rangeRadius, x, y)\n    } else if (fieldMode === MINE) {\n      this.forRange(minePlot, rangeRadius, x, y)\n    } else if (fieldMode === CLEANUP) {\n      this.forRange(clearPlot, rangeRadius, x, y)\n    } else if (fieldMode === WATER) {\n      this.forRange(waterPlot, rangeRadius, x, y)\n    } else if (fieldMode === FERTILIZE) {\n      this.forRange(fertilizePlot, rangeRadius, x, y)\n    } else if (fieldMode === SET_SPRINKLER) {\n      this.setSprinkler(x, y)\n    } else if (fieldMode === SET_SCARECROW) {\n      this.setScarecrow(x, y)\n    }\n  },\n\n  /**\n   * @param {number} range\n   */\n  handleFieldActionRangeChange(range) {\n    this.setState(() => ({ hoveredPlotRangeSize: range }))\n  },\n\n  handleClickEndDayButton() {\n    this.incrementDay()\n\n    // Prevent the player from spamming the End Day button\n    // https://www.reddit.com/r/incremental_games/comments/jusn9i/farmhand_updates_for_november_2020/gcmi6x6/?context=3\n    document.activeElement.blur()\n  },\n\n  /**\n   * @param {number} amount\n   */\n  handleAddMoneyClick(amount) {\n    this.setState(({ money }) => ({ money: moneyTotal(money, amount) }))\n  },\n\n  handleClearPersistedDataClick() {\n    this.clearPersistedData()\n  },\n\n  handleWaterAllPlotsClick() {\n    this.waterAllPlots(this.state)\n  },\n\n  /**\n   * @param {number} fieldId\n   */\n  handleFieldPurchase(fieldId) {\n    this.purchaseField(fieldId)\n  },\n\n  /**\n   * @param {number} combineId\n   */\n  handleCombinePurchase(combineId) {\n    this.purchaseCombine(combineId)\n  },\n\n  /**\n   * @param {number} smelterId\n   */\n  handleSmelterPurchase(smelterId) {\n    this.purchaseSmelter(smelterId)\n  },\n\n  /**\n   * @param {number} cowPenId\n   */\n  handleCowPenPurchase(cowPenId) {\n    this.purchaseCowPen(cowPenId)\n  },\n\n  handleStorageExpansionPurchase() {\n    this.purchaseStorageExpansion()\n  },\n\n  /**\n   * @param {boolean} [setOpen]\n   */\n  handleMenuToggle(setOpen = null) {\n    this.setState(({ isMenuOpen }) => ({\n      isMenuOpen: setOpen === null ? !isMenuOpen : setOpen,\n    }))\n  },\n\n  handleClickNextMenuButton() {\n    this.focusNextView()\n  },\n\n  handleClickPreviousMenuButton() {\n    this.focusPreviousView()\n  },\n\n  /**\n   * @param {farmhand.cow}\n   */\n  handleCowSelect(cow) {\n    this.selectCow(cow)\n  },\n\n  /**\n   * @param {farmhand.cow}\n   */\n  handleCowClick(cow) {\n    this.selectCow(cow)\n    this.hugCow(cow.id)\n  },\n\n  handleCowPenUnmount() {\n    this.setState({ selectedCowId: '' })\n  },\n\n  /**\n   * @param {farmhand.module:enums.dialogView} dialogView\n   */\n  handleClickDialogViewButton(dialogView) {\n    this.openDialogView(dialogView)\n  },\n\n  handleCloseDialogView() {\n    if (this.state.isAwaitingCowTradeRequest) return\n\n    this.closeDialogView()\n  },\n\n  handleDialogViewExited() {\n    this.setState({ currentDialogView: dialogView.NONE })\n  },\n\n  /**\n   * @param {number} paydownAmount\n   */\n  handleClickLoanPaydownButton(paydownAmount) {\n    this.adjustLoan(-paydownAmount)\n  },\n\n  /**\n   * @param {number} loanAmount\n   */\n  handleClickTakeOutLoanButton(loanAmount) {\n    this.adjustLoan(loanAmount)\n  },\n\n  handleExportDataClick() {\n    const blob = new Blob(\n      [JSON.stringify(reduceByPersistedKeys(this.state), null, 2)],\n      {\n        type: 'application/json;charset=utf-8',\n      }\n    )\n\n    const [date] = new Date().toISOString().split('T')\n\n    saveAs(blob, `farmhand-${date}.json`)\n  },\n\n  /**\n   *\n   */\n  handleImportDataClick([data]) {\n    const [, file] = data\n    const fileReader = new FileReader()\n\n    fileReader.addEventListener('loadend', e => {\n      try {\n        const { result: json } = e.srcElement\n        const state = reduceByPersistedKeys(JSON.parse(json))\n\n        if (\n          Object.keys(state).some(\n            key => typeof this.state[key] !== typeof state[key]\n          )\n        ) {\n          throw new Error(INVALID_DATA_PROVIDED)\n        }\n\n        this.setState({\n          ...transformStateDataForImport({\n            ...this.createInitialState(),\n            ...state,\n          }),\n          hasBooted: true,\n        })\n\n        this.showNotification('Data loaded!', 'success')\n      } catch (e) {\n        console.error(e)\n        this.showNotification(e.message, 'error')\n      }\n    })\n\n    fileReader.readAsText(file.slice())\n  },\n\n  async handleSaveButtonClick() {\n    await this.persistState()\n    this.showNotification(PROGRESS_SAVED_MESSAGE, 'info')\n  },\n\n  /**\n   * @param {string} farmName\n   */\n  handleFarmNameUpdate(farmName) {\n    this.setState({ farmName })\n  },\n\n  handleCombineEnabledChange(_e, enableCombine) {\n    this.setState({ isCombineEnabled: enableCombine })\n  },\n\n  handleUseAlternateEndDayButtonPositionChange(\n    _e,\n    useAlternateEndDayButtonPosition\n  ) {\n    this.setState({ useAlternateEndDayButtonPosition })\n  },\n\n  handleAllowCustomPeerCowNamesChange(_e, allowCustomPeerCowNames) {\n    this.setState({ allowCustomPeerCowNames })\n  },\n\n  handleShowHomeScreenChange(_e, showHomeScreen) {\n    if (this.state.stageFocus === stageFocusType.HOME && !showHomeScreen) {\n      this.focusNextView()\n    }\n\n    this.setState({ showHomeScreen })\n  },\n\n  handleShowNotificationsChange({ target: { checked } }) {\n    this.setState({ showNotifications: checked })\n  },\n\n  handleClickNotificationIndicator() {\n    this.openDialogView(dialogView.FARMERS_LOG)\n  },\n\n  handleOnlineToggleChange(_e, goOnline) {\n    if (!goOnline) {\n      this.showNotification(DISCONNECTING_FROM_SERVER, 'info')\n    }\n\n    const { room } = this.state\n\n    // Defer this operation to the next thread to prevent this warning:\n    //\n    // \"An update (setState, replaceState, or forceUpdate) was scheduled from\n    // inside an update function. Update functions should be pure, with zero\n    // side-effects. Consider using componentDidUpdate or a callback.\"\n    setTimeout(\n      () =>\n        this.setState(() =>\n          goOnline\n            ? {\n                redirect: `/online/${encodeURIComponent(room)}`,\n              }\n            : {\n                redirect: '/',\n                cowIdOfferedForTrade: '',\n              }\n        ),\n      1\n    )\n  },\n\n  handleRoomChange(room) {\n    this.setState(() => ({\n      redirect: `/online/${encodeURIComponent(room.trim() || DEFAULT_ROOM)}`,\n    }))\n  },\n\n  handleActivePlayerButtonClick() {\n    this.openDialogView(dialogView.ONLINE_PEERS)\n  },\n}\n","import { cowTradeRejectionReason } from '../enums'\nimport { COW_TRADED_NOTIFICATION } from '../templates'\nimport {\n  PROGRESS_SAVED_MESSAGE,\n  REQUESTED_COW_TRADE_UNAVAILABLE,\n  UNKNOWN_COW_TRADE_FAILURE,\n} from '../strings'\nimport { sleep } from '../utils'\n\nimport {\n  addCowToInventory,\n  changeCowAutomaticHugState,\n  removeCowFromInventory,\n  showNotification,\n} from '../game-logic/reducers'\n\n/**\n * @param {Farmhand} farmhand\n * @param {Object} peerState\n * @param {string} peerId\n */\nexport const handlePeerMetadataRequest = (farmhand, peerState, peerId) => {\n  farmhand.updatePeer(peerId, peerState)\n}\n\n/**\n * Handles another player's initiation of a cow trade request.\n * @param {Farmhand} farmhand\n * @param {Object} cowTradeRequestPayload\n * @param {farmhand.cow} cowTradeRequestPayload.cowOffered\n * @param {farmhand.cow} cowTradeRequestPayload.cowRequested\n * @param {string} peerId\n */\nexport const handleCowTradeRequest = async (\n  farmhand,\n  { cowOffered, cowRequested },\n  peerId\n) => {\n  let wasTradeSuccessful = false\n\n  farmhand.setState(\n    state => {\n      const {\n        allowCustomPeerCowNames,\n        cowIdOfferedForTrade,\n        cowsTraded,\n        cowInventory,\n        id,\n        isAwaitingCowTradeRequest,\n        peers,\n        sendCowAccept,\n        sendCowReject,\n      } = state\n\n      if (!sendCowAccept || !sendCowReject) {\n        console.error('Peer connection not set up correctly')\n        return null\n      }\n\n      const cowToTradeAway = cowInventory.find(\n        ({ id }) => id === cowIdOfferedForTrade\n      )\n\n      if (\n        isAwaitingCowTradeRequest ||\n        cowRequested.id !== cowIdOfferedForTrade ||\n        !cowToTradeAway\n      ) {\n        sendCowReject(\n          {\n            reason: cowTradeRejectionReason.REQUESTED_COW_UNAVAILABLE,\n          },\n          peerId\n        )\n\n        return null\n      }\n\n      const updatedCowOffered = {\n        ...cowOffered,\n        timesTraded:\n          cowOffered.originalOwnerId === id\n            ? cowOffered.timesTraded\n            : cowOffered.timesTraded + 1,\n      }\n\n      const [, peerMetadata] =\n        Object.entries(peers).find(\n          ([, peer]) => peer?.id === updatedCowOffered.ownerId\n        ) ?? []\n\n      if (!peerMetadata) {\n        console.error(`No data for peer ${updatedCowOffered.ownerId}`)\n        return\n      }\n\n      state = changeCowAutomaticHugState(state, cowToTradeAway, false)\n      state = removeCowFromInventory(state, cowToTradeAway)\n      state = addCowToInventory(state, {\n        ...updatedCowOffered,\n        ownerId: id,\n      })\n      state = showNotification(\n        state,\n        COW_TRADED_NOTIFICATION`${cowToTradeAway}${cowOffered}${id}${allowCustomPeerCowNames}`,\n        'success'\n      )\n\n      sendCowAccept({ ...cowToTradeAway, isUsingHuggingMachine: false }, peerId)\n\n      wasTradeSuccessful = true\n\n      return {\n        ...state,\n        cowIdOfferedForTrade: updatedCowOffered.id,\n        cowsTraded:\n          updatedCowOffered.originalOwnerId === id\n            ? cowsTraded\n            : cowsTraded + 1,\n        isAwaitingCowTradeRequest: true,\n        selectedCowId: updatedCowOffered.id,\n        peers: {\n          ...peers,\n          [peerId]: {\n            ...peerMetadata,\n            cowOfferedForTrade: { ...cowToTradeAway, ownerId: peerMetadata.id },\n          },\n        },\n      }\n    },\n    async () => {\n      if (!wasTradeSuccessful) return\n\n      // Allow any pending state updates to complete so that an invalid state\n      // is not persisted\n      await sleep(750)\n\n      await farmhand.persistState()\n\n      farmhand.showNotification(PROGRESS_SAVED_MESSAGE, 'info')\n      farmhand.setState(() => ({\n        isAwaitingCowTradeRequest: false,\n      }))\n    }\n  )\n}\n\n/**\n * @param {Farmhand} farmhand\n * @param {farmhand.cow} cowReceived\n * @param {string} peerId\n */\nexport const handleCowTradeRequestAccept = (farmhand, cowReceived, peerId) => {\n  let wasTradeSuccessful = false\n\n  farmhand.setState(\n    state => {\n      const {\n        allowCustomPeerCowNames,\n        cowIdOfferedForTrade,\n        cowInventory,\n        cowsTraded,\n        cowTradeTimeoutId,\n        id,\n        peers,\n      } = state\n\n      const cowTradedAway = cowInventory.find(\n        ({ id }) => id === cowIdOfferedForTrade\n      )\n\n      if (!cowTradedAway) {\n        console.error(\n          `handleCowTradeRequestAccept: cow with ID ${cowIdOfferedForTrade} is no longer available`\n        )\n\n        state = showNotification(state, UNKNOWN_COW_TRADE_FAILURE, 'error')\n\n        return {\n          ...state,\n          isAwaitingCowTradeRequest: false,\n        }\n      }\n\n      const [, peerMetadata] = Object.entries(peers).find(\n        ([, { id }]) => id === cowReceived.ownerId\n      )\n\n      const updatedCowReceived = {\n        ...cowReceived,\n        timesTraded:\n          cowReceived.originalOwnerId === id\n            ? cowReceived.timesTraded\n            : cowReceived.timesTraded + 1,\n      }\n\n      state = removeCowFromInventory(state, cowTradedAway)\n      state = addCowToInventory(state, {\n        ...updatedCowReceived,\n        ownerId: id,\n      })\n      state = showNotification(\n        state,\n        COW_TRADED_NOTIFICATION`${cowTradedAway}${updatedCowReceived}${id}${allowCustomPeerCowNames}`,\n        'success'\n      )\n\n      clearTimeout(cowTradeTimeoutId)\n\n      wasTradeSuccessful = true\n\n      return {\n        ...state,\n        cowsTraded:\n          updatedCowReceived.originalOwnerId === id\n            ? cowsTraded\n            : cowsTraded + 1,\n        cowTradeTimeoutId: null,\n        isAwaitingCowTradeRequest: false,\n        cowIdOfferedForTrade: updatedCowReceived.id,\n        selectedCowId: updatedCowReceived.id,\n        peers: {\n          ...peers,\n          [peerId]: {\n            ...peerMetadata,\n            cowOfferedForTrade: { ...cowTradedAway, ownerId: peerMetadata.id },\n          },\n        },\n      }\n    },\n    async () => {\n      if (!wasTradeSuccessful) return\n\n      await farmhand.persistState()\n\n      farmhand.showNotification(PROGRESS_SAVED_MESSAGE, 'info')\n    }\n  )\n}\n\n/**\n * @param {Farmhand} farmhand\n * @param {Object} cowTradeRejectionPayload\n * @param {string} cowTradeRejectionPayload.reason\n */\nexport const handleCowTradeRequestReject = (farmhand, { reason }) => {\n  const { cowTradeTimeoutId } = farmhand.state\n\n  clearTimeout(cowTradeTimeoutId)\n\n  farmhand.setState({\n    cowTradeTimeoutId: null,\n    isAwaitingCowTradeRequest: false,\n  })\n\n  farmhand.showNotification(REQUESTED_COW_TRADE_UNAVAILABLE, 'error')\n}\n","import React, { useEffect, useState } from 'react'\nimport { tween } from 'shifty'\nimport { array, bool, func, number, string } from 'prop-types'\n\nimport { default as MuiAppBar } from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport StepIcon from '@material-ui/core/StepIcon'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { moneyString } from '../../utils'\nimport './AppBar.sass'\n\nconst MoneyDisplay = ({ money }) => {\n  const idleColor = 'rgb(255, 255, 255)'\n  const [displayedMoney, setDisplayedMoney] = useState(money)\n  const [textColor, setTextColor] = useState(idleColor)\n  const [previousMoney, setPreviousMoney] = useState(money)\n  const [currentTweenable, setCurrentTweenable] = useState()\n\n  useEffect(() => {\n    setPreviousMoney(money)\n  }, [money, setPreviousMoney])\n\n  useEffect(() => {\n    if (money !== previousMoney) {\n      if (currentTweenable) {\n        currentTweenable.cancel()\n      }\n\n      const tweenable = tween({\n        easing: 'easeOutQuad',\n        duration: 750,\n        render: ({ color, money }) => {\n          setTextColor(color)\n          setDisplayedMoney(money)\n        },\n        from: {\n          color: money > previousMoney ? 'rgb(0, 255, 0)' : 'rgb(255, 0, 0)',\n          money: previousMoney,\n        },\n        to: { color: idleColor, money },\n      })\n\n      setCurrentTweenable(tweenable)\n    }\n\n    return () => {\n      if (currentTweenable) {\n        currentTweenable.cancel()\n      }\n    }\n  }, [currentTweenable, money, previousMoney])\n\n  return (\n    <span\n      {...{\n        style: {\n          color: textColor,\n        },\n      }}\n    >\n      {moneyString(displayedMoney)}\n    </span>\n  )\n}\n\nexport const AppBar = ({\n  handleClickNotificationIndicator,\n  money,\n  showNotifications,\n  todaysNotifications,\n  viewTitle,\n\n  areAnyNotificationsErrors = todaysNotifications.some(\n    ({ severity }) => severity === 'error'\n  ),\n}) => (\n  <MuiAppBar\n    {...{\n      className: 'AppBar top-level',\n      position: 'fixed',\n    }}\n  >\n    <Toolbar\n      {...{\n        className: 'toolbar',\n      }}\n    >\n      {!showNotifications && (\n        <div\n          {...{\n            className: 'notification-indicator-container',\n            onClick: handleClickNotificationIndicator,\n          }}\n        >\n          <Typography>\n            <StepIcon\n              {...{ icon: Math.max(0, todaysNotifications.length - 1) }}\n            />\n          </Typography>\n          {areAnyNotificationsErrors && (\n            <Typography\n              {...{\n                className: 'error-indicator',\n              }}\n            >\n              <StepIcon {...{ error: true, icon: '' }} />\n            </Typography>\n          )}\n        </div>\n      )}\n      <Typography\n        {...{\n          className: 'stage-header',\n          variant: 'h2',\n        }}\n      >\n        {viewTitle}\n      </Typography>\n      <Typography\n        {...{\n          className: 'money-display',\n          variant: 'h2',\n        }}\n      >\n        <MoneyDisplay {...{ money }} />\n      </Typography>\n    </Toolbar>\n  </MuiAppBar>\n)\n\nAppBar.propTypes = {\n  handleClickNotificationIndicator: func.isRequired,\n  money: number.isRequired,\n  showNotifications: bool.isRequired,\n  todaysNotifications: array.isRequired,\n  viewTitle: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <AppBar {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","export const MAX_ROOM_NAME_LENGTH = 25\n\nexport const HEARTBEAT_INTERVAL_PERIOD = 10 * 1000 // 10 seconds\n\nexport const SERVER_ERRORS = {\n  ROOM_FULL: 'ROOM_FULL',\n}\n","import React, { useEffect, useState } from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport AccountBalanceIcon from '@material-ui/icons/AccountBalance'\nimport NumberFormat from 'react-number-format'\nimport { func, number } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { dollarString, moneyString, moneyTotal } from '../../utils'\nimport {\n  STANDARD_LOAN_AMOUNT,\n  LOAN_INTEREST_RATE,\n  LOAN_GARNISHMENT_RATE,\n} from '../../constants'\n\nimport './AccountingView.sass'\n\nconst MoneyNumberFormat = ({\n  inputRef,\n  max,\n  min,\n  onChange,\n  setLoanInputValue,\n  ...rest\n}) => (\n  <NumberFormat\n    fixedDecimalScale\n    thousandSeparator\n    {...{\n      ...rest,\n      allowNegative: false,\n      decimalScale: 2,\n      prefix: '$',\n      isAllowed: ({ floatValue = 0 }) => min >= 0 && floatValue <= max,\n      onValueChange: ({ floatValue = 0 }) => onChange(floatValue),\n    }}\n  />\n)\n\nconst AccountingView = ({\n  handleClickLoanPaydownButton,\n  handleClickTakeOutLoanButton,\n  loanBalance,\n  money,\n}) => {\n  const [loanInputValue, setLoanInputValue] = useState(\n    Math.min(loanBalance, money)\n  )\n\n  useEffect(() => setLoanInputValue(Math.min(loanBalance, money)), [\n    loanBalance,\n    money,\n  ])\n\n  return (\n    <div className=\"AccountingView\">\n      <Card>\n        <CardHeader\n          {...{\n            avatar: <AccountBalanceIcon />,\n            title: 'Loan Balance',\n            subheader: <p>{moneyString(loanBalance)}</p>,\n          }}\n        />\n        <CardContent>\n          <div className=\"loan-container\">\n            <TextField\n              {...{\n                value: loanInputValue,\n                inputProps: {\n                  max: loanBalance,\n                  min: 0,\n\n                  // Enable a helpful number input for iOS.\n                  // https://css-tricks.com/finger-friendly-numerical-inputs-with-inputmode/\n                  pattern: '[0-9]*',\n                },\n\n                onChange: setLoanInputValue,\n                InputProps: {\n                  inputComponent: MoneyNumberFormat,\n                },\n              }}\n            />\n            <Button\n              {...{\n                color: 'primary',\n                disabled: loanBalance === 0,\n                variant: 'contained',\n                onClick: () => {\n                  handleClickLoanPaydownButton(loanInputValue)\n                  setLoanInputValue(loanBalance - loanInputValue)\n                },\n              }}\n            >\n              Pay into loan\n            </Button>\n            <p>\n              You may take out a Hardship Assistance Loan if your funds fall\n              below {dollarString(STANDARD_LOAN_AMOUNT)}. So long as you have an\n              outstanding loan balance, all farm product sales are garnished by{' '}\n              {LOAN_GARNISHMENT_RATE * 100}% until the loan is repaid. The loan\n              interest rate is {LOAN_INTEREST_RATE * 100}% per day, compounded\n              daily.\n            </p>\n          </div>\n          <Button\n            {...{\n              color: 'secondary',\n              disabled: money >= STANDARD_LOAN_AMOUNT,\n              onClick: () => {\n                handleClickTakeOutLoanButton(STANDARD_LOAN_AMOUNT)\n                setLoanInputValue(\n                  Math.min(\n                    moneyTotal(loanInputValue, STANDARD_LOAN_AMOUNT),\n                    moneyTotal(money, STANDARD_LOAN_AMOUNT)\n                  )\n                )\n              },\n              variant: 'contained',\n            }}\n          >\n            Take out a {dollarString(STANDARD_LOAN_AMOUNT)} loan\n          </Button>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\nAccountingView.propTypes = {\n  handleClickTakeOutLoanButton: func.isRequired,\n  handleClickLoanPaydownButton: func.isRequired,\n  loanBalance: number.isRequired,\n  money: number.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <AccountingView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { number } from 'prop-types'\nimport { interpolate, tween } from 'shifty'\n\nimport './ProgressBar.sass'\n\nconst incompleteColor = '#ff9f00'\nconst completeColor = '#00e500'\n\nconst ProgressBar = ({ percent }) => {\n  const [displayedProgress, setDisplayedProgress] = useState(0)\n  const [displayedColor, setDisplayedColor] = useState(incompleteColor)\n  const [currentTweenable, setCurrentTweenable] = useState()\n\n  useEffect(() => {\n    if (!currentTweenable) {\n      const tweenable = tween({\n        delay: 750,\n        easing: 'easeInOutQuad',\n        duration: 1500,\n        from: { currentPercent: 0 },\n        to: { currentPercent: percent },\n        render: ({ currentPercent }) => {\n          setDisplayedProgress(currentPercent.toFixed(2))\n          setDisplayedColor(\n            interpolate(\n              { color: incompleteColor },\n              { color: completeColor },\n              currentPercent / 100\n            ).color\n          )\n        },\n      })\n\n      setCurrentTweenable(tweenable)\n    }\n\n    return () => {\n      if (currentTweenable) {\n        currentTweenable.cancel()\n      }\n    }\n  }, [currentTweenable, percent])\n\n  return (\n    <div className=\"ProgressBar\">\n      <div {...{ className: 'progress-wrapper' }}>\n        <div\n          {...{\n            className: 'progress',\n            style: {\n              background: displayedColor,\n              width: `${displayedProgress}%`,\n            },\n          }}\n        ></div>\n      </div>\n      <p>\n        <span>{displayedProgress}%</span>\n      </p>\n    </div>\n  )\n}\n\nProgressBar.propTypes = {\n  percent: number.isRequired,\n}\n\nexport default ProgressBar\n","import React from 'react'\nimport classNames from 'classnames'\n\nimport AssignmentLateIcon from '@material-ui/icons/AssignmentLate'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport BeenhereIcon from '@material-ui/icons/Beenhere'\nimport { bool, object } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './Achievement.sass'\n\nconst Achievement = ({\n  achievement: { description, id, name, rewardDescription },\n  completedAchievements,\n\n  isComplete = Boolean(completedAchievements[id]),\n}) => (\n  <Card\n    {...{ className: classNames('Achievement', { 'is-complete': isComplete }) }}\n  >\n    <CardHeader\n      {...{\n        avatar: isComplete ? <BeenhereIcon /> : <AssignmentLateIcon />,\n        title: name,\n        subheader: <p>Reward: {rewardDescription}</p>,\n      }}\n    />\n    <CardContent>\n      <p>{description}</p>\n    </CardContent>\n  </Card>\n)\n\nAchievement.propTypes = {\n  achievement: object.isRequired,\n  completedAchievements: object.isRequired,\n  isComplete: bool,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Achievement {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport Accordion from '@material-ui/core/Accordion'\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\nimport AccordionDetails from '@material-ui/core/AccordionDetails'\nimport { object } from 'prop-types'\nimport Divider from '@material-ui/core/Divider'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport ProgressBar from '../ProgressBar'\nimport Achievement from '../Achievement'\nimport achievements from '../../data/achievements'\nimport { memoize } from '../../utils'\n\nimport './AchievementsView.sass'\n\nconst partitionAchievements = memoize(completedAchievements =>\n  achievements.reduce(\n    (acc, achievement) => {\n      acc[\n        completedAchievements[achievement.id] ? 'complete' : 'incomplete'\n      ].push(achievement)\n\n      return acc\n    },\n    { complete: [], incomplete: [] }\n  )\n)\n\nconst AchievementsList = ({ achievements }) => (\n  <AccordionDetails>\n    <ul className=\"card-list\">\n      {achievements.map(achievement => (\n        <li {...{ key: achievement.id }}>\n          <Achievement {...{ achievement }} />\n        </li>\n      ))}\n    </ul>\n  </AccordionDetails>\n)\n\nconst AchievementsView = ({\n  completedAchievements,\n  partitionedAchievements: { complete, incomplete } = partitionAchievements(\n    completedAchievements\n  ),\n}) => (\n  <div className=\"AchievementsView\">\n    <ProgressBar\n      {...{ percent: (complete.length / achievements.length) * 100 }}\n    />\n    {complete.length ? (\n      <>\n        <Accordion {...{ defaultExpanded: true }}>\n          <AccordionSummary>\n            <h3>Completed</h3>\n          </AccordionSummary>\n          <AchievementsList {...{ achievements: complete }} />\n        </Accordion>\n        <Divider />\n      </>\n    ) : null}\n    <Accordion {...{ defaultExpanded: true }}>\n      <AccordionSummary>\n        <h3>Not Completed</h3>\n      </AccordionSummary>\n      <AchievementsList {...{ achievements: incomplete }} />\n    </Accordion>\n  </div>\n)\n\nAchievementsView.propTypes = {\n  completedAchievements: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <AchievementsView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { array } from 'prop-types'\nimport Alert from '@material-ui/lab/Alert'\nimport ReactMarkdown from 'react-markdown'\nimport Divider from '@material-ui/core/Divider'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './LogView.sass'\n\nexport const LogView = ({ notificationLog, todaysNotifications }) => (\n  <div className=\"LogView notification-container\">\n    <h3>Today</h3>\n    <ul>\n      {todaysNotifications.map(({ message, onClick, severity }) => (\n        <li {...{ key: message }}>\n          <Alert {...{ elevation: 3, onClick, severity }}>\n            <ReactMarkdown {...{ source: message }} />\n          </Alert>\n        </li>\n      ))}\n    </ul>\n    <Divider />\n    <ul>\n      {notificationLog.map(({ day, notifications }, i) => (\n        <li key={`${i}_${notifications.info.join()}`}>\n          <h3>Day {day}</h3>\n          {['success', 'info', 'warning', 'error'].map((severity, i) =>\n            notifications[severity].length ? (\n              <Alert {...{ elevation: 3, key: `${severity}_${i}`, severity }}>\n                {notifications[severity].map((message, j) => (\n                  <ReactMarkdown\n                    {...{ key: `${j}_${message}`, source: message }}\n                  />\n                ))}\n              </Alert>\n            ) : null\n          )}\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nLogView.propTypes = {\n  notificationLog: array.isRequired,\n  todaysNotifications: array.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <LogView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\n\n// This is a general-use error boundary component that will simply not render\n// its children if there is an error within its tree.\n\n// Adapted from https://reactjs.org/docs/error-boundaries.html#introducing-error-boundaries\nclass BailOutErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.error(error, errorInfo)\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return null\n    }\n\n    return this.props.children\n  }\n}\n\nBailOutErrorBoundary.propTypes = {}\n\nexport default BailOutErrorBoundary\n","import React, { memo } from 'react'\nimport { object } from 'prop-types'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nimport { COW_COLOR_NAMES } from '../../../strings'\n\nimport './Bloodline.sass'\n\nconst Bloodline = ({ colorsInBloodline }) => (\n  <ul {...{ className: 'Bloodline' }}>\n    {Object.keys(colorsInBloodline)\n      .sort()\n      .map(color => (\n        <Tooltip\n          {...{\n            key: color,\n            arrow: true,\n            placement: 'top',\n            title: COW_COLOR_NAMES[color],\n          }}\n        >\n          <li {...{ className: color.toLowerCase() }} />\n        </Tooltip>\n      ))}\n  </ul>\n)\n\nBloodline.propTypes = {\n  colorsInBloodline: object.isRequired,\n}\n\nexport default memo(Bloodline)\n","import React from 'react'\nimport { array, bool, func, object, string } from 'prop-types'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport classNames from 'classnames'\nimport { faHeart as faFullHeart } from '@fortawesome/free-solid-svg-icons'\nimport { faHeart as faEmptyHeart } from '@fortawesome/free-regular-svg-icons'\n\nimport { COW_COLOR_NAMES } from '../../../strings'\nimport { genders } from '../../../enums'\nimport {\n  getCowWeight,\n  getPlayerName,\n  integerString,\n  isCowInBreedingPen,\n  memoize,\n  moneyString,\n  nullArray,\n} from '../../../utils'\nimport { huggingMachine } from '../../../data/items'\nimport Bloodline from '../Bloodline'\n\nimport './Subheader.sass'\n\n// The extra 0.5 is for rounding up to the next full heart. This allows a fully\n// happy cow to have full hearts on the beginning of a new day.\nconst isHeartFull = (heartIndex, numberOfFullHearts) =>\n  heartIndex + 0.5 < numberOfFullHearts\n\nconst getCowMapById = memoize(cowInventory =>\n  cowInventory.reduce((acc, cow) => {\n    acc[cow.id] = cow\n    return acc\n  }, {})\n)\n\nconst Subheader = ({\n  canCowBeTradedFor,\n  cow,\n  cowBreedingPen,\n  cowIdOfferedForTrade,\n  cowInventory,\n  cowValue,\n  handleCowAutomaticHugChange,\n  handleCowBreedChange,\n  huggingMachinesRemain,\n  id,\n  isCowPurchased,\n}) => {\n  const numberOfFullHearts = cow.happiness * 10\n  const isInBreedingPen = isCowInBreedingPen(cow, cowBreedingPen)\n  const isBreedingPenFull =\n    cowBreedingPen.cowId1 !== null && cowBreedingPen.cowId2 !== null\n\n  const isCowOfferedForTrade = !!cowInventory.find(\n    ({ id }) => id === cowIdOfferedForTrade\n  )\n\n  let canBeMovedToBreedingPen = !isBreedingPenFull && !isCowOfferedForTrade\n\n  if (canBeMovedToBreedingPen) {\n    const potentialMateId = cowBreedingPen.cowId2 ?? cowBreedingPen.cowId1\n\n    if (potentialMateId !== null) {\n      canBeMovedToBreedingPen =\n        cow.gender !== getCowMapById(cowInventory)[potentialMateId].gender\n    }\n  }\n\n  const disableBreedingControlTooltip =\n    !canBeMovedToBreedingPen && !isInBreedingPen\n\n  const showOriginalOwner =\n    isCowPurchased && id !== cow.originalOwnerId && id === cow.ownerId\n\n  return (\n    <div {...{ className: 'Subheader' }}>\n      <Bloodline {...{ colorsInBloodline: cow.colorsInBloodline }} />\n      {isCowPurchased && (\n        <p>\n          {cow.daysOld} {cow.daysOld === 1 ? 'day' : 'days'} old\n        </p>\n      )}\n      <p>Color: {COW_COLOR_NAMES[cow.color]}</p>\n      <p>\n        {isCowPurchased ? 'Value' : 'Price'}: {moneyString(cowValue)}\n      </p>\n      <p>Weight: {getCowWeight(cow)} lbs.</p>\n      {(isCowPurchased || canCowBeTradedFor) && (\n        <p>Times traded: {integerString(cow.timesTraded)}</p>\n      )}\n      {showOriginalOwner && (\n        <p>\n          Original owner: <strong>{getPlayerName(cow.originalOwnerId)}</strong>\n        </p>\n      )}\n      {isCowPurchased && (\n        <>\n          <ol className=\"hearts\">\n            {nullArray(10).map((_null, i) => (\n              <li key={`${cow.id}_${i}`}>\n                <FontAwesomeIcon\n                  {...{\n                    icon: isHeartFull(i, numberOfFullHearts)\n                      ? faFullHeart\n                      : faEmptyHeart,\n                    className: classNames('heart', {\n                      'is-full': isHeartFull(i, numberOfFullHearts),\n                    }),\n                  }}\n                />\n              </li>\n            ))}\n          </ol>\n          <Tooltip\n            {...{\n              arrow: true,\n              placement: 'top',\n              title: `Check this box to put ${cow.name} into a ${huggingMachine.name} and automatically hug them at the start of every day. Requires a Hugging Machine in your inventory.`,\n            }}\n          >\n            <FormControlLabel\n              {...{\n                control: (\n                  <Checkbox\n                    {...{\n                      color: 'primary',\n                      checked: cow.isUsingHuggingMachine,\n                      onChange: e =>\n                        handleCowAutomaticHugChange &&\n                        handleCowAutomaticHugChange(e, cow),\n                    }}\n                  />\n                ),\n                disabled: !cow.isUsingHuggingMachine && !huggingMachinesRemain,\n                label: 'Hug automatically',\n              }}\n            />\n          </Tooltip>\n          <Tooltip\n            {...{\n              arrow: true,\n              placement: 'top',\n              disableFocusListener: disableBreedingControlTooltip,\n              disableHoverListener: disableBreedingControlTooltip,\n              disableTouchListener: disableBreedingControlTooltip,\n              title: isInBreedingPen\n                ? `Uncheck this box to return ${cow.name} to the regular pen.`\n                : `Check this box to move ${\n                    cow.name\n                  } to the breeding pen to mate with a ${\n                    cow.gender === genders.MALE ? 'female' : 'male'\n                  } cow.`,\n            }}\n          >\n            <FormControlLabel\n              {...{\n                control: (\n                  <Checkbox\n                    {...{\n                      color: 'primary',\n                      checked: isInBreedingPen,\n                      onChange: e =>\n                        handleCowBreedChange && handleCowBreedChange(e, cow),\n                    }}\n                  />\n                ),\n                disabled: isInBreedingPen ? false : !canBeMovedToBreedingPen,\n                label: 'Breed',\n              }}\n            />\n          </Tooltip>\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default Subheader\n\nSubheader.propTypes = {\n  canCowBeTradedFor: bool.isRequired,\n  cow: object.isRequired,\n  cowBreedingPen: object.isRequired,\n  cowIdOfferedForTrade: string.isRequired,\n  cowInventory: array.isRequired,\n  handleCowAutomaticHugChange: func,\n  handleCowBreedChange: func,\n  huggingMachinesRemain: bool.isRequired,\n  id: string.isRequired,\n  isCowPurchased: bool,\n}\n","import React, { useEffect, useRef, useState } from 'react'\n\nimport { array, bool, func, number, object, string } from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Card from '@material-ui/core/Card'\nimport CardActions from '@material-ui/core/CardActions'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport TextField from '@material-ui/core/TextField'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport classNames from 'classnames'\nimport { faMars, faVenus } from '@fortawesome/free-solid-svg-icons'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport { pixel } from '../../img'\nimport { genders } from '../../enums'\nimport {\n  areHuggingMachinesInInventory,\n  getCowDisplayName,\n  getCowImage,\n  getCowValue,\n  isCowInBreedingPen,\n  isInViewport,\n} from '../../utils'\nimport { PURCHASEABLE_COW_PENS } from '../../constants'\nimport { OFFER_COW_FOR_TRADE, WITHDRAW_COW_FROM_TRADE } from '../../templates'\n\nimport Subheader from './Subheader'\n\nimport './CowCard.sass'\n\nconst genderIcons = {\n  [genders.FEMALE]: faVenus,\n  [genders.MALE]: faMars,\n}\n\nexport const CowCard = ({\n  allowCustomPeerCowNames,\n  cow,\n  cowBreedingPen,\n  cowIdOfferedForTrade,\n  cowInventory,\n  debounced,\n  handleCowAutomaticHugChange,\n  handleCowBreedChange,\n  handleCowHugClick,\n  handleCowNameInputChange,\n  handleCowOfferClick,\n  handleCowPurchaseClick,\n  handleCowWithdrawClick,\n  handleCowSellClick,\n  handleCowTradeClick,\n  id,\n  inventory,\n  isCowOfferedForTradeByPeer,\n  isSelected,\n  isOnline,\n  money,\n  purchasedCowPen,\n\n  huggingMachinesRemain = areHuggingMachinesInInventory(inventory),\n}) => {\n  const cowDisplayName = getCowDisplayName(cow, id, allowCustomPeerCowNames)\n\n  const [displayName, setDisplayName] = useState(cowDisplayName)\n  const [cowImage, setCowImage] = useState(pixel)\n  const cardRef = useRef()\n  const scrollAnchorRef = useRef()\n\n  const isCowPurchased =\n    !!cowInventory.find(({ id }) => id === cow.id) &&\n    !isCowOfferedForTradeByPeer\n  const cowValue = getCowValue(cow, isCowPurchased)\n  const cowCanBeTradedAway =\n    isOnline && !isCowInBreedingPen(cow, cowBreedingPen)\n  const canCowBeTradedFor = Boolean(\n    isCowOfferedForTradeByPeer && cowIdOfferedForTrade.length > 0\n  )\n\n  useEffect(() => {\n    ;(async () => {\n      setCowImage(await getCowImage(cow))\n    })()\n\n    setDisplayName(getCowDisplayName(cow, id, allowCustomPeerCowNames))\n  }, [cow, id, allowCustomPeerCowNames])\n\n  useEffect(() => {\n    if (isSelected) {\n      const { current: scrollAnchor } = scrollAnchorRef\n      const { current: card } = cardRef\n      if (!scrollAnchor || !card) return\n\n      // scrollIntoView is not defined in the unit test environment.\n      if (scrollAnchor.scrollIntoView && !isInViewport(card)) {\n        scrollAnchor.scrollIntoView({ behavior: 'smooth' })\n      }\n    }\n  }, [isSelected])\n\n  return (\n    <>\n      <a\n        {...{\n          className: 'CowCard-scroll-anchor',\n          href: `#cow-${cow.id}`,\n          ref: scrollAnchorRef,\n        }}\n      >\n        &nbsp;\n      </a>\n      <Card\n        {...{\n          className: classNames('CowCard', {\n            'is-selected': isSelected,\n            'is-purchased': isCowPurchased,\n          }),\n          raised: isSelected,\n          ref: cardRef,\n        }}\n      >\n        {isSelected && (\n          <span className=\"visually_hidden\">\n            {displayName} is currently selected\n          </span>\n        )}\n        <CardHeader\n          {...{\n            avatar: <img {...{ src: cowImage }} alt=\"Cow\" />,\n            title: (\n              <>\n                {isCowPurchased ? (\n                  <TextField\n                    {...{\n                      disabled: id !== cow.originalOwnerId,\n                      onChange: e => {\n                        if (debounced) {\n                          setDisplayName(e.target.value)\n                          debounced.handleCowNameInputChange({ ...e }, cow)\n                        }\n                      },\n                      placeholder: 'Name',\n                      value: displayName,\n                    }}\n                  />\n                ) : (\n                  displayName\n                )}{' '}\n                <FontAwesomeIcon\n                  {...{\n                    icon: genderIcons[cow.gender],\n                  }}\n                />\n              </>\n            ),\n            subheader: (\n              <Subheader\n                {...{\n                  canCowBeTradedFor,\n                  cow,\n                  cowBreedingPen,\n                  cowIdOfferedForTrade,\n                  cowInventory,\n                  cowValue,\n                  handleCowBreedChange,\n                  handleCowAutomaticHugChange,\n                  huggingMachinesRemain,\n                  id,\n                  isCowPurchased,\n                }}\n              />\n            ),\n          }}\n        />\n        <CardActions>\n          {!isCowPurchased && !isCowOfferedForTradeByPeer && (\n            <Button\n              {...{\n                className: 'purchase',\n                color: 'primary',\n                disabled:\n                  cowValue > money ||\n                  cowInventory.length >=\n                    PURCHASEABLE_COW_PENS.get(purchasedCowPen).cows,\n                onClick: () => handleCowPurchaseClick(cow),\n                variant: 'contained',\n              }}\n            >\n              Buy\n            </Button>\n          )}\n          {canCowBeTradedFor && (\n            <Tooltip\n              {...{\n                arrow: true,\n                placement: 'top',\n                title: 'The game will be saved when the trade is completed.',\n              }}\n            >\n              <Button\n                {...{\n                  className: 'purchase',\n                  color: 'primary',\n                  onClick: () => handleCowTradeClick(cow),\n                  variant: 'contained',\n                }}\n              >\n                Trade\n              </Button>\n            </Tooltip>\n          )}\n          {isCowPurchased && (\n            <>\n              <Button\n                {...{\n                  className: 'hug',\n                  color: 'primary',\n                  onClick: () => handleCowHugClick && handleCowHugClick(cow),\n                  variant: 'contained',\n                }}\n              >\n                Hug\n              </Button>\n              {cowCanBeTradedAway &&\n                (cowIdOfferedForTrade === cow.id ? (\n                  <Tooltip\n                    {...{\n                      arrow: true,\n                      placement: 'top',\n                      title: WITHDRAW_COW_FROM_TRADE`${cowDisplayName}`,\n                    }}\n                  >\n                    <Button\n                      {...{\n                        className: 'offer',\n                        color: 'primary',\n                        onClick: () => {\n                          handleCowWithdrawClick && handleCowWithdrawClick(cow)\n                        },\n                        variant: 'contained',\n                      }}\n                    >\n                      Withdraw\n                    </Button>\n                  </Tooltip>\n                ) : (\n                  <Tooltip\n                    {...{\n                      arrow: true,\n                      placement: 'top',\n                      title: OFFER_COW_FOR_TRADE`${cowDisplayName}`,\n                    }}\n                  >\n                    <Button\n                      {...{\n                        className: 'offer',\n                        color: 'primary',\n                        onClick: () => {\n                          handleCowOfferClick && handleCowOfferClick(cow)\n                        },\n                        variant: 'contained',\n                      }}\n                    >\n                      Offer\n                    </Button>\n                  </Tooltip>\n                ))}\n              <Button\n                {...{\n                  className: 'sell',\n                  color: 'secondary',\n                  onClick: () => handleCowSellClick(cow),\n                  variant: 'contained',\n                }}\n              >\n                Sell\n              </Button>\n            </>\n          )}\n        </CardActions>\n      </Card>\n    </>\n  )\n}\n\nCowCard.propTypes = {\n  allowCustomPeerCowNames: bool.isRequired,\n  cow: object.isRequired,\n  cowBreedingPen: object.isRequired,\n  cowIdOfferedForTrade: string.isRequired,\n  cowInventory: array.isRequired,\n  debounced: object,\n  handleCowAutomaticHugChange: func,\n  handleCowBreedChange: func,\n  handleCowHugClick: func,\n  handleCowNameInputChange: func,\n  handleCowOfferClick: func,\n  handleCowPurchaseClick: func,\n  handleCowWithdrawClick: func,\n  handleCowSellClick: func,\n  handleCowTradeClick: func,\n  id: string.isRequired,\n  inventory: array.isRequired,\n  isCowOfferedForTradeByPeer: bool,\n  isOnline: bool.isRequired,\n  isSelected: bool,\n  money: number.isRequired,\n  purchasedCowPen: number.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <CowCard {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { number, object, shape, string } from 'prop-types'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardHeader from '@material-ui/core/CardHeader'\n\nimport CowCard from '../../CowCard'\n\nimport {\n  getPlayerName,\n  farmProductsSold,\n  integerString,\n  levelAchieved,\n  moneyString,\n} from '../../../utils'\n\nimport './OnlinePeer.sass'\n\nconst OnlinePeer = ({\n  peer: { cowOfferedForTrade, dayCount, id, itemsSold, money },\n}) => {\n  return (\n    <li>\n      <Card>\n        <CardHeader\n          {...{\n            title: getPlayerName(id),\n            subheader: (\n              <div>\n                <p>Day: {integerString(dayCount)}</p>\n                <p>\n                  Level:{' '}\n                  {integerString(levelAchieved(farmProductsSold(itemsSold)))}\n                </p>\n                <p>Money: {moneyString(money)}</p>\n              </div>\n            ),\n          }}\n        />\n        <CardContent>\n          {cowOfferedForTrade && (\n            <CowCard\n              {...{ cow: cowOfferedForTrade, isCowOfferedForTradeByPeer: true }}\n            />\n          )}\n        </CardContent>\n      </Card>\n    </li>\n  )\n}\n\nOnlinePeer.propTypes = {\n  peer: shape({\n    cowOfferedForTrade: object,\n    dayCount: number.isRequired,\n    id: string.isRequired,\n    itemsSold: object.isRequired,\n    money: number.isRequired,\n  }).isRequired,\n}\n\nexport default OnlinePeer\n","import React from 'react'\nimport ReactMarkdown from 'react-markdown'\nimport Alert from '@material-ui/lab/Alert'\nimport Divider from '@material-ui/core/Divider'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport sortBy from 'lodash.sortby'\nimport { array, number, object, string } from 'prop-types'\n\nimport BailOutErrorBoundary from '../BailOutErrorBoundary'\n\nimport { getPlayerName, farmProductsSold, levelAchieved } from '../../utils'\nimport FarmhandContext from '../../Farmhand.context'\n\nimport CowCard from '../CowCard'\n\nimport OnlinePeer from './OnlinePeer'\n\nimport './OnlinePeersView.sass'\n\nconst OnlinePeersView = ({\n  activePlayers,\n  cowIdOfferedForTrade,\n  cowInventory,\n  id,\n  latestPeerMessages,\n  peers,\n}) => {\n  const peerKeys = Object.keys(peers)\n\n  const cowOfferedForTrade = cowInventory.find(\n    ({ id }) => id === cowIdOfferedForTrade\n  )\n\n  // Filter out peers that may have connected but not sent data yet.\n  const populatedPeers = peerKeys.filter(peerId => peers[peerId])\n\n  return (\n    <div {...{ className: 'OnlinePeersView' }}>\n      {activePlayers - 1 > populatedPeers.length && <p>Waiting for peers...</p>}\n      <h3>Your player name</h3>\n      <Card>\n        <CardContent>\n          <strong>{getPlayerName(id)}</strong>\n        </CardContent>\n      </Card>\n      {cowOfferedForTrade && (\n        <>\n          <Divider />\n          <h3>You are offering to trade away</h3>\n          <CowCard {...{ cow: cowOfferedForTrade }} />\n        </>\n      )}\n      {populatedPeers.length > 0 && (\n        <>\n          <Divider />\n          <ul className=\"card-list\">\n            {sortBy(populatedPeers, [\n              peerId =>\n                // Use negative value to reverse sort order\n                -levelAchieved(farmProductsSold(peers[peerId].itemsSold || 0)),\n            ]).map(peerId => (\n              <BailOutErrorBoundary {...{ key: peerId }}>\n                <OnlinePeer {...{ peer: peers[peerId] }} />\n              </BailOutErrorBoundary>\n            ))}\n          </ul>\n        </>\n      )}\n      {latestPeerMessages.length > 0 && (\n        <>\n          <Divider />\n          <ul>\n            {latestPeerMessages.map(({ id, message, severity = 'info' }, i) => (\n              <li {...{ key: i }}>\n                <Alert {...{ elevation: 3, severity }}>\n                  <ReactMarkdown\n                    {...{ source: `**${getPlayerName(id)}** ${message}` }}\n                  />\n                </Alert>\n              </li>\n            ))}\n          </ul>\n        </>\n      )}\n    </div>\n  )\n}\n\nOnlinePeersView.propTypes = {\n  activePlayers: number.isRequired,\n  cowIdOfferedForTrade: string.isRequired,\n  cowInventory: array.isRequired,\n  id: string.isRequired,\n  latestPeerMessages: array.isRequired,\n  peers: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <OnlinePeersView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { tween } from 'shifty'\nimport { func, number } from 'prop-types'\n\nimport './AnimatedNumber.sass'\n\nconst defaultFormatter = number => `${number}`\n\nconst AnimatedNumber = ({ number, formatter = defaultFormatter }) => {\n  const [displayedNumber, setDisplayedNumber] = useState(number)\n  const [previousNumber, setPreviousNumber] = useState(number)\n  const [currentTweenable, setCurrentTweenable] = useState()\n\n  useEffect(() => {\n    setPreviousNumber(number)\n  }, [number, setPreviousNumber])\n\n  useEffect(() => {\n    if (number !== previousNumber) {\n      if (currentTweenable) {\n        currentTweenable.cancel()\n      }\n\n      const tweenable = tween({\n        easing: 'easeOutQuad',\n        duration: 750,\n        render: ({ number }) => {\n          setDisplayedNumber(number)\n        },\n        from: {\n          number: previousNumber,\n        },\n        to: { number },\n      })\n\n      setCurrentTweenable(tweenable)\n    }\n\n    return () => {\n      if (currentTweenable) {\n        currentTweenable.cancel()\n      }\n    }\n  }, [currentTweenable, number, previousNumber])\n  return <span className=\"AnimatedNumber\">{formatter(displayedNumber)}</span>\n}\n\nAnimatedNumber.propTypes = {\n  formatter: func,\n  number: number.isRequired,\n}\n\nexport default AnimatedNumber\n","import React from 'react'\nimport { func, number } from 'prop-types'\nimport Fab from '@material-ui/core/Fab'\nimport KeyboardArrowUp from '@material-ui/icons/KeyboardArrowUp'\nimport KeyboardArrowDown from '@material-ui/icons/KeyboardArrowDown'\nimport NumberFormat from 'react-number-format'\nimport TextField from '@material-ui/core/TextField'\n\nimport AnimatedNumber from '../AnimatedNumber'\n\nimport { integerString } from '../../utils'\n\nimport './QuantityInput.sass'\n\nconst QuantityNumberFormat = ({ inputRef, min, max, onChange, ...rest }) => (\n  <NumberFormat\n    isNumericString\n    thousandSeparator\n    {...{\n      ...rest,\n      allowNegative: false,\n      decimalScale: 0,\n      onValueChange: ({ floatValue = 0 }) =>\n        onChange(Math.min(floatValue, max)),\n    }}\n  />\n)\n\nconst QuantityTextInput = ({\n  handleSubmit,\n  handleUpdateNumber,\n  maxQuantity,\n  value,\n}) => (\n  <TextField\n    {...{\n      value,\n      inputProps: {\n        pattern: '[0-9]*',\n        min: 0,\n        max: maxQuantity,\n      },\n      onChange: handleUpdateNumber,\n      onFocus: () => {\n        // clear the input when input is first selected so the user doesn't have to fight with clearing out default values\n        handleUpdateNumber(undefined)\n      },\n      // Bind to keyup to prevent spamming the event handler.\n      onKeyUp: ({ which }) => {\n        // Enter\n        if (which === 13) {\n          handleSubmit()\n        }\n      },\n\n      InputProps: {\n        inputComponent: QuantityNumberFormat,\n      },\n    }}\n  />\n)\n\nconst QuantityInput = ({\n  handleSubmit,\n  handleUpdateNumber,\n  maxQuantity,\n  setQuantity,\n  value,\n}) => (\n  <div className=\"QuantityInput\">\n    <QuantityTextInput\n      {...{ handleSubmit, handleUpdateNumber, maxQuantity, value }}\n    />\n    <span className=\"quantity\">\n      /{' '}\n      <AnimatedNumber {...{ number: maxQuantity, formatter: integerString }} />\n    </span>\n    <div className=\"number-nudger-container\">\n      <Fab\n        disabled={!value}\n        {...{\n          'aria-label': 'Increment',\n          color: 'primary',\n          onClick: () => setQuantity(++value > maxQuantity ? 1 : value),\n          size: 'small',\n        }}\n      >\n        <KeyboardArrowUp />\n      </Fab>\n      <Fab\n        disabled={!value}\n        {...{\n          'aria-label': 'Decrement',\n          color: 'primary',\n          onClick: () => setQuantity(--value === 0 ? maxQuantity : value),\n          size: 'small',\n        }}\n      >\n        <KeyboardArrowDown />\n      </Fab>\n    </div>\n  </div>\n)\n\nQuantityInput.propTypes = {\n  handleSubmit: func.isRequired,\n  handleUpdateNumber: func.isRequired,\n  maxQuantity: number.isRequired,\n  setQuantity: func.isRequired,\n  value: number,\n}\n\nQuantityInput.defaultProps = {\n  value: 1,\n}\n\nexport default QuantityInput\n","import React, { useEffect, useState } from 'react'\nimport KeyboardArrowUp from '@material-ui/icons/KeyboardArrowUp'\nimport KeyboardArrowDown from '@material-ui/icons/KeyboardArrowDown'\nimport Button from '@material-ui/core/Button'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Typography from '@material-ui/core/Typography'\nimport { array, bool, func, number, object } from 'prop-types'\nimport classNames from 'classnames'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { items } from '../../img'\nimport { itemsMap } from '../../data/maps'\nimport { itemIds as shopItemIds } from '../../data/shop-inventory'\nimport {\n  inventorySpaceRemaining,\n  isItemSoldInShop,\n  getCropLifecycleDuration,\n  getFinalCropItemFromSeedItem,\n  getItemCurrentValue,\n  getResaleValue,\n  getSalePriceMultiplier,\n  moneyString,\n  integerString,\n} from '../../utils'\nimport QuantityInput from '../QuantityInput'\nimport AnimatedNumber from '../AnimatedNumber'\n\nimport './Item.sass'\n\nconst noop = () => {}\n\nconst ValueIndicator = ({ poorValue }) => (\n  <Tooltip\n    {...{\n      arrow: true,\n      placement: 'top',\n      title: `${poorValue ? 'Poor' : 'Good'} opportunity`,\n    }}\n  >\n    {poorValue ? (\n      <KeyboardArrowDown color=\"error\" />\n    ) : (\n      <KeyboardArrowUp color=\"primary\" />\n    )}\n  </Tooltip>\n)\n\nconst PurchaseValueIndicator = ({\n  id,\n  value,\n  valueAdjustments,\n\n  poorValue = value > itemsMap[id].value,\n}) => (\n  <ValueIndicator\n    {...{\n      id,\n      poorValue,\n      value,\n      valueAdjustments,\n    }}\n  />\n)\n\nconst SellValueIndicator = ({\n  id,\n  value,\n  valueAdjustments,\n\n  poorValue = value < itemsMap[id].value,\n}) => (\n  <ValueIndicator\n    {...{\n      id,\n      poorValue,\n      value,\n      valueAdjustments,\n    }}\n  />\n)\n\nexport const Item = ({\n  completedAchievements,\n  handleItemPurchaseClick,\n  handleItemSelectClick,\n  handleItemSellClick,\n  historicalValueAdjustments,\n  inventory,\n  inventoryLimit,\n  isPurchaseView,\n  isSelectView,\n  isSelected,\n  isSellView,\n  item,\n  item: { description, doesPriceFluctuate, id, isReplantable, name },\n  money,\n  playerInventoryQuantities,\n  showQuantity,\n  valueAdjustments,\n\n  // Note: These props are defaulted to 0 in the tests.\n  adjustedValue = isSellView && isItemSoldInShop(item)\n    ? getResaleValue(item)\n    : getItemCurrentValue(item, valueAdjustments),\n\n  previousDayAdjustedValue = (isSellView && isItemSoldInShop(item)) ||\n  historicalValueAdjustments.length === 0 ||\n  !doesPriceFluctuate\n    ? null\n    : getItemCurrentValue(item, historicalValueAdjustments[0]),\n\n  maxQuantityPlayerCanPurchase = Math.max(\n    0,\n    Math.min(\n      Math.floor(money / adjustedValue),\n      inventorySpaceRemaining({ inventory, inventoryLimit })\n    )\n  ),\n}) => {\n  const [purchaseQuantity, setPurchaseQuantity] = useState(1)\n  const [sellQuantity, setSellQuantity] = useState(1)\n\n  useEffect(() => {\n    // TODO: Determine if this logic can be simplified to be more like the\n    // useEffect function below.\n    setPurchaseQuantity(\n      Math.min(maxQuantityPlayerCanPurchase, Math.max(1, purchaseQuantity))\n    )\n  }, [maxQuantityPlayerCanPurchase, purchaseQuantity])\n\n  useEffect(() => {\n    setSellQuantity(Math.min(playerInventoryQuantities[id], sellQuantity))\n  }, [id, playerInventoryQuantities, sellQuantity])\n\n  const handleItemPurchase = () => {\n    handleItemPurchaseClick(item, purchaseQuantity)\n    setPurchaseQuantity(Math.min(1, maxQuantityPlayerCanPurchase))\n  }\n  const handleItemSell = () => {\n    handleItemSellClick(item, sellQuantity)\n    setSellQuantity(Math.min(1, playerInventoryQuantities[id]))\n  }\n\n  const avatar = <img {...{ src: items[id] }} alt={name} />\n\n  let sellPrice = adjustedValue\n\n  // #140 - never increase the value of items the shop sells otherwise they\n  // can be bought and instantly resold for a profit to game the.. game\n  if (!shopItemIds.has(id)) {\n    sellPrice *= getSalePriceMultiplier(completedAchievements)\n  }\n\n  return (\n    <Card\n      {...{\n        className: classNames('Item', {\n          'is-selectable': isSelectView,\n          'is-selected': isSelected,\n        }),\n        onClick: isSelectView ? () => handleItemSelectClick(item) : noop,\n        raised: isSelected,\n      }}\n    >\n      <CardHeader\n        {...{\n          avatar:\n            !isPurchaseView && description ? (\n              <Tooltip\n                {...{\n                  arrow: true,\n                  placement: 'top',\n                  title: <Typography>{description}</Typography>,\n                }}\n              >\n                {avatar}\n              </Tooltip>\n            ) : (\n              avatar\n            ),\n          title: name,\n          subheader: (\n            <div>\n              {isPurchaseView && (\n                <p>\n                  <Tooltip\n                    {...{\n                      arrow: true,\n                      placement: 'top',\n                      title:\n                        previousDayAdjustedValue === null\n                          ? ''\n                          : `Yesterday's price: ${moneyString(\n                              previousDayAdjustedValue\n                            )}`,\n                    }}\n                  >\n                    <span>\n                      Price:{' '}\n                      <AnimatedNumber\n                        {...{ number: adjustedValue, formatter: moneyString }}\n                      />\n                    </span>\n                  </Tooltip>\n                  {completedAchievements['unlock-crop-price-guide'] &&\n                    valueAdjustments[id] && (\n                      <PurchaseValueIndicator\n                        {...{ id, value: adjustedValue, valueAdjustments }}\n                      />\n                    )}\n                </p>\n              )}\n              {isSellView && (\n                <p>\n                  <Tooltip\n                    {...{\n                      arrow: true,\n                      placement: 'top',\n                      title:\n                        previousDayAdjustedValue === null\n                          ? ''\n                          : `Yesterday's sell price: ${moneyString(\n                              previousDayAdjustedValue\n                            )}`,\n                    }}\n                  >\n                    <span>\n                      Sell price:{' '}\n                      <AnimatedNumber\n                        {...{ number: sellPrice, formatter: moneyString }}\n                      />\n                    </span>\n                  </Tooltip>\n                  {completedAchievements['unlock-crop-price-guide'] &&\n                    valueAdjustments[id] && (\n                      <SellValueIndicator\n                        {...{ id, value: adjustedValue, valueAdjustments }}\n                      />\n                    )}\n                </p>\n              )}\n              {showQuantity && (\n                <p>\n                  <strong>In inventory:</strong>{' '}\n                  <AnimatedNumber\n                    {...{\n                      number: playerInventoryQuantities[id],\n                      formatter: integerString,\n                    }}\n                  />\n                </p>\n              )}\n              {isPurchaseView && item.growsInto && (\n                <p>\n                  Days to mature:{' '}\n                  {getCropLifecycleDuration(getFinalCropItemFromSeedItem(item))}\n                </p>\n              )}\n            </div>\n          ),\n        }}\n      />\n      {isPurchaseView && (description || isReplantable) && (\n        <CardContent>\n          {description && <Typography>{description}</Typography>}\n          {isReplantable && (\n            <Typography {...{ color: 'textSecondary' }}>\n              Once planted in the field, this item can be returned to your\n              inventory with the hoe and then replanted elsewhere.\n            </Typography>\n          )}\n        </CardContent>\n      )}\n      <CardActions>\n        {isSelectView && (\n          <Button\n            {...{\n              // The onClick handler for this is bound on the parent Card for\n              // better select-ability.\n              className: 'select',\n              color: 'primary',\n              variant: isSelected ? 'contained' : 'outlined',\n            }}\n          >\n            Select\n          </Button>\n        )}\n        {isPurchaseView && (\n          <>\n            <Button\n              {...{\n                className: 'purchase',\n                color: 'primary',\n                disabled:\n                  !purchaseQuantity || adjustedValue * purchaseQuantity > money,\n                onClick: handleItemPurchase,\n                variant: 'contained',\n              }}\n            >\n              Buy\n            </Button>\n            <QuantityInput\n              {...{\n                handleSubmit: handleItemPurchase,\n                handleUpdateNumber: setPurchaseQuantity,\n                maxQuantity: maxQuantityPlayerCanPurchase,\n                setQuantity: setPurchaseQuantity,\n                value: purchaseQuantity,\n              }}\n            />\n          </>\n        )}\n        {isSellView && (\n          <>\n            <Button\n              {...{\n                className: 'sell',\n                color: 'secondary',\n                disabled: sellQuantity === 0 || !sellQuantity,\n                onClick: handleItemSell,\n                variant: 'contained',\n              }}\n            >\n              Sell\n            </Button>\n            <QuantityInput\n              {...{\n                handleSubmit: handleItemSell,\n                handleUpdateNumber: setSellQuantity,\n                maxQuantity: playerInventoryQuantities[id],\n                setQuantity: setSellQuantity,\n                value: sellQuantity,\n              }}\n            />\n          </>\n        )}\n      </CardActions>\n    </Card>\n  )\n}\n\nItem.propTypes = {\n  adjustedValue: number,\n  completedAchievements: object.isRequired,\n  handleItemPurchaseClick: func,\n  handleItemSelectClick: func,\n  handleItemSellClick: func,\n  historicalValueAdjustments: array.isRequired,\n  inventory: array.isRequired,\n  inventoryLimit: number.isRequired,\n  isPurchaseView: bool,\n  isSelectView: bool,\n  isSelected: bool,\n  isSellView: bool,\n  item: object.isRequired,\n  money: number.isRequired,\n  playerInventoryQuantities: object.isRequired,\n  showQuantity: bool,\n  valueAdjustments: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Item {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { object } from 'prop-types'\nimport Divider from '@material-ui/core/Divider'\n\nimport { itemsMap } from '../../data/maps'\nimport FarmhandContext from '../../Farmhand.context'\nimport Item from '../Item'\n\nimport './PriceEventView.sass'\n\nconst PriceEventView = ({ priceCrashes, priceSurges }) => (\n  <div className=\"PriceEventView\">\n    <h3>Price Surges</h3>\n    <ul className=\"card-list\">\n      {Object.keys(priceSurges).map(itemId => (\n        <li {...{ key: itemId }}>\n          <Item\n            {...{\n              isSellView: true,\n              item: itemsMap[itemId],\n              showQuantity: true,\n            }}\n          />\n        </li>\n      ))}\n    </ul>\n    <Divider />\n    <h3>Price Crashes</h3>\n    <ul className=\"card-list\">\n      {Object.keys(priceCrashes).map(itemId => (\n        <li {...{ key: itemId }}>\n          <Item\n            {...{\n              item: itemsMap[itemId],\n            }}\n          />\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nPriceEventView.propTypes = {\n  priceCrashes: object.isRequired,\n  priceSurges: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <PriceEventView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useState } from 'react'\nimport { bool, func } from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Divider from '@material-ui/core/Divider'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport Switch from '@material-ui/core/Switch'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport FileReaderInput from 'react-file-reader-input'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './SettingsView.sass'\n\nconst SettingsView = ({\n  allowCustomPeerCowNames,\n  handleAllowCustomPeerCowNamesChange,\n  handleClearPersistedDataClick,\n  handleExportDataClick,\n  handleImportDataClick,\n  handleSaveButtonClick,\n  handleShowNotificationsChange,\n  handleUseAlternateEndDayButtonPositionChange,\n  handleShowHomeScreenChange,\n  showNotifications,\n  useAlternateEndDayButtonPosition,\n  showHomeScreen,\n}) => {\n  const [isClearDataDialogOpen, setIsClearDataDialogOpen] = useState(false)\n\n  return (\n    <div className=\"SettingsView\">\n      <div className=\"button-row\">\n        <Button\n          {...{\n            color: 'primary',\n            onClick: handleSaveButtonClick,\n            variant: 'contained',\n          }}\n        >\n          Save Game\n        </Button>\n      </div>\n      <Divider />\n\n      <FormControl component=\"fieldset\">\n        <FormLabel component=\"legend\">Options</FormLabel>\n        <FormGroup>\n          <FormControlLabel\n            control={\n              <Switch\n                color=\"primary\"\n                checked={useAlternateEndDayButtonPosition}\n                onChange={handleUseAlternateEndDayButtonPositionChange}\n                name=\"use-alternate-end-day-button-position\"\n              />\n            }\n            label=\"Use alternate position for Bed button\"\n          />\n          <FormControlLabel\n            control={\n              <Switch\n                color=\"primary\"\n                checked={showNotifications}\n                onChange={handleShowNotificationsChange}\n                name=\"show-notifications\"\n              />\n            }\n            label=\"Show new notifications\"\n          />\n          <FormControlLabel\n            control={\n              <Switch\n                color=\"primary\"\n                checked={showHomeScreen}\n                onChange={handleShowHomeScreenChange}\n                name=\"show-home-screen\"\n              />\n            }\n            label=\"Show the Home Screen\"\n          />\n          <FormControlLabel\n            control={\n              <Switch\n                color=\"primary\"\n                checked={allowCustomPeerCowNames}\n                onChange={handleAllowCustomPeerCowNamesChange}\n                name=\"allow-custom-peer-cow-names\"\n              />\n            }\n            label=\"Display custom names for cows received from other players\"\n          />\n        </FormGroup>\n      </FormControl>\n\n      <Divider />\n      <div className=\"button-row\">\n        <Tooltip\n          {...{\n            arrow: true,\n            placement: 'top',\n            title: 'Save your game data as a file on your device',\n          }}\n        >\n          <Button\n            {...{\n              color: 'primary',\n              onClick: handleExportDataClick,\n              variant: 'contained',\n            }}\n          >\n            Export Game Data\n          </Button>\n        </Tooltip>\n        <FileReaderInput\n          {...{\n            as: 'text',\n            onChange: (e, results) => {\n              handleImportDataClick(results)\n            },\n          }}\n        >\n          <Tooltip\n            {...{\n              arrow: true,\n              placement: 'top',\n              title: 'Load game data that was previously saved',\n            }}\n          >\n            <Button {...{ color: 'primary', variant: 'contained' }}>\n              Import Game Data\n            </Button>\n          </Tooltip>\n        </FileReaderInput>\n      </div>\n      <Divider />\n      <div className=\"button-row\">\n        <Button\n          {...{\n            color: 'primary',\n            onClick: () => setIsClearDataDialogOpen(true),\n            variant: 'contained',\n          }}\n        >\n          Delete Game Data\n        </Button>\n      </div>\n\n      <Dialog\n        {...{\n          className: 'Farmhand',\n          open: isClearDataDialogOpen,\n          onClose: () => setIsClearDataDialogOpen(false),\n          maxWidth: 'xs',\n        }}\n      >\n        <DialogTitle>Delete game data?</DialogTitle>\n        <DialogContent dividers>\n          <p>\n            Are you sure that you want to delete your game data? This can't be\n            undone. You may want to export your game data first.\n          </p>\n          <DialogActions>\n            <Button\n              autoFocus\n              {...{\n                color: 'primary',\n                onClick: () => setIsClearDataDialogOpen(false),\n              }}\n            >\n              Cancel\n            </Button>\n            <Button\n              {...{\n                color: 'secondary',\n                onClick: () => {\n                  handleClearPersistedDataClick()\n                  setIsClearDataDialogOpen(false)\n                },\n              }}\n            >\n              Do it\n            </Button>\n          </DialogActions>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n\nSettingsView.propTypes = {\n  allowCustomPeerCowNames: bool.isRequired,\n  handleAllowCustomPeerCowNamesChange: func.isRequired,\n  handleClearPersistedDataClick: func.isRequired,\n  handleExportDataClick: func.isRequired,\n  handleImportDataClick: func.isRequired,\n  handleSaveButtonClick: func.isRequired,\n  handleShowHomeScreenChange: func.isRequired,\n  handleShowNotificationsChange: func.isRequired,\n  handleUseAlternateEndDayButtonPositionChange: func.isRequired,\n  showHomeScreen: bool.isRequired,\n  showNotifications: bool.isRequired,\n  useAlternateEndDayButtonPosition: bool.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <SettingsView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { array, object, number, string } from 'prop-types'\nimport classNames from 'classnames'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableRow from '@material-ui/core/TableRow'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Paper from '@material-ui/core/Paper'\nimport sortBy from 'lodash.sortby'\n\nimport { itemsMap } from '../../data/maps'\nimport FarmhandContext from '../../Farmhand.context'\nimport {\n  farmProductSalesVolumeNeededForLevel,\n  farmProductsSold,\n  get7DayAverage,\n  getProfit,\n  getProfitRecord,\n  integerString,\n  levelAchieved,\n  moneyString,\n  moneyTotal,\n} from '../../utils'\nimport {\n  COW_SOLD_TOOLTIP_TEXT,\n  FARM_PRODUCTS_TOOLTIP_TEXT,\n} from '../../strings'\nimport { DAILY_FINANCIAL_HISTORY_RECORD_LENGTH } from '../../constants'\n\nimport './StatsView.sass'\n\nconst ElevatedPaper = props => (\n  <Paper {...{ ...props, elevation: 6 }}>{props.children}</Paper>\n)\n\nconst StatsView = ({\n  cowsTraded,\n  farmName,\n  historicalDailyLosses,\n  historicalDailyRevenue,\n  itemsSold,\n  loansTakenOut,\n  profitabilityStreak,\n  record7dayProfitAverage,\n  recordProfitabilityStreak,\n  recordSingleDayProfit,\n  revenue,\n  todaysLosses,\n  todaysRevenue,\n\n  totalFarmProductsSold = farmProductsSold(itemsSold),\n  currentLevel = levelAchieved(totalFarmProductsSold),\n}) => (\n  <div className=\"StatsView\">\n    <TableContainer {...{ component: ElevatedPaper }}>\n      <Table aria-label=\"Farmer Stats\">\n        <TableBody>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Farm Name\n            </TableCell>\n            <TableCell align=\"right\">{farmName} Farm</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Farmer Level\n            </TableCell>\n            <TableCell align=\"right\">{integerString(currentLevel)}</TableCell>\n          </TableRow>\n          <Tooltip\n            {...{\n              arrow: true,\n              placement: 'top',\n              title: FARM_PRODUCTS_TOOLTIP_TEXT,\n            }}\n          >\n            <TableRow>\n              <TableCell {...{ component: 'th', scope: 'row' }}>\n                Farm Products Sold\n              </TableCell>\n              <TableCell align=\"right\">\n                {integerString(totalFarmProductsSold)}\n              </TableCell>\n            </TableRow>\n          </Tooltip>\n          <Tooltip\n            {...{\n              arrow: true,\n              placement: 'top',\n              title: FARM_PRODUCTS_TOOLTIP_TEXT,\n            }}\n          >\n            <TableRow>\n              <TableCell {...{ component: 'th', scope: 'row' }}>\n                Sales Needed for Next Level\n              </TableCell>\n              <TableCell align=\"right\">\n                {integerString(\n                  farmProductSalesVolumeNeededForLevel(currentLevel + 1) -\n                    totalFarmProductsSold\n                )}\n              </TableCell>\n            </TableRow>\n          </Tooltip>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Loans Taken Out\n            </TableCell>\n            <TableCell align=\"right\">{integerString(loansTakenOut)}</TableCell>\n          </TableRow>\n          <Tooltip\n            {...{\n              arrow: true,\n              placement: 'top',\n              title: COW_SOLD_TOOLTIP_TEXT,\n            }}\n          >\n            <TableRow>\n              <TableCell {...{ component: 'th', scope: 'row' }}>\n                Cows traded\n              </TableCell>\n              <TableCell align=\"right\">{integerString(cowsTraded)}</TableCell>\n            </TableRow>\n          </Tooltip>\n        </TableBody>\n      </Table>\n    </TableContainer>\n    <h3>Financial Records</h3>\n    <TableContainer {...{ component: ElevatedPaper }}>\n      <Table aria-label=\"Profit and Loss Stats\">\n        <TableBody>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Today's Revenue\n            </TableCell>\n            <TableCell align=\"right\">{moneyString(todaysRevenue)}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Today's Losses\n            </TableCell>\n            <TableCell align=\"right\">{moneyString(todaysLosses)}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Today's Profit\n            </TableCell>\n            <TableCell\n              {...{\n                align: 'right',\n                className: classNames({\n                  'danger-text': Math.abs(todaysLosses) > todaysRevenue,\n                }),\n              }}\n            >\n              {moneyString(getProfit(todaysRevenue, todaysLosses))}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Record Single Day Profit\n            </TableCell>\n            <TableCell\n              {...{\n                align: 'right',\n              }}\n            >\n              {moneyString(\n                getProfitRecord(\n                  recordSingleDayProfit,\n                  todaysRevenue,\n                  todaysLosses\n                )\n              )}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Current Profitability Streak\n            </TableCell>\n            <TableCell align=\"right\">\n              {profitabilityStreak} {profitabilityStreak === 1 ? 'day' : 'days'}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Record Profitability Streak\n            </TableCell>\n            <TableCell align=\"right\">\n              {recordProfitabilityStreak}{' '}\n              {recordProfitabilityStreak === 1 ? 'day' : 'days'}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              {DAILY_FINANCIAL_HISTORY_RECORD_LENGTH}-day Profit Average\n            </TableCell>\n            <TableCell align=\"right\">\n              {moneyString(\n                get7DayAverage(\n                  historicalDailyLosses.map((loss, i) =>\n                    moneyTotal(historicalDailyRevenue[i], loss)\n                  )\n                )\n              )}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Record {DAILY_FINANCIAL_HISTORY_RECORD_LENGTH}-day Profit Average\n            </TableCell>\n            <TableCell align=\"right\">\n              {moneyString(record7dayProfitAverage)}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              All-Time Total Revenue\n            </TableCell>\n            <TableCell align=\"right\">{moneyString(revenue)}</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n    {Object.keys(itemsSold).length > 0 && (\n      <>\n        <h3>Items Sold</h3>\n        <TableContainer {...{ component: ElevatedPaper }}>\n          <Table aria-label=\"Profit and Loss Stats\">\n            <TableBody>\n              {sortBy(Object.entries(itemsSold), ([itemId]) => itemId).map(\n                ([itemId, quantity]) => (\n                  <TableRow {...{ key: itemId }}>\n                    <TableCell {...{ component: 'th', scope: 'row' }}>\n                      {itemsMap[itemId].name}\n                    </TableCell>\n                    <TableCell align=\"right\">\n                      {integerString(quantity)}\n                    </TableCell>\n                  </TableRow>\n                )\n              )}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </>\n    )}\n  </div>\n)\n\nStatsView.propTypes = {\n  cowsTraded: number.isRequired,\n  farmName: string.isRequired,\n  historicalDailyLosses: array.isRequired,\n  historicalDailyRevenue: array.isRequired,\n  itemsSold: object.isRequired,\n  profitabilityStreak: number.isRequired,\n  record7dayProfitAverage: number.isRequired,\n  recordProfitabilityStreak: number.isRequired,\n  revenue: number.isRequired,\n  todaysLosses: number.isRequired,\n  todaysRevenue: number.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <StatsView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport Paper from '@material-ui/core/Paper'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableRow from '@material-ui/core/TableRow'\n\nimport './KeybindingsView.sass'\n\nconst ElevatedPaper = props => (\n  <Paper {...{ ...props, elevation: 6 }}>{props.children}</Paper>\n)\n\nconst KeybindingsView = () => (\n  <div className=\"KeybindingsView\">\n    <TableContainer {...{ component: ElevatedPaper }}>\n      <Table aria-label=\"Keyboard Shortcuts\">\n        <TableBody>\n          {[\n            {\n              label: 'Show Keyboard Shortcuts (this screen)',\n              keybinding: 'Shift + ?',\n            },\n            { label: 'Toggle menu', keybinding: 'M' },\n            { label: 'End the day', keybinding: 'Shift + C' },\n            { label: 'Go to screen by <1-9> order', keybinding: '<1-9>' },\n            { label: 'Go to next screen', keybinding: 'Right arrow key' },\n            { label: 'Go to previous screen', keybinding: 'Left arrow key' },\n            { label: 'Go to Farm Stats', keybinding: 'S' },\n            { label: 'Go to Achievements', keybinding: 'A' },\n            { label: \"Go to Farmer's Log\", keybinding: 'L' },\n            { label: 'Go to Price Events', keybinding: 'E' },\n            { label: 'Go to Bank Account', keybinding: 'B' },\n            { label: 'Go to Settings', keybinding: ',' },\n          ].map(({ label, keybinding }) => (\n            <TableRow {...{ key: label }}>\n              <TableCell {...{ component: 'th', scope: 'row' }}>\n                {label}\n              </TableCell>\n              <TableCell align=\"right\">{keybinding}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n    <h3>Field-specific keyboard shortcuts</h3>\n    <TableContainer {...{ component: ElevatedPaper }}>\n      <Table aria-label=\"Keyboard Shortcuts\">\n        <TableBody>\n          {[\n            { label: 'Zoom in', keybinding: '=' },\n            { label: 'Zoom out', keybinding: '-' },\n          ].map(({ label, keybinding }) => (\n            <TableRow {...{ key: label }}>\n              <TableCell {...{ component: 'th', scope: 'row' }}>\n                {label}\n              </TableCell>\n              <TableCell align=\"right\">{keybinding}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  </div>\n)\n\nKeybindingsView.propTypes = {}\n\nexport default KeybindingsView\n","import React, { useState, useEffect } from 'react'\nimport classNames from 'classnames'\n\nimport AccountBalanceIcon from '@material-ui/icons/AccountBalance'\nimport AssessmentIcon from '@material-ui/icons/Assessment'\nimport BeenhereIcon from '@material-ui/icons/Beenhere.js'\nimport BookIcon from '@material-ui/icons/Book'\nimport Box from '@material-ui/core/Box'\nimport Button from '@material-ui/core/Button'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Fab from '@material-ui/core/Fab'\nimport FlashOnIcon from '@material-ui/icons/FlashOn'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Select from '@material-ui/core/Select'\nimport SettingsIcon from '@material-ui/icons/Settings'\nimport Switch from '@material-ui/core/Switch'\nimport TextField from '@material-ui/core/TextField'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Typography from '@material-ui/core/Typography'\nimport { array, bool, func, number, object, string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport {\n  doesInventorySpaceRemain,\n  farmProductSalesVolumeNeededForLevel,\n  farmProductsSold,\n  integerString,\n  inventorySpaceConsumed,\n  levelAchieved,\n  scaleNumber,\n} from '../../utils'\nimport { dialogView } from '../../enums'\nimport { STAGE_TITLE_MAP } from '../../constants'\nimport { MAX_ROOM_NAME_LENGTH } from '../../common/constants'\n\nimport AccountingView from '../AccountingView'\nimport AchievementsView from '../AchievementsView'\nimport LogView from '../LogView'\nimport OnlinePeersView from '../OnlinePeersView'\nimport PriceEventView from '../PriceEventView'\nimport SettingsView from '../SettingsView'\nimport StatsView from '../StatsView'\nimport KeybindingsView from '../KeybindingsView'\n\nimport './Navigation.sass'\n\nconst FarmNameDisplay = ({ farmName, handleFarmNameUpdate }) => {\n  const [displayedFarmName, setDisplayedFarmName] = useState(farmName)\n\n  useEffect(() => {\n    setDisplayedFarmName(farmName)\n  }, [farmName, setDisplayedFarmName])\n\n  return (\n    <h2 className=\"farm-name\">\n      <TextField\n        {...{\n          inputProps: {\n            maxLength: 12,\n          },\n          onChange: ({ target: { value } }) => {\n            setDisplayedFarmName(value)\n          },\n          onBlur: ({ target: { value } }) => {\n            handleFarmNameUpdate(value)\n          },\n          placeholder: 'Farm Name',\n          value: displayedFarmName,\n        }}\n      />{' '}\n      Farm\n    </h2>\n  )\n}\n\nconst OnlineControls = ({\n  activePlayers,\n  handleActivePlayerButtonClick,\n  handleOnlineToggleChange,\n  handleRoomChange,\n  isOnline,\n  room,\n}) => {\n  const [displayedRoom, setDisplayedRoom] = useState(room)\n\n  useEffect(() => {\n    setDisplayedRoom(room)\n  }, [room, setDisplayedRoom])\n\n  return (\n    <>\n      <FormControl\n        {...{ className: 'online-control-container', component: 'fieldset' }}\n      >\n        <FormGroup {...{ className: 'toggle-container' }}>\n          <FormControlLabel\n            control={\n              <Switch\n                color=\"primary\"\n                checked={isOnline}\n                onChange={handleOnlineToggleChange}\n                name=\"use-alternate-end-day-button-position\"\n              />\n            }\n            label=\"Play online\"\n          />\n        </FormGroup>\n        <TextField\n          {...{\n            className: 'room-name',\n            inputProps: {\n              maxLength: MAX_ROOM_NAME_LENGTH,\n            },\n            label: 'Room name',\n            onChange: ({ target: { value } }) => {\n              setDisplayedRoom(value)\n            },\n            onBlur: ({ target: { value } }) => {\n              handleRoomChange(value)\n            },\n            onKeyUp: ({ target: { value }, which }) => {\n              // Enter\n              if (which === 13) {\n                handleRoomChange(value)\n              }\n            },\n            value: displayedRoom,\n            variant: 'outlined',\n          }}\n        />\n      </FormControl>\n      {activePlayers && (\n        <Button\n          {...{\n            color: 'primary',\n            onClick: handleActivePlayerButtonClick,\n            variant: 'contained',\n          }}\n        >\n          Active players: {integerString(activePlayers)}\n        </Button>\n      )}\n    </>\n  )\n}\n\nconst {\n  FARMERS_LOG,\n  PRICE_EVENTS,\n  STATS,\n  ACHIEVEMENTS,\n  ACCOUNTING,\n  SETTINGS,\n  ONLINE_PEERS,\n\n  // Has no UI trigger\n  KEYBINDINGS,\n} = dialogView\n\n// The labels here must be kept in sync with mappings in initInputHandlers in\n// Farmhand.js.\nconst dialogTriggerTextMap = {\n  [FARMERS_LOG]: \"Open Farmer's Log (l)\",\n  [PRICE_EVENTS]: 'See Price Events (e)',\n  [STATS]: 'View your stats (s)',\n  [ACHIEVEMENTS]: 'View Achievements (a)',\n  [ACCOUNTING]: 'View Bank Account (b)',\n  [SETTINGS]: 'View Settings (comma)',\n}\n\nconst dialogTitleMap = {\n  [FARMERS_LOG]: \"Farmer's Log\",\n  [PRICE_EVENTS]: 'Price Events',\n  [STATS]: 'Farm Stats',\n  [ACHIEVEMENTS]: 'Achievements',\n  [ACCOUNTING]: 'Bank Account',\n  [SETTINGS]: 'Settings',\n  [ONLINE_PEERS]: 'Active Players',\n\n  // Has no UI trigger\n  [KEYBINDINGS]: 'Keyboard Shortcuts',\n}\n\nconst dialogContentMap = {\n  [FARMERS_LOG]: <LogView />,\n  [PRICE_EVENTS]: <PriceEventView />,\n  [STATS]: <StatsView />,\n  [ACHIEVEMENTS]: <AchievementsView />,\n  [ACCOUNTING]: <AccountingView />,\n  [SETTINGS]: <SettingsView />,\n  [ONLINE_PEERS]: <OnlinePeersView />,\n\n  // Has no UI trigger\n  [KEYBINDINGS]: <KeybindingsView />,\n}\n\nexport const Navigation = ({\n  activePlayers,\n  blockInput,\n  currentDialogView,\n  dayCount,\n  farmName,\n  handleActivePlayerButtonClick,\n  handleClickDialogViewButton,\n  handleCloseDialogView,\n  handleDialogViewExited,\n  handleFarmNameUpdate,\n  handleOnlineToggleChange,\n  handleRoomChange,\n  handleViewChange,\n  inventory,\n  inventoryLimit,\n  itemsSold,\n  isDialogViewOpen,\n  isOnline,\n  room,\n  stageFocus,\n  viewList,\n\n  totalFarmProductsSold = farmProductsSold(itemsSold),\n  currentLevel = levelAchieved(totalFarmProductsSold),\n  levelPercent = scaleNumber(\n    totalFarmProductsSold,\n    farmProductSalesVolumeNeededForLevel(currentLevel),\n    farmProductSalesVolumeNeededForLevel(currentLevel + 1),\n    0,\n    100\n  ),\n  currentDialogViewLowerCase = currentDialogView.toLowerCase(),\n  modalTitleId = `${currentDialogViewLowerCase}-modal-title`,\n  modalContentId = `${currentDialogViewLowerCase}-modal-content`,\n}) => (\n  <header className=\"Navigation\">\n    <h1>Farmhand</h1>\n    <p className=\"version\">v{process.env.REACT_APP_VERSION}</p>\n    <FarmNameDisplay {...{ farmName, handleFarmNameUpdate }} />\n    <h2 className=\"day-and-progress-container\">\n      <span>Day {integerString(dayCount)}, level:</span>\n      <Tooltip\n        {...{\n          arrow: true,\n          placement: 'top',\n          title: `${integerString(\n            farmProductSalesVolumeNeededForLevel(currentLevel + 1) -\n              totalFarmProductsSold\n          )} more sales needed for level ${integerString(currentLevel + 1)}`,\n        }}\n      >\n        <Box>\n          <CircularProgress\n            {...{\n              value: levelPercent,\n              variant: 'determinate',\n            }}\n          />\n          <span {...{ className: 'current-level' }}>\n            {integerString(currentLevel)}\n          </span>\n        </Box>\n      </Tooltip>\n    </h2>\n    <OnlineControls\n      {...{\n        activePlayers,\n        handleActivePlayerButtonClick,\n        handleOnlineToggleChange,\n        handleRoomChange,\n        isOnline,\n        room,\n      }}\n    />\n    {inventoryLimit > -1 && (\n      <h3\n        {...{\n          className: classNames('inventory-info', {\n            'is-inventory-full': !doesInventorySpaceRemain({\n              inventory,\n              inventoryLimit,\n            }),\n          }),\n        }}\n      >\n        Inventory: {integerString(inventorySpaceConsumed(inventory))} /{' '}\n        {integerString(inventoryLimit)}\n      </h3>\n    )}\n\n    <Select\n      {...{\n        className: 'view-select',\n        onChange: handleViewChange,\n        value: stageFocus,\n      }}\n    >\n      {viewList.map((view, i) => (\n        <MenuItem {...{ key: view, value: view }}>\n          {i + 1}: {STAGE_TITLE_MAP[view]}\n        </MenuItem>\n      ))}\n    </Select>\n    <div className=\"button-array\">\n      {[\n        { dialogView: FARMERS_LOG, Icon: BookIcon },\n        { dialogView: PRICE_EVENTS, Icon: FlashOnIcon },\n        { dialogView: STATS, Icon: AssessmentIcon },\n        { dialogView: ACHIEVEMENTS, Icon: BeenhereIcon },\n        { dialogView: ACCOUNTING, Icon: AccountBalanceIcon },\n        { dialogView: SETTINGS, Icon: SettingsIcon },\n      ].map(({ dialogView, Icon }) => (\n        <Tooltip\n          {...{\n            arrow: true,\n            key: dialogView,\n            placement: 'top',\n            title: dialogTriggerTextMap[dialogView],\n          }}\n        >\n          <Fab\n            {...{\n              'aria-label': dialogTriggerTextMap[dialogView],\n              color: 'primary',\n              onClick: () => handleClickDialogViewButton(dialogView),\n            }}\n          >\n            <Icon />\n          </Fab>\n        </Tooltip>\n      ))}\n    </div>\n    {/*\n    This Dialog gets the Farmhand class because it renders outside of the root\n    Farmhand component. This explicit class maintains style consistency.\n    */}\n    <Dialog\n      {...{\n        className: classNames('Farmhand', { 'block-input': blockInput }),\n        fullWidth: true,\n        maxWidth: 'xs',\n        onClose: handleCloseDialogView,\n        open: isDialogViewOpen,\n        onExited: handleDialogViewExited,\n      }}\n      aria-describedby={modalTitleId}\n      aria-labelledby={modalContentId}\n    >\n      <DialogTitle {...{ disableTypography: true }}>\n        <Typography {...{ id: modalTitleId, component: 'h2', variant: 'h6' }}>\n          {dialogTitleMap[currentDialogView]}\n        </Typography>\n      </DialogTitle>\n      <DialogContent {...{ id: modalContentId }}>\n        {dialogContentMap[currentDialogView]}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleCloseDialogView} color=\"primary\" autoFocus>\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  </header>\n)\n\nNavigation.propTypes = {\n  activePlayers: number,\n  blockInput: bool.isRequired,\n  dayCount: number.isRequired,\n  farmName: string.isRequired,\n  handleClickDialogViewButton: func.isRequired,\n  handleActivePlayerButtonClick: func.isRequired,\n  handleCloseDialogView: func.isRequired,\n  handleDialogViewExited: func.isRequired,\n  handleFarmNameUpdate: func.isRequired,\n  handleOnlineToggleChange: func.isRequired,\n  handleRoomChange: func.isRequired,\n  handleViewChange: func.isRequired,\n  inventory: array.isRequired,\n  inventoryLimit: number.isRequired,\n  itemsSold: object.isRequired,\n  isDialogViewOpen: bool.isRequired,\n  isOnline: bool.isRequired,\n  stageFocus: string.isRequired,\n  viewList: array.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Navigation {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { Fragment } from 'react'\nimport { array } from 'prop-types'\nimport Divider from '@material-ui/core/Divider'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Item from '../Item'\nimport { itemsMap } from '../../data/maps'\nimport { enumify, itemType } from '../../enums'\nimport { sortItems } from '../../utils'\n\nimport './Inventory.sass'\n\nconst {\n  COW_FEED,\n  CRAFTED_ITEM,\n  CROP,\n  FERTILIZER,\n  HUGGING_MACHINE,\n  MILK,\n  ORE,\n  SCARECROW,\n  SPRINKLER,\n  STONE,\n  FUEL,\n  TOOL_UPGRADE,\n} = itemType\n\nexport const categoryIds = enumify([\n  'ANIMAL_PRODUCTS',\n  'ANIMAL_SUPPLIES',\n  'CRAFTED_ITEMS',\n  'CROPS',\n  'FIELD_TOOLS',\n  'MINED_RESOURCES',\n  'SEEDS',\n  'UPGRADES',\n])\nconst categoryIdKeys = Object.keys(categoryIds)\nconst {\n  ANIMAL_PRODUCTS,\n  ANIMAL_SUPPLIES,\n  CRAFTED_ITEMS,\n  CROPS,\n  FIELD_TOOLS,\n  MINED_RESOURCES,\n  SEEDS,\n  UPGRADES,\n} = categoryIds\n\nconst itemTypeCategoryMap = Object.freeze({\n  SEEDS,\n  [COW_FEED]: ANIMAL_SUPPLIES,\n  [CRAFTED_ITEM]: CRAFTED_ITEMS,\n  [CROP]: CROPS,\n  [FERTILIZER]: FIELD_TOOLS,\n  [FUEL]: MINED_RESOURCES,\n  [HUGGING_MACHINE]: ANIMAL_SUPPLIES,\n  [MILK]: ANIMAL_PRODUCTS,\n  [ORE]: MINED_RESOURCES,\n  [SCARECROW]: FIELD_TOOLS,\n  [SPRINKLER]: FIELD_TOOLS,\n  [STONE]: MINED_RESOURCES,\n  [TOOL_UPGRADE]: UPGRADES,\n})\n\nconst getItemCategories = () =>\n  categoryIdKeys.reduce((acc, key) => {\n    acc[key] = []\n    return acc\n  }, {})\n\nexport const separateItemsIntoCategories = items =>\n  sortItems(items).reduce((acc, item) => {\n    const { type } = itemsMap[item.id]\n    const category = itemTypeCategoryMap[type]\n\n    if (category === CROPS) {\n      acc[item.isPlantableCrop ? SEEDS : CROPS].push(item)\n    } else if (acc[category]) {\n      acc[category].push(item)\n    }\n\n    return acc\n  }, getItemCategories())\n\nexport const Inventory = ({\n  items,\n  playerInventory,\n  shopInventory,\n\n  isPurchaseView = false,\n  isSellView = false,\n\n  itemCategories = separateItemsIntoCategories(items),\n}) => (\n  <div className=\"Inventory\">\n    {[\n      [CROPS, 'Crops'],\n      [SEEDS, 'Seeds'],\n      [FIELD_TOOLS, 'Field Tools'],\n      [ANIMAL_PRODUCTS, 'Animal Products'],\n      [ANIMAL_SUPPLIES, 'Animal Supplies'],\n      [CRAFTED_ITEMS, 'Crafted Items'],\n      [MINED_RESOURCES, 'Mined Resources'],\n    ].map(([category, headerText]) =>\n      itemCategories[category].length ? (\n        <Fragment key={category}>\n          <section>\n            {isPurchaseView ? null : <h3>{headerText}</h3>}\n            <ul className=\"card-list\">\n              {itemCategories[category].map(item => (\n                <li key={item.id}>\n                  <Item\n                    {...{\n                      isPurchaseView,\n                      isSellView,\n                      item,\n                      showQuantity: isPurchaseView,\n                    }}\n                  />\n                </li>\n              ))}\n            </ul>\n          </section>\n          {isPurchaseView ? null : <Divider />}\n        </Fragment>\n      ) : null\n    )}\n  </div>\n)\n\nInventory.propTypes = {\n  items: array.isRequired,\n  playerInventory: array,\n  shopInventory: array,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Inventory {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { node, number } from 'prop-types'\n\nexport const TabPanel = props => {\n  const { children, value, index, ...other } = props\n\n  return (\n    <section\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`cow-context-tabpanel-${index}`}\n      aria-labelledby={`cow-context-tab-${index}`}\n      {...other}\n    >\n      {value === index ? children : null}\n    </section>\n  )\n}\n\nTabPanel.propTypes = {\n  children: node,\n  index: number.isRequired,\n  value: number.isRequired,\n}\n\nexport const a11yProps = index => ({\n  id: `cow-context-tab-${index}`,\n  'aria-controls': `cow-context-tabpanel-${index}`,\n})\n","import React, { useState } from 'react'\nimport { array, func, number, object, string } from 'prop-types'\nimport AppBar from '@material-ui/core/AppBar'\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward'\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward'\nimport Fab from '@material-ui/core/Fab'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Select from '@material-ui/core/Select'\nimport Tab from '@material-ui/core/Tab'\nimport Tabs from '@material-ui/core/Tabs'\nimport sortBy from 'lodash.sortby'\n\nimport Item from '../Item'\nimport FarmhandContext from '../../Farmhand.context'\nimport { enumify } from '../../enums'\nimport {\n  findCowById,\n  getCowSellValue,\n  getCowWeight,\n  isCowInBreedingPen,\n  nullArray,\n} from '../../utils'\nimport { PURCHASEABLE_COW_PENS } from '../../constants'\nimport { cowFeed, huggingMachine } from '../../data/items'\n\nimport CowCard from '../CowCard'\n\nimport { TabPanel, a11yProps } from './TabPanel'\n\nimport './CowPenContextMenu.sass'\n\nconst { AGE, COLOR, GENDER, HAPPINESS, VALUE, WEIGHT } = enumify([\n  'AGE',\n  'COLOR',\n  'GENDER',\n  'HAPPINESS',\n  'VALUE',\n  'WEIGHT',\n])\n\nconst sortCows = (cows, sortType, isAscending) => {\n  let sorter = _ => _\n\n  if (sortType === VALUE) {\n    sorter = getCowSellValue\n  } else if (sortType === WEIGHT) {\n    sorter = getCowWeight\n  } else if (sortType === AGE) {\n    sorter = ({ daysOld }) => daysOld\n  } else if (sortType === COLOR) {\n    sorter = ({ color }) => color\n  } else if (sortType === GENDER) {\n    sorter = ({ gender }) => gender\n  } else if (sortType === HAPPINESS) {\n    sorter = ({ happiness }) => happiness\n  }\n\n  const sortedCows = sortBy(cows, sorter)\n\n  return isAscending ? sortedCows.reverse() : sortedCows\n}\n\n/*!\n * @param {farmhand.cowBreedingPen} cowBreedingPen\n * @returns {number}\n */\nconst numberOfCowsBreeding = ({ cowId1, cowId2 }) =>\n  cowId1 ? (cowId2 ? 2 : 1) : 0\n\nexport const CowPenContextMenu = ({\n  cowBreedingPen,\n  cowForSale,\n  cowInventory,\n  handleCowAutomaticHugChange,\n  handleCowBreedChange,\n  handleCowHugClick,\n  handleCowNameInputChange,\n  handleCowOfferClick,\n  handleCowSelect,\n  handleCowSellClick,\n  handleCowWithdrawClick,\n  purchasedCowPen,\n  selectedCowId,\n}) => {\n  const [sortType, setSortType] = useState(AGE)\n  const [isAscending, setIsAscending] = useState(false)\n  const [currentTab, setCurrentTab] = useState(0)\n\n  return (\n    <div className=\"CowPenContextMenu\">\n      <h3>For sale</h3>\n      <CowCard\n        {...{\n          cow: cowForSale,\n        }}\n      />\n      <AppBar position=\"static\" color=\"primary\">\n        <Tabs\n          value={currentTab}\n          onChange={(e, newTab) => setCurrentTab(newTab)}\n          aria-label=\"Cow tabs\"\n        >\n          <Tab {...{ label: 'Cows', ...a11yProps(0) }} />\n          <Tab {...{ label: 'Breeding Pen', ...a11yProps(1) }} />\n          <Tab {...{ label: 'Supplies', ...a11yProps(2) }} />\n        </Tabs>\n      </AppBar>\n      <TabPanel value={currentTab} index={0}>\n        <h3>\n          Capacity: {cowInventory.length} /{' '}\n          {PURCHASEABLE_COW_PENS.get(purchasedCowPen).cows}\n        </h3>\n        {cowInventory.length > 1 && (\n          <div {...{ className: 'sort-wrapper' }}>\n            <Fab\n              {...{\n                'aria-label': 'Toggle sorting order',\n                onClick: () => setIsAscending(!isAscending),\n                color: 'primary',\n              }}\n            >\n              {isAscending ? <ArrowUpwardIcon /> : <ArrowDownwardIcon />}\n            </Fab>\n            <Select\n              {...{\n                className: 'sort-select',\n                displayEmpty: true,\n                value: sortType,\n                onChange: ({ target: { value } }) => setSortType(value),\n              }}\n            >\n              <MenuItem {...{ value: VALUE }}>Sort by Value</MenuItem>\n              <MenuItem {...{ value: AGE }}>Sort by Age</MenuItem>\n              <MenuItem {...{ value: HAPPINESS }}>Sort by Happiness</MenuItem>\n              <MenuItem {...{ value: WEIGHT }}>Sort by Weight</MenuItem>\n              <MenuItem {...{ value: GENDER }}>Sort by Gender</MenuItem>\n              <MenuItem {...{ value: COLOR }}>Sort by Color</MenuItem>\n            </Select>\n          </div>\n        )}\n\n        <ul className=\"card-list purchased-cows\">\n          {sortCows(cowInventory, sortType, isAscending).map(cow =>\n            isCowInBreedingPen(cow, cowBreedingPen) ? null : (\n              <li\n                {...{\n                  key: cow.id,\n                  onFocus: () => handleCowSelect(cow),\n                  onClick: () => handleCowSelect(cow),\n                }}\n              >\n                <CowCard\n                  {...{\n                    cow,\n                    handleCowAutomaticHugChange,\n                    handleCowBreedChange,\n                    handleCowHugClick,\n                    handleCowNameInputChange,\n                    handleCowOfferClick,\n                    handleCowSellClick,\n                    handleCowWithdrawClick,\n                    isCowPurchased: true,\n                    isSelected: cow.id === selectedCowId,\n                  }}\n                />\n              </li>\n            )\n          )}\n        </ul>\n      </TabPanel>\n      <TabPanel value={currentTab} index={1}>\n        <h3>Capacity: {numberOfCowsBreeding(cowBreedingPen)} / 2</h3>\n        <ul className=\"card-list purchased-cows breeding-cows\">\n          {nullArray(numberOfCowsBreeding(cowBreedingPen)).map((_null, i) => {\n            const cowId = cowBreedingPen[`cowId${i + 1}`]\n            const cow = findCowById(cowInventory, cowId)\n            return (\n              <li {...{ key: cowId }}>\n                <CowCard\n                  {...{\n                    cow,\n                    handleCowAutomaticHugChange,\n                    handleCowBreedChange,\n                    handleCowHugClick,\n                    handleCowNameInputChange,\n                    handleCowOfferClick,\n                    handleCowSellClick,\n                    handleCowWithdrawClick,\n                    isCowPurchased: true,\n                    isSelected: cow.id === selectedCowId,\n                  }}\n                />\n              </li>\n            )\n          })}\n        </ul>\n      </TabPanel>\n      <TabPanel value={currentTab} index={2}>\n        <ul className=\"card-list\">\n          <li>\n            <Item\n              {...{\n                item: cowFeed,\n                isPurchaseView: true,\n                showQuantity: true,\n              }}\n            />\n          </li>\n          <li>\n            <Item\n              {...{\n                item: huggingMachine,\n                isPurchaseView: true,\n                showQuantity: true,\n              }}\n            />\n          </li>\n        </ul>\n      </TabPanel>\n    </div>\n  )\n}\n\nCowPenContextMenu.propTypes = {\n  cowForSale: object.isRequired,\n  cowInventory: array.isRequired,\n  handleCowAutomaticHugChange: func.isRequired,\n  handleCowBreedChange: func.isRequired,\n  handleCowHugClick: func.isRequired,\n  handleCowNameInputChange: func.isRequired,\n  handleCowOfferClick: func.isRequired,\n  handleCowSelect: func.isRequired,\n  handleCowSellClick: func.isRequired,\n  handleCowWithdrawClick: func.isRequired,\n  purchasedCowPen: number.isRequired,\n  selectedCowId: string.isRequired,\n}\n\nexport default function Consumer() {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <CowPenContextMenu {...{ ...gameState, ...handlers }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { memo } from 'react'\nimport { array, string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Inventory from '../Inventory'\nimport CowPenContextMenu from '../CowPenContextMenu'\nimport { stageFocusType } from '../../enums'\n\nimport './ContextPane.sass'\n\nexport const PlayerInventory = memo(\n  ({ playerInventory }) => (\n    <Inventory\n      {...{\n        items: playerInventory,\n        isSellView: true,\n      }}\n    />\n  ),\n  (prev, next) => prev.playerInventory === next.playerInventory\n)\n\nexport const ContextPane = ({ playerInventory, stageFocus }) => (\n  <div className=\"ContextPane\">\n    {stageFocus === stageFocusType.COW_PEN ? (\n      <CowPenContextMenu />\n    ) : (\n      <>\n        <h2>Inventory</h2>\n        <PlayerInventory\n          {...{\n            playerInventory,\n          }}\n        />\n      </>\n    )}\n  </div>\n)\n\nContextPane.propTypes = {\n  playerInventory: array.isRequired,\n  stageFocus: string.isRequired,\n}\n\nexport default function Consumer() {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <ContextPane {...{ ...gameState, ...handlers }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { bool, func, number, object, string } from 'prop-types'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Typography from '@material-ui/core/Typography'\nimport classNames from 'classnames'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport {\n  getCropLifeStage,\n  getCropLifecycleDuration,\n  getPlotContentType,\n  getPlotImage,\n} from '../../utils'\nimport { itemsMap } from '../../data/maps'\nimport { pixel, plotStates } from '../../img'\nimport { cropLifeStage, fertilizerType, itemType } from '../../enums'\nimport { FERTILIZER_BONUS } from '../../constants'\n\nimport { SHOVELED } from '../../strings'\n\nimport './Plot.sass'\n\nexport const getBackgroundStyles = plotContent => {\n  if (!plotContent) {\n    return null\n  }\n\n  const backgroundImages = []\n\n  if (plotContent.fertilizerType === fertilizerType.STANDARD) {\n    backgroundImages.push(`url(${plotStates['fertilized-plot']})`)\n  } else if (plotContent.fertilizerType === fertilizerType.RAINBOW) {\n    backgroundImages.push(`url(${plotStates['rainbow-fertilized-plot']})`)\n  }\n\n  if (plotContent.wasWateredToday) {\n    backgroundImages.push(`url(${plotStates['watered-plot']})`)\n  } else if (plotContent.isShoveled) {\n    backgroundImages.push(`url(${plotStates['shoveled-plot']})`)\n  }\n\n  return backgroundImages.join(', ')\n}\n\n/*!\n * @param {(farmhand.plotContent|farmhand.crop)?} plotContent\n * @returns {number?}\n */\nexport const getDaysLeftToMature = plotContent =>\n  // Need to check that daysWatered is > -1 here because it may be NaN (in the\n  // case of non-crop items).\n  plotContent && plotContent.daysWatered > -1\n    ? Math.max(\n        0,\n        Math.ceil(\n          (getCropLifecycleDuration(\n            plotContent ? itemsMap[plotContent.itemId] : null\n          ) -\n            plotContent.daysWatered) /\n            (1 +\n              (plotContent.fertilizerType === fertilizerType.NONE\n                ? 0\n                : FERTILIZER_BONUS))\n        )\n      )\n    : null\n\nexport const Plot = ({\n  handlePlotClick,\n  isInHoverRange,\n  plotContent,\n  selectedItemId,\n  setHoveredPlot,\n  x,\n  y,\n\n  image = getPlotImage(plotContent),\n  lifeStage = plotContent &&\n    getPlotContentType(plotContent) === itemType.CROP &&\n    getCropLifeStage(plotContent),\n  isRipe = lifeStage === cropLifeStage.GROWN,\n}) => {\n  const item = plotContent ? itemsMap[plotContent.itemId] : null\n  const daysLeftToMature = getDaysLeftToMature(plotContent)\n  const isCrop =\n    plotContent && getPlotContentType(plotContent) === itemType.CROP\n  const isScarecow = itemsMap[plotContent?.itemId]?.type === itemType.SCARECROW\n  const [wasJustShoveled, setWasJustShoveled] = useState(false)\n  const [initialIsShoveledState, setInitialIsShoveledState] = useState(\n    Boolean(plotContent?.isShoveled)\n  )\n\n  useEffect(() => {\n    if (\n      !initialIsShoveledState &&\n      plotContent?.isShoveled &&\n      plotContent?.oreId\n    ) {\n      setWasJustShoveled(true)\n    }\n  }, [initialIsShoveledState, plotContent])\n\n  useEffect(() => {\n    if (plotContent === null) setInitialIsShoveledState(false)\n  }, [plotContent])\n\n  const showPlotImage = Boolean(\n    image &&\n      (wasJustShoveled ||\n        plotContent.itemId ||\n        getPlotContentType(plotContent) === itemType.CROP)\n  )\n\n  const plot = (\n    <div\n      {...{\n        className: classNames('Plot', {\n          'is-empty': !plotContent,\n          'is-in-hover-range': isInHoverRange,\n\n          // For crops\n          crop: isCrop,\n          'is-ripe': isRipe,\n\n          // For crops and scarecrows\n          'can-be-fertilized':\n            (isCrop && plotContent.fertilizerType === fertilizerType.NONE) ||\n            (isScarecow &&\n              plotContent.fertilizerType === fertilizerType.NONE &&\n              selectedItemId === 'rainbow-fertilizer'),\n\n          'can-be-mined': !plotContent,\n\n          // For scarecrows and sprinklers\n          'is-replantable': plotContent && item?.isReplantable,\n        }),\n        style: {\n          backgroundImage: getBackgroundStyles(plotContent),\n        },\n        onClick: () => handlePlotClick(x, y),\n        onMouseOver: () => setHoveredPlot({ x, y }),\n      }}\n    >\n      <img\n        {...{\n          className: classNames('square', {\n            ...(isCrop && {\n              animated: isRipe,\n              heartBeat: isRipe,\n            }),\n            ...(wasJustShoveled && {\n              animated: true,\n              'was-just-shoveled': true,\n            }),\n          }),\n          style: {\n            backgroundImage: showPlotImage ? `url(${image})` : undefined,\n          },\n          src: pixel,\n          alt: itemsMap[plotContent?.itemId ?? plotContent?.oreId]?.name || '',\n        }}\n      />\n    </div>\n  )\n\n  let tooltipContents = null\n  if (item) {\n    tooltipContents = item.name\n  } else if (plotContent?.isShoveled) {\n    tooltipContents = SHOVELED\n  }\n\n  if (!plotContent) {\n    return plot\n  }\n\n  return (\n    <Tooltip\n      {...{\n        arrow: true,\n        placement: 'top',\n        title: (\n          <>\n            {tooltipContents ? (\n              <Typography>{tooltipContents}</Typography>\n            ) : null}\n            {isCrop && (\n              <Typography>\n                {daysLeftToMature\n                  ? `Days of watering to mature: ${daysLeftToMature}`\n                  : 'Ready to harvest!'}\n              </Typography>\n            )}\n          </>\n        ),\n      }}\n    >\n      {plot}\n    </Tooltip>\n  )\n}\n\nPlot.propTypes = {\n  handlePlotClick: func.isRequired,\n  isInHoverRange: bool.isRequired,\n  lifeStage: string,\n  plotContent: object,\n  selectedItemId: string.isRequired,\n  setHoveredPlot: func.isRequired,\n  x: number.isRequired,\n  y: number.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Plot {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import { fieldMode, toolType } from '../enums'\n\nimport { features } from '../config'\n\nimport {\n  HOE_ALT_TEXT,\n  HOE_HIDDEN_TEXT,\n  SCYTHE_ALT_TEXT,\n  SCYTHE_HIDDEN_TEXT,\n  SHOVEL_ALT_TEXT,\n  SHOVEL_HIDDEN_TEXT,\n  TOOL_LEVEL_INFO,\n  WATERING_CAN_ALT_TEXT,\n  WATERING_CAN_HIDDEN_TEXT,\n} from '../strings'\n\nconst { CLEANUP, HARVEST, MINE, WATER } = fieldMode\n\nconst tools = {\n  wateringCan: {\n    alt: WATERING_CAN_ALT_TEXT,\n    fieldKey: 'shift+1',\n    fieldMode: WATER,\n    hiddenText: WATERING_CAN_HIDDEN_TEXT,\n    id: 'watering-can',\n    levelInfo: TOOL_LEVEL_INFO.WATERING_CAN,\n    order: 1,\n    type: toolType.WATERING_CAN,\n  },\n  scythe: {\n    alt: SCYTHE_ALT_TEXT,\n    fieldKey: 'shift+2',\n    fieldMode: HARVEST,\n    hiddenText: SCYTHE_HIDDEN_TEXT,\n    id: 'scythe',\n    levelInfo: TOOL_LEVEL_INFO.SCYTHE,\n    order: 2,\n    type: toolType.SCYTHE,\n  },\n  hoe: {\n    alt: HOE_ALT_TEXT,\n    fieldKey: 'shift+3',\n    fieldMode: CLEANUP,\n    hiddenText: HOE_HIDDEN_TEXT,\n    id: 'hoe',\n    levelInfo: TOOL_LEVEL_INFO.HOE,\n    order: 3,\n    type: toolType.HOE,\n  },\n}\n\nif (features.MINING) {\n  tools.shovel = {\n    alt: SHOVEL_ALT_TEXT,\n    fieldKey: 'shift+4',\n    fieldMode: MINE,\n    hiddenText: SHOVEL_HIDDEN_TEXT,\n    id: 'shovel',\n    levelInfo: TOOL_LEVEL_INFO.SHOVEL,\n    order: 4,\n    type: toolType.SHOVEL,\n  }\n}\n\nexport default tools\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\nimport ReactMarkdown from 'react-markdown'\n\nimport Button from '@material-ui/core/Button'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nimport { toolLevel } from '../../enums'\n\nimport { memoize } from '../../utils'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport toolsData from '../../data/tools'\n\nimport { tools as toolImages, craftedItems, pixel } from '../../img'\n\nimport './Toolbelt.sass'\n\nconst noop = () => {}\n\nconst getTools = memoize(toolLevels => {\n  const tools = []\n\n  for (let tool of Object.values(toolsData)) {\n    if (toolLevels[tool.type] !== toolLevel.UNAVAILABLE) {\n      tools.push(tool)\n    }\n  }\n\n  return tools.sort((a, b) => a.order > b.order)\n})\n\nconst getToolImage = tool => {\n  if (tool.level === toolLevel.DEFAULT) {\n    return toolImages[tool.id]\n  }\n\n  const id = `${tool.id}-${tool.level.toLowerCase()}`\n  return craftedItems[id]\n}\n\nexport const Toolbelt = ({\n  fieldMode: currentFieldMode,\n  handleFieldModeSelect,\n  completedAchievements,\n  toolLevels,\n}) => {\n  const tools = getTools(toolLevels)\n\n  return (\n    <div className=\"Toolbelt\">\n      <div className=\"button-array\">\n        {tools.map(\n          ({ alt, fieldMode, fieldKey, hiddenText, id, levelInfo, type }) => (\n            <Tooltip\n              {...{\n                key: fieldMode,\n                placement: 'top',\n                title: (\n                  <>\n                    <p>{alt}</p>\n                    <ReactMarkdown\n                      {...{\n                        className: 'markdown',\n                        source: levelInfo[toolLevels[type]],\n                      }}\n                    />\n                    <p>({fieldKey})</p>\n                  </>\n                ),\n              }}\n            >\n              <Button\n                {...{\n                  className: classNames({\n                    selected: fieldMode === currentFieldMode,\n                  }),\n                  color: 'primary',\n                  onClick: () => handleFieldModeSelect(fieldMode),\n                  variant:\n                    fieldMode === currentFieldMode ? 'contained' : 'text',\n                }}\n              >\n                {/* alt is in a different format here because of linter weirdness. */}\n                <img\n                  {...{\n                    className: `square ${id}`,\n                    src: pixel,\n                    style: {\n                      backgroundImage: `url(${getToolImage({\n                        level: toolLevels[type],\n                        id,\n                      })})`,\n                    },\n                  }}\n                  alt={alt}\n                />\n                <span className=\"visually_hidden\">{hiddenText}</span>\n              </Button>\n            </Tooltip>\n          )\n        )}\n      </div>\n    </div>\n  )\n}\n\nToolbelt.propTypes = {\n  fieldMode: PropTypes.string.isRequired,\n  handleFieldModeSelect: PropTypes.func,\n  completedAchievements: PropTypes.object,\n}\n\nToolbelt.defaultProps = {\n  handleFieldModeSelect: noop,\n  completedAchievements: {},\n  toolLevels: {},\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Toolbelt {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { array, func, object, string } from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Divider from '@material-ui/core/Divider'\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport classNames from 'classnames'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { items as itemImages, pixel } from '../../img'\nimport { integerString, sortItems } from '../../utils'\nimport Toolbelt from '../Toolbelt'\n\nimport './QuickSelect.sass'\n\nconst ItemList = ({\n  handleItemSelectClick,\n  items,\n  playerInventoryQuantities,\n  selectedItemId,\n}) => (\n  <div {...{ className: 'button-array' }}>\n    {sortItems(items).map(item => (\n      <Tooltip\n        {...{\n          key: item.id,\n          placement: 'top',\n          title: item.name,\n        }}\n      >\n        <Button\n          {...{\n            className: classNames({\n              'is-selected': item.id === selectedItemId,\n            }),\n            color: 'primary',\n            onClick: () => handleItemSelectClick(item),\n            variant: item.id === selectedItemId ? 'contained' : 'text',\n          }}\n        >\n          <img\n            alt={item.name}\n            {...{\n              className: 'square',\n              src: pixel,\n              style: { backgroundImage: `url(${itemImages[item.id]}` },\n            }}\n          />\n          <p {...{ className: 'quantity' }}>\n            {integerString(playerInventoryQuantities[item.id])}\n          </p>\n        </Button>\n      </Tooltip>\n    ))}\n  </div>\n)\n\nItemList.propTypes = {\n  handleItemSelectClick: func,\n  items: array.isRequired,\n  playerInventoryQuantities: object.isRequired,\n  selectedItemId: string.isRequired,\n}\n\nconst QuickSelect = ({\n  fieldToolInventory,\n  handleItemSelectClick,\n  playerInventoryQuantities,\n  plantableCropInventory,\n  selectedItemId,\n}) => (\n  <Paper {...{ className: 'QuickSelect', elevation: 10 }}>\n    <Grid {...{ container: true, alignItems: 'center', wrap: 'nowrap' }}>\n      <Toolbelt />\n      {plantableCropInventory.length > 0 && (\n        <>\n          <Divider orientation=\"vertical\" flexItem />\n          <ItemList\n            {...{\n              handleItemSelectClick,\n              items: plantableCropInventory,\n              playerInventoryQuantities,\n              selectedItemId,\n            }}\n          />\n        </>\n      )}\n\n      {fieldToolInventory.length > 0 && (\n        <>\n          <Divider orientation=\"vertical\" flexItem />\n          <ItemList\n            {...{\n              handleItemSelectClick,\n              items: fieldToolInventory,\n              playerInventoryQuantities,\n              selectedItemId,\n            }}\n          />\n        </>\n      )}\n    </Grid>\n  </Paper>\n)\n\nQuickSelect.propTypes = {\n  fieldToolInventory: array.isRequired,\n  handleItemSelectClick: func,\n  plantableCropInventory: array.isRequired,\n  playerInventoryQuantities: object.isRequired,\n  selectedItemId: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <QuickSelect {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { memo, useEffect, useState } from 'react'\nimport { array, bool, element, func, number, object, string } from 'prop-types'\nimport Fab from '@material-ui/core/Fab'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport Switch from '@material-ui/core/Switch'\nimport Slider from '@material-ui/core/Slider'\nimport ZoomInIcon from '@material-ui/icons/ZoomIn'\nimport ZoomOutIcon from '@material-ui/icons/ZoomOut'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { TransformWrapper, TransformComponent } from 'react-zoom-pan-pinch'\nimport { GlobalHotKeys } from 'react-hotkeys'\nimport classNames from 'classnames'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Plot from '../Plot'\nimport QuickSelect from '../QuickSelect'\nimport { fieldMode } from '../../enums'\nimport tools from '../../data/tools'\nimport {\n  doesInventorySpaceRemain,\n  farmProductsSold,\n  getLevelEntitlements,\n  levelAchieved,\n  nullArray,\n} from '../../utils'\n\nimport './Field.sass'\n\nconst {\n  CLEANUP,\n  FERTILIZE,\n  HARVEST,\n  MINE,\n  OBSERVE,\n  PLANT,\n  SET_SCARECROW,\n  SET_SPRINKLER,\n  WATER,\n} = fieldMode\n\nconst zoomKeyMap = {\n  zoomIn: ['=', 'plus'],\n  zoomOut: '-',\n}\n\nconst fieldKeyMap = {\n  selectWateringCan: tools.wateringCan.fieldKey,\n  selectScythe: tools.scythe.fieldKey,\n  selectHoe: tools.hoe.fieldKey,\n}\n\nif (tools.shovel) {\n  fieldKeyMap.selectShovel = tools.shovel.fieldKey\n}\n\nexport const isInHoverRange = ({\n  fieldMode,\n  hoveredPlotRangeSize,\n  hoveredPlot: { x: hoveredPlotX, y: hoveredPlotY },\n  itemsSold,\n  x,\n  y,\n}) => {\n  // If hoveredPlotX is null, assume that hoveredPlotY is as well.\n  // If fieldMode === OBSERVE, nothing is in hover range.\n  if (hoveredPlotX == null || fieldMode === OBSERVE) {\n    return false\n  }\n\n  let hoveredPlotRangeSizeToRender = hoveredPlotRangeSize\n\n  switch (fieldMode) {\n    case SET_SPRINKLER:\n      hoveredPlotRangeSizeToRender = getLevelEntitlements(\n        levelAchieved(farmProductsSold(itemsSold))\n      ).sprinklerRange\n\n      break\n\n    case SET_SCARECROW:\n      hoveredPlotRangeSizeToRender = Number.MAX_SAFE_INTEGER\n\n      break\n\n    default:\n  }\n\n  const squareSize = 2 * hoveredPlotRangeSizeToRender\n  const rangeFloorX = hoveredPlotX - hoveredPlotRangeSizeToRender\n  const rangeFloorY = hoveredPlotY - hoveredPlotRangeSizeToRender\n  const rangeCeilingX = rangeFloorX + squareSize\n  const rangeCeilingY = rangeFloorY + squareSize\n\n  return (\n    x >= rangeFloorX &&\n    x <= rangeCeilingX &&\n    y >= rangeFloorY &&\n    y <= rangeCeilingY\n  )\n}\n\nexport const MemoPlot = memo(\n  props => {\n    const { hoveredPlot, plotContent, setHoveredPlot, x, y } = props\n\n    return (\n      <Plot\n        {...{\n          hoveredPlot,\n          isInHoverRange: isInHoverRange(props),\n          plotContent,\n          setHoveredPlot,\n          x,\n          y,\n        }}\n      />\n    )\n  },\n  (prev, next) => {\n    if (isInHoverRange(prev) !== isInHoverRange(next)) {\n      return false\n    }\n\n    return (\n      prev.plotContent === next.plotContent &&\n      prev.hoveredPlotRangeSize === next.hoveredPlotRangeSize\n    )\n  }\n)\n\nMemoPlot.propTypes = {\n  fieldMode: string.isRequired,\n  hoveredPlot: object.isRequired,\n  hoveredPlotRangeSize: number.isRequired,\n  itemsSold: object.isRequired,\n  plotContent: object,\n  setHoveredPlot: func.isRequired,\n  x: number.isRequired,\n  y: number.isRequired,\n}\n\nexport const FieldContentWrapper = ({\n  fieldContent,\n\n  previousScale,\n  resetTransform,\n  scale,\n  zoomIn,\n  zoomOut,\n}) => {\n  useEffect(() => {\n    if (scale === 1 && previousScale !== 1) {\n      resetTransform()\n    }\n  }, [scale, previousScale, resetTransform])\n\n  return (\n    <>\n      <GlobalHotKeys\n        {...{\n          keyMap: zoomKeyMap,\n          handlers: {\n            zoomIn,\n            zoomOut,\n          },\n        }}\n      />\n      <TransformComponent>{fieldContent}</TransformComponent>\n      <div className=\"fab-buttons zoom-controls right\">\n        <Tooltip\n          {...{\n            placement: 'top',\n            title: 'Zoom In',\n          }}\n        >\n          <Fab\n            {...{\n              'aria-label': 'Zoom In',\n              color: 'primary',\n              onClick: zoomIn,\n            }}\n          >\n            <ZoomInIcon />\n          </Fab>\n        </Tooltip>\n      </div>\n      <div className=\"fab-buttons zoom-controls left\">\n        <Tooltip\n          {...{\n            placement: 'top',\n            title: 'Zoom Out',\n          }}\n        >\n          <Fab\n            {...{\n              'aria-label': 'Zoom Out',\n              color: 'primary',\n              onClick: zoomOut,\n            }}\n          >\n            <ZoomOutIcon />\n          </Fab>\n        </Tooltip>\n      </div>\n    </>\n  )\n}\n\nFieldContentWrapper.propTypes = {\n  fieldContent: element.isRequired,\n}\n\nexport const FieldContent = ({\n  columns,\n  field,\n  fieldMode,\n  handleCombineEnabledChange,\n  hoveredPlot,\n  hoveredPlotRangeSize,\n  isCombineEnabled,\n  itemsSold,\n  purchasedCombine,\n  rows,\n  setHoveredPlot,\n}) => (\n  <>\n    <div\n      {...{\n        className: 'row-wrapper',\n        onMouseLeave: () => setHoveredPlot({ x: null, y: null }),\n      }}\n    >\n      {nullArray(rows).map((_null, y) => (\n        <div className=\"row\" key={y}>\n          {nullArray(columns).map(\n            (_null, x, arr, plotContent = field[y][x]) => (\n              <MemoPlot\n                key={x}\n                {...{\n                  fieldMode,\n                  hoveredPlot,\n                  hoveredPlotRangeSize,\n                  itemsSold,\n                  plotContent,\n                  setHoveredPlot,\n                  x,\n                  y,\n                }}\n              />\n            )\n          )}\n        </div>\n      ))}\n    </div>\n    {purchasedCombine ? (\n      <FormControl component=\"fieldset\">\n        <FormGroup>\n          <FormControlLabel\n            control={\n              <Switch\n                color=\"primary\"\n                checked={isCombineEnabled}\n                onChange={handleCombineEnabledChange}\n                name=\"is-combine-enabled\"\n              />\n            }\n            label=\"Automatically harvest crops at the start of every day\"\n          />\n        </FormGroup>\n      </FormControl>\n    ) : null}\n  </>\n)\n\nFieldContent.propTypes = {\n  columns: number.isRequired,\n  field: array.isRequired,\n  fieldMode: string.isRequired,\n  handleCombineEnabledChange: func.isRequired,\n  hoveredPlot: object.isRequired,\n  hoveredPlotRangeSize: number.isRequired,\n  isCombineEnabled: bool.isRequired,\n  itemsSold: object.isRequired,\n  purchasedCombine: number.isRequired,\n  rows: number.isRequired,\n  setHoveredPlot: func.isRequired,\n}\n\nconst adjustableRangeFieldModes = new Set([\n  CLEANUP,\n  FERTILIZE,\n  HARVEST,\n  MINE,\n  PLANT,\n  WATER,\n])\n\nconst RangeSliderValueLabelComponent = ({ children, open, value }) => (\n  <Tooltip {...{ open, placement: 'top', title: `Range: ${value} x ${value}` }}>\n    {children}\n  </Tooltip>\n)\n\nexport const Field = props => {\n  const {\n    field,\n    fieldMode,\n    handleFieldActionRangeChange,\n    hoveredPlotRangeSize,\n    inventory,\n    inventoryLimit,\n    purchasedField,\n  } = props\n\n  const [hoveredPlot, setHoveredPlot] = useState({ x: null, y: null })\n  const [currentScale, setCurrentScale] = useState(1)\n  const [fieldActionRange, setFieldActionRange] = useState(hoveredPlotRangeSize)\n\n  useEffect(() => {\n    setFieldActionRange(hoveredPlotRangeSize)\n  }, [hoveredPlotRangeSize])\n\n  const handleFieldActionRangeSliderChange = value => {\n    setFieldActionRange(value)\n    handleFieldActionRangeChange(value)\n  }\n\n  return (\n    <>\n      <GlobalHotKeys\n        {...{\n          keyMap: fieldKeyMap,\n          // Handlers are defined in Farmhand.js's initInputHandlers.\n        }}\n      />\n      <div\n        {...{\n          className: classNames('Field', {\n            'cleanup-mode': fieldMode === CLEANUP,\n            'fertilize-mode': fieldMode === FERTILIZE,\n            'harvest-mode': fieldMode === HARVEST,\n            'mine-mode': fieldMode === MINE,\n            'is-inventory-full': !doesInventorySpaceRemain({\n              inventory,\n              inventoryLimit,\n            }),\n            'plant-mode': fieldMode === PLANT,\n            'set-scarecrow-mode': fieldMode === SET_SCARECROW,\n            'set-sprinkler-mode': fieldMode === SET_SPRINKLER,\n            'water-mode': fieldMode === WATER,\n          }),\n          'data-purchased-field': purchasedField,\n        }}\n      >\n        <TransformWrapper\n          {...{\n            options: {\n              limitToBounds: false,\n            },\n            reset: {\n              animationTime: 0,\n            },\n            pan: {\n              disabled: currentScale <= 1,\n            },\n            // These 0s prevent NREs within react-zoom-pan-pinch, but also\n            // disable zoom animations.\n            zoomIn: {\n              animationTime: 0,\n            },\n            zoomOut: {\n              animationTime: 0,\n            },\n            onZoomChange: ({ scale }) => {\n              // If setCurrentScale with scale < 1 is called here, it causes a\n              // reference error within react-zoom-pan-pinch.\n              if (scale >= 1) {\n                setCurrentScale(scale)\n              }\n            },\n            wheel: {\n              disabled: true,\n            },\n            doubleClick: { disabled: true },\n          }}\n        >\n          {transformProps => (\n            <FieldContentWrapper\n              {...{\n                ...transformProps,\n                fieldContent: (\n                  <FieldContent\n                    {...{ ...props, hoveredPlot, setHoveredPlot }}\n                  />\n                ),\n              }}\n            />\n          )}\n        </TransformWrapper>\n        {adjustableRangeFieldModes.has(fieldMode) && (\n          <div className=\"slider-wrapper\">\n            <Slider\n              {...{\n                marks: true,\n                max: field.length - 1,\n                min: 0,\n                onChange: (e, value) =>\n                  handleFieldActionRangeSliderChange(value),\n                step: 1,\n                value: fieldActionRange,\n                valueLabelDisplay: 'auto',\n                valueLabelFormat: value => `${value * 2 + 1}`,\n                ValueLabelComponent: RangeSliderValueLabelComponent,\n              }}\n            />\n          </div>\n        )}\n        <QuickSelect />\n        <div {...{ className: 'spacer' }} />\n      </div>\n    </>\n  )\n}\n\nField.propTypes = {\n  columns: number.isRequired,\n  field: array.isRequired,\n  fieldMode: string.isRequired,\n  handleCombineEnabledChange: func.isRequired,\n  handleFieldActionRangeChange: func.isRequired,\n  hoveredPlotRangeSize: number.isRequired,\n  inventory: array.isRequired,\n  inventoryLimit: number.isRequired,\n  isCombineEnabled: bool.isRequired,\n  itemsSold: object.isRequired,\n  purchasedCombine: number.isRequired,\n  purchasedField: number.isRequired,\n  rows: number.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Field {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\n\nimport { func, object } from 'prop-types'\nimport ReactMarkdown from 'react-markdown'\nimport window from 'global/window'\nimport Button from '@material-ui/core/Button'\nimport Divider from '@material-ui/core/Divider'\nimport Accordion from '@material-ui/core/Accordion'\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\nimport AccordionDetails from '@material-ui/core/AccordionDetails'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\n\nimport { items } from '../../img'\n\nimport { achievementsMap } from '../../data/achievements'\nimport FarmhandContext from '../../Farmhand.context'\nimport { STANDARD_LOAN_AMOUNT } from '../../constants'\nimport { stageFocusType } from '../../enums'\nimport { memoize } from '../../utils'\nimport Achievement from '../Achievement'\n\nimport './Home.sass'\n\nconst onboardingAchievements = [\n  achievementsMap['plant-crop'],\n  achievementsMap['water-crop'],\n  achievementsMap['harvest-crop'],\n  achievementsMap['purchase-cow-pen'],\n]\n\nconst getRemainingOnboardingAchievements = memoize(completedAchievements =>\n  onboardingAchievements.filter(\n    achievement => achievement && !completedAchievements[achievement.id]\n  )\n)\n\n// https://stackoverflow.com/questions/41742390/javascript-to-check-if-pwa-or-mobile-web/41749865#41749865\nconst isInstallable =\n  // process.env checks are needed to make tests not fail\n  (process.env.NODE_ENV === 'production' ||\n    process.env.NODE_ENV === 'development') &&\n  !window.matchMedia('(display-mode: standalone)').matches &&\n  (window.location.origin === 'https://jeremyckahn.github.io' ||\n    window.location.origin === 'https://www.farmhand.life' ||\n    window.location.origin === 'http://localhost:3000') // For debugging\n\nconst Home = ({\n  completedAchievements,\n  handleViewChangeButtonClick,\n\n  remainingOnboardingAchievements = getRemainingOnboardingAchievements(\n    completedAchievements\n  ),\n}) => (\n  <div className=\"Home\">\n    <h1>Welcome!</h1>\n    <Accordion>\n      <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n        <h2>Click to read a note from the developer</h2>\n      </AccordionSummary>\n      <AccordionDetails>\n        <ReactMarkdown\n          {...{\n            linkTarget: '_blank',\n            className: 'markdown',\n            source: `\nHi, you're playing **Farmhand**! This is an open source game project created by [Jeremy Kahn](https://github.com/jeremyckahn). The project has evolved over time and is now developed with the support of [a community of contributors](https://github.com/jeremyckahn/farmhand/blob/develop/CONTRIBUTORS.md).\n\n[![Source code](https://badgen.net/badge/icon/github?icon=github&label)](https://github.com/jeremyckahn/farmhand) [![Discord](https://img.shields.io/discord/714539345050075176?label=farmhand+discord)](https://discord.gg/6cHEZ9H) [![@farmhandgame](https://badgen.net/twitter/follow/farmhandgame)](https://twitter.com/farmhandgame) [![r/FarmhandGame](https://img.shields.io/reddit/subreddit-subscribers/FarmhandGame?style=social)](https://www.reddit.com/r/FarmhandGame/)\n\nFarmhand is a resource management game that puts a farm in your hand. It is designed to be both desktop and mobile-friendly and fun for 30 seconds or 30 minutes at a time. Can you build a thriving farming business? Give it a try and find out!\n\nThis project has been in development since 2018. **Farmhand will always remain completely free to play**. The game is continually being developed and new features are released as soon as they are ready. All are welcomed to participate in the game's development, so [join the Discord channel](https://discord.gg/6cHEZ9H) and say hi if you'd like to get involved!\n\nFarmhand is developed in a fully transparent way. As much of its development and operation is as publicly accessible as possible, including [API deployment logs](https://farmhand.vercel.app/_logs), [build job logs](https://github.com/jeremyckahn/farmhand/actions), and [deployed static assets](https://github.com/jeremyckahn/farmhand/tree/gh-pages). Your privacy is important, so none of your personal information is collected or transmitted aside from basic Google Analytics data tracking. You're welcome to audit the code, logs, and network requests to verify it for yourself.\n\nHappy farming! \n    `,\n          }}\n        />\n      </AccordionDetails>\n    </Accordion>\n    <Divider />\n    <Card>\n      <CardContent>\n        <ReactMarkdown\n          {...{\n            className: 'markdown',\n            linkTarget: '_blank',\n            source: `\n### How to play\n\nThe goal of Farmhand is to make money by buying, growing, harvesting, and then selling crops. Keep an eye on prices though, because they go up and down every day! The best farmers buy seeds for a low price and sell them for a high price.\n\nIf you can master the art of the harvest, there's no limit to how profitable you can become! Every farmer starts with a $${STANDARD_LOAN_AMOUNT} loan from the bank. If you run out of money, you can always take out another loan. Be careful though, because the bank takes a portion of your sales until the debt is repaid. You can access your bank account in the menu.\n    `,\n          }}\n        />\n        {remainingOnboardingAchievements.length ? (\n          <>\n            <ReactMarkdown\n              {...{\n                className: 'markdown',\n                linkTarget: '_blank',\n                source: `\n### Getting started\n\nIt looks like you're new here. Thanks for stopping by! Here are some goals to help you get familiar with the game.\n    `,\n              }}\n            />\n            <ul className=\"card-list\">\n              {remainingOnboardingAchievements.map(achievement => (\n                <li {...{ key: achievement.id }}>\n                  <Achievement {...{ achievement }} />\n                </li>\n              ))}\n            </ul>\n          </>\n        ) : null}\n        <Button\n          {...{\n            color: 'primary',\n            onClick: () => handleViewChangeButtonClick(stageFocusType.SHOP),\n            variant: 'contained',\n          }}\n        >\n          Go to the shop\n        </Button>\n      </CardContent>\n    </Card>\n    <Divider />\n    <Card>\n      <CardContent>\n        <ReactMarkdown\n          {...{\n            className: 'markdown',\n            linkTarget: '_blank',\n            source: `\n### ![Animated Scarecrow](${items['scarecrow-animated']}) Looking for more farming fun? ![Animated Scarecrow](${items['scarecrow-animated']})\n\nThe Farmhand team is working on a brand new game for you to play: **[Farmhand Go!](https://rainbowcow-studio.itch.io/farmhand-go)**\n\n**Farmhand Go!** is a complementary game to the one you're playing right now. It's a more active take on the Farmhand concept, with days passing in real time and crows that you need to click/tap to defend against. If you like growing, harvesting, and selling crops in Farmhand, you're going to love **Farmhand Go!**\n\nThe Farmhand game you're playing now is still under active development, so don't be concerned about it being abandonded by the team. We just love exploring new ideas and making fun games!\n    `,\n          }}\n        />\n      </CardContent>\n    </Card>\n    <Divider />\n    <Card>\n      <CardContent>\n        <ReactMarkdown\n          {...{\n            className: 'markdown',\n            linkTarget: '_blank',\n            source: `\n### Online multiplayer\n\nYou can play Farmhand online with others! Online play is totally free and anonymous.\n\nTo play online, flip the \"Play online\" toggle in the menu. You'll be connected to the **global** room by default, but you can select another room to play in if you'd like. If you select a room that doesn't exist, it will automatically be created for you. You can then tell others to meet you in that room.\n\nOnline play works just like offline play, except that the fluctuating market values are shared among everyone playing in the room with you. Additionally, market values are affected by your choices when you end a farm day:\n\n* Buying seeds or harvesting crops raises their respective values\n\n* Selling items (seeds or harvested crops) or harvesting seeds lowers their respective values\n\nYou'll see a notification explaining how you affected the market when you end the farm day. Because room market values are shared, **your buy/sell/harvest decisions affect others** when they join the room or end their farm day. Time your actions right to take advantage of market trends and gain the competitive edge over other online farmers!\n\nAs an added bonus for playing online, **you'll get free money** a few times every minute while connected to a room. The more people that are connected, the more you'll get. Invite your friends to the room and to increase the bonus for everyone!\n    `,\n          }}\n        />\n      </CardContent>\n    </Card>\n    <Divider />\n    {isInstallable && (\n      <>\n        <Card>\n          <CardContent>\n            <ReactMarkdown\n              {...{\n                className: 'markdown',\n                linkTarget: '_blank',\n                source: `\n### Installation\n\nFarmhand can be installed to your device right from this web page! Once installed, the game can be played with or without an internet connection.\n\nIf you're playing on a mobile device, all you need to do is [add it to your home screen](https://www.howtogeek.com/196087/how-to-add-websites-to-the-home-screen-on-any-smartphone-or-tablet/). If you're playing it on desktop Chrome or Microsoft Edge, you can [install it as an app there as well](https://twitter.com/jeremyckahn/status/1329266318785253377?s=20).\n    `,\n              }}\n            />\n          </CardContent>\n        </Card>\n        <Divider />\n      </>\n    )}\n    <Card>\n      <CardContent>\n        <ReactMarkdown\n          {...{\n            className: 'markdown',\n            linkTarget: '_blank',\n            source: `\n### A few other tips\n\n* Press the bed button in the top-right of the screen to end the farm day and advance the game. This also saves your progress.\n\n* Crops need to be watered daily to grow.\n\n* Crafting items out of harvested crops in the Workshop is an excellent way to make money!\n\n* Purchasing a cow pen will allow you to buy, sell, milk, and breed cows. Can you breed the mythical Rainbow Cow?\n\n* Put up a scarecrow to protect your field!\n\n* Watch your inventory space as you obtain items. You can purchase additional Storage Units in the shop.\n\n* You'll be able to unlock new crops and items as you level up. Sell crops, milk, and crafted items to gain experience!\n\n* Bank loans accrue interest daily, so pay off your balance as soon as you can.\n\n* Press \"Shift + ?\" to see all of the keyboard shortcuts available to you.\n\n    `,\n          }}\n        />\n      </CardContent>\n    </Card>\n  </div>\n)\n\nHome.propTypes = {\n  completedAchievements: object.isRequired,\n  handleViewChangeButtonClick: func.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Home {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { Component, useEffect } from 'react'\nimport { array, bool, func, object, string } from 'prop-types'\nimport classNames from 'classnames'\nimport { Tweenable } from 'shifty'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faHeart } from '@fortawesome/free-solid-svg-icons'\n\nimport { LEFT, RIGHT } from '../../constants'\nimport FarmhandContext from '../../Farmhand.context'\nimport { pixel } from '../../img'\n\nimport { getCowDisplayName, getCowImage } from '../../utils'\n\nimport './CowPen.sass'\n\n// TODO: Break this out into its own component file\nexport class Cow extends Component {\n  state = {\n    cowImage: pixel,\n    isTransitioning: false,\n    moveDirection: RIGHT,\n    rotate: 0,\n    showHugAnimation: false,\n    x: Cow.randomPosition(),\n    y: Cow.randomPosition(),\n  }\n\n  repositionTimeoutId = null\n  animateHugTimeoutId = null\n  tweenable = new Tweenable()\n\n  static flipAnimationDuration = 1000\n  static transitionAnimationDuration = 3000\n\n  // This MUST be kept in sync with $hug-animation-duration in CowPen.sass.\n  static hugAnimationDuration = 750\n\n  // Only moves the cow within the middle 80% of the pen\n  static randomPosition = () => 10 + Math.random() * 80\n\n  get waitVariance() {\n    return 2000 * this.props.cowInventory.length\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      this.props.isSelected &&\n      !prevProps.isSelected &&\n      this.repositionTimeoutId !== null\n    ) {\n      clearTimeout(this.repositionTimeoutId)\n    }\n\n    if (!this.props.isSelected && prevProps.isSelected) {\n      this.scheduleMove()\n    }\n\n    if (\n      this.props.cow.happinessBoostsToday >\n        prevProps.cow.happinessBoostsToday &&\n      !this.state.showHugAnimation\n    ) {\n      this.setState({ showHugAnimation: true })\n\n      this.animateHugTimeoutId = setTimeout(\n        () => this.setState({ showHugAnimation: false }),\n        Cow.hugAnimationDuration\n      )\n    }\n  }\n\n  move = async () => {\n    const newX = Cow.randomPosition()\n\n    const { moveDirection: oldDirection, x, y } = this.state\n    const newDirection = newX < this.state.x ? LEFT : RIGHT\n\n    this.setState({\n      moveDirection: newDirection,\n    })\n\n    if (oldDirection !== newDirection) {\n      const render = ({ rotate }) => {\n        this.setState({ rotate })\n      }\n\n      try {\n        const duration = Cow.flipAnimationDuration\n        const easing = 'swingTo'\n\n        if (newDirection === LEFT) {\n          await this.tweenable.tween({\n            from: {\n              rotate: 0,\n            },\n            to: {\n              rotate: 180,\n            },\n            easing,\n            duration,\n            render,\n          })\n        } else {\n          await this.tweenable.tween({\n            from: {\n              rotate: 180,\n            },\n            to: {\n              rotate: 0,\n            },\n            easing,\n            duration,\n            render,\n          })\n        }\n      } catch (e) {\n        // The tween was cancelled by the component unmounting\n        return\n      }\n    }\n\n    this.setState({\n      isTransitioning: true,\n    })\n\n    try {\n      await this.tweenable.tween({\n        from: { x, y },\n        to: { x: newX, y: Cow.randomPosition() },\n        duration: Cow.transitionAnimationDuration,\n        render: ({ x, y }) => {\n          this.setState({ x, y })\n        },\n        easing: 'linear',\n      })\n    } catch (e) {\n      // The tween was cancelled by the component unmounting\n      return\n    }\n\n    this.setState({ isTransitioning: false })\n    this.scheduleMove()\n  }\n\n  repositionTimeoutHandler = () => {\n    this.repositionTimeoutId = null\n    this.move()\n  }\n\n  scheduleMove = () => {\n    if (this.props.isSelected) {\n      return\n    }\n\n    this.repositionTimeoutId = setTimeout(\n      this.repositionTimeoutHandler,\n      Math.random() * this.waitVariance\n    )\n  }\n\n  componentDidMount() {\n    this.scheduleMove()\n    ;(async () => {\n      this.setState({ cowImage: await getCowImage(this.props.cow) })\n    })()\n  }\n\n  componentWillUnmount() {\n    ;[this.repositionTimeoutId, this.animateHugTimeoutId].forEach(clearTimeout)\n\n    this.tweenable.cancel()\n  }\n\n  render() {\n    const {\n      props: { allowCustomPeerCowNames, cow, handleCowClick, id, isSelected },\n      state: { cowImage, isTransitioning, rotate, showHugAnimation, x, y },\n    } = this\n\n    const cowDisplayName = getCowDisplayName(cow, id, allowCustomPeerCowNames)\n\n    return (\n      <div\n        {...{\n          className: classNames('cow', {\n            'is-transitioning': isTransitioning,\n            'is-selected': isSelected,\n            'is-loaded': cowImage !== pixel,\n          }),\n          onClick: () => handleCowClick(cow),\n          style: {\n            left: `${x}%`,\n            top: `${y}%`,\n          },\n        }}\n      >\n        {isSelected && (\n          <p className=\"visually_hidden\">{cowDisplayName} is selected</p>\n        )}\n        <Tooltip\n          {...{\n            arrow: true,\n            placement: 'top',\n            title: cowDisplayName,\n            open: isSelected,\n            PopperProps: {\n              disablePortal: true,\n            },\n          }}\n        >\n          <div {...{ style: { transform: `rotateY(${rotate}deg)` } }}>\n            <img\n              {...{\n                src: cowImage,\n              }}\n              alt={cowDisplayName}\n            />\n            <FontAwesomeIcon\n              {...{\n                className: classNames('animation', {\n                  'is-animating': showHugAnimation,\n                }),\n                icon: faHeart,\n              }}\n            />\n          </div>\n        </Tooltip>\n        <ol {...{ className: 'happiness-boosts-today' }}>\n          {new Array(this.props.cow.happinessBoostsToday).fill().map((_, i) => (\n            <li {...{ key: i }}>\n              <FontAwesomeIcon\n                {...{\n                  icon: faHeart,\n                }}\n              />\n            </li>\n          ))}\n        </ol>\n      </div>\n    )\n  }\n}\n\nCow.propTypes = {\n  allowCustomPeerCowNames: bool.isRequired,\n  cow: object.isRequired,\n  cowInventory: array.isRequired,\n  handleCowClick: func.isRequired,\n  id: string.isRequired,\n  isSelected: bool.isRequired,\n}\n\nexport const CowPen = ({\n  allowCustomPeerCowNames,\n  cowInventory,\n  handleCowPenUnmount,\n  handleCowClick,\n  id,\n  selectedCowId,\n}) => {\n  useEffect(() => {\n    return () => {\n      handleCowPenUnmount()\n    }\n  }, [handleCowPenUnmount])\n\n  return (\n    <div className=\"CowPen fill\">\n      {cowInventory.map(cow => (\n        <Cow\n          {...{\n            allowCustomPeerCowNames,\n            cow,\n            cowInventory,\n            key: cow.id,\n            handleCowClick,\n            id,\n            isSelected: selectedCowId === cow.id,\n          }}\n        />\n      ))}\n    </div>\n  )\n}\n\nCowPen.propTypes = {\n  allowCustomPeerCowNames: bool.isRequired,\n  cowInventory: array.isRequired,\n  handleCowClick: func.isRequired,\n  handleCowPenUnmount: func.isRequired,\n  id: string.isRequired,\n  selectedCowId: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <CowPen {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { Component } from 'react'\nimport Button from '@material-ui/core/Button'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardActions from '@material-ui/core/CardActions'\nimport Typography from '@material-ui/core/Typography'\nimport { func, instanceOf, node, number, string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport './TierPurchase.sass'\n\nexport class TierPurchase extends Component {\n  state = {\n    selectedTier: '',\n  }\n\n  tierValues = [...this.props.tiers.entries()]\n\n  get selectedTierNumber() {\n    return Number(this.state.selectedTier)\n  }\n\n  get canPlayerBuySelectedTier() {\n    const {\n      props: { money },\n      selectedTierNumber,\n    } = this\n\n    const selectedTier = this.props.tiers.get(selectedTierNumber)\n\n    return (\n      !!selectedTier &&\n      !this.hasPurchasedTier(selectedTierNumber) &&\n      money >= selectedTier.price\n    )\n  }\n\n  hasPurchasedTier = tierLevel => tierLevel <= this.props.purchasedTier\n\n  handleTierPurchase = () => {\n    const {\n      props: { handleTierPurchase, money },\n      selectedTierNumber,\n    } = this\n    const { price } = this.props.tiers.get(selectedTierNumber)\n\n    if (money >= price) {\n      handleTierPurchase(selectedTierNumber)\n    }\n  }\n\n  onSelectChange = ({ target: { value } }) => {\n    this.setState({ selectedTier: value })\n  }\n\n  updateSelectedTier = () => {\n    const {\n      props: { money },\n      selectedTierNumber,\n    } = this\n\n    const nextTierNumber = selectedTierNumber + 1\n    const nextTierToPurchase = this.props.tiers.get(nextTierNumber)\n\n    if (nextTierToPurchase && money >= nextTierToPurchase.price) {\n      this.setState({ selectedTier: String(nextTierNumber) })\n    }\n  }\n\n  componentDidMount() {\n    this.updateSelectedTier()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.money !== prevProps.money) {\n      this.updateSelectedTier()\n    }\n  }\n\n  render() {\n    const {\n      canPlayerBuySelectedTier,\n      handleTierPurchase,\n      hasPurchasedTier,\n      onSelectChange,\n      props: {\n        description,\n        maxedOutPlaceholder,\n        money,\n        renderTierLabel,\n        title,\n      },\n      tierValues,\n      state: { selectedTier },\n    } = this\n\n    const hasPurchasedHighestTier = hasPurchasedTier(tierValues.slice(-1)[0][0])\n\n    return (\n      <Card className=\"TierPurchase\">\n        <CardHeader {...{ title }} />\n        {description && (\n          <CardContent>\n            <Typography>{description}</Typography>\n          </CardContent>\n        )}\n        {hasPurchasedHighestTier && maxedOutPlaceholder ? (\n          <CardContent>\n            <Typography>\n              <strong>{maxedOutPlaceholder}</strong>\n            </Typography>\n          </CardContent>\n        ) : (\n          <>\n            <CardActions>\n              <Button\n                {...{\n                  color: 'primary',\n                  disabled: !canPlayerBuySelectedTier,\n                  onClick: handleTierPurchase,\n                  variant: 'contained',\n                }}\n              >\n                Buy\n              </Button>\n              <Select\n                {...{\n                  onChange: onSelectChange,\n                  value: selectedTier,\n                }}\n              >\n                {tierValues.map(([id, tier]) => (\n                  <MenuItem\n                    key={id}\n                    value={id}\n                    disabled={money < tier.price || hasPurchasedTier(id)}\n                  >\n                    {renderTierLabel(tier)}\n                  </MenuItem>\n                ))}\n              </Select>\n            </CardActions>\n          </>\n        )}\n      </Card>\n    )\n  }\n}\n\nTierPurchase.propTypes = {\n  description: string,\n  handleTierPurchase: func.isRequired,\n  maxedOutPlaceholder: node,\n  money: number.isRequired,\n  purchasedTier: number.isRequired,\n  renderTierLabel: func.isRequired,\n  tiers: instanceOf(Map),\n  title: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <TierPurchase {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { node, number } from 'prop-types'\n\nexport const TabPanel = props => {\n  const { children, value, index, ...other } = props\n\n  return (\n    <section\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`shop-tabpanel-${index}`}\n      aria-labelledby={`shop-tab-${index}`}\n      {...other}\n    >\n      {value === index ? children : null}\n    </section>\n  )\n}\n\nTabPanel.propTypes = {\n  children: node,\n  index: number.isRequired,\n  value: number.isRequired,\n}\n\nexport const a11yProps = index => ({\n  id: `shop-tab-${index}`,\n  'aria-controls': `shop-tabpanel-${index}`,\n})\n","import React, { useState } from 'react'\nimport { array, func, number, object } from 'prop-types'\nimport AppBar from '@material-ui/core/AppBar'\nimport Button from '@material-ui/core/Button'\nimport Card from '@material-ui/core/Card'\nimport CardActions from '@material-ui/core/CardActions'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport Tab from '@material-ui/core/Tab'\nimport Tabs from '@material-ui/core/Tabs'\nimport Typography from '@material-ui/core/Typography'\n\nimport { features } from '../../config'\nimport FarmhandContext from '../../Farmhand.context'\nimport {\n  dollarString,\n  getCostOfNextStorageExpansion,\n  integerString,\n  memoize,\n  moneyString,\n} from '../../utils'\nimport { items } from '../../img'\nimport { itemType, toolType } from '../../enums'\nimport {\n  PURCHASEABLE_COMBINES,\n  PURCHASEABLE_COW_PENS,\n  PURCHASEABLE_FIELD_SIZES,\n  PURCHASEABLE_SMELTERS,\n  STORAGE_EXPANSION_AMOUNT,\n} from '../../constants'\nimport Inventory from '../Inventory'\nimport TierPurchase from '../TierPurchase'\n\nimport { TabPanel, a11yProps } from './TabPanel'\n\nimport './Shop.sass'\n\n/**\n * @param {Array.<farmhand.item>} shopInventory\n * @returns {Object.<'seeds' | 'fieldTools', Array.<farmhand.item>>}\n */\nconst categorizeShopInventory = memoize(shopInventory =>\n  shopInventory.reduce(\n    (acc, inventoryItem) => {\n      acc[inventoryItem.type === itemType.CROP ? 'seeds' : 'fieldTools'].push(\n        inventoryItem\n      )\n\n      return acc\n    },\n    { seeds: [], fieldTools: [] }\n  )\n)\n\nexport const Shop = ({\n  handleCombinePurchase,\n  handleCowPenPurchase,\n  handleFieldPurchase,\n  handleSmelterPurchase,\n  handleStorageExpansionPurchase,\n  inventoryLimit,\n  money,\n  purchasedCombine,\n  purchasedCowPen,\n  purchasedField,\n  purchasedSmelter,\n  shopInventory,\n  toolLevels,\n\n  storageUpgradeCost = getCostOfNextStorageExpansion(inventoryLimit),\n}) => {\n  const [currentTab, setCurrentTab] = useState(0)\n\n  const { seeds, fieldTools } = categorizeShopInventory(shopInventory)\n\n  return (\n    <div className=\"Shop\">\n      <AppBar position=\"static\" color=\"primary\">\n        <Tabs\n          value={currentTab}\n          onChange={(e, newTab) => setCurrentTab(newTab)}\n          aria-label=\"Shop tabs\"\n        >\n          <Tab {...{ label: 'Seeds', ...a11yProps(0) }} />\n          <Tab {...{ label: 'Supplies', ...a11yProps(1) }} />\n          <Tab {...{ label: 'Upgrades', ...a11yProps(2) }} />\n        </Tabs>\n      </AppBar>\n      <TabPanel value={currentTab} index={0}>\n        <Inventory\n          {...{\n            items: seeds,\n            isPurchaseView: true,\n          }}\n        />\n      </TabPanel>\n      <TabPanel value={currentTab} index={1}>\n        <Inventory\n          {...{\n            items: fieldTools,\n            isPurchaseView: true,\n          }}\n        />\n      </TabPanel>\n      <TabPanel value={currentTab} index={2}>\n        <ul className=\"card-list\">\n          {inventoryLimit > -1 && (\n            <li>\n              <Card>\n                <CardHeader\n                  {...{\n                    avatar: (\n                      <img\n                        {...{ src: items['inventory-box'] }}\n                        alt={'Inventory box'}\n                      />\n                    ),\n                    title: 'Storage Unit',\n                    subheader: (\n                      <div>\n                        <p>Price: {moneyString(storageUpgradeCost)}</p>\n                        <p>\n                          Current inventory space:{' '}\n                          {integerString(inventoryLimit)}\n                        </p>\n                      </div>\n                    ),\n                  }}\n                />\n                <CardContent>\n                  <Typography>\n                    Purchase a Storage Unit to increase your inventory capacity\n                    for {STORAGE_EXPANSION_AMOUNT} more items.\n                  </Typography>\n                </CardContent>\n                <CardActions>\n                  <Button\n                    {...{\n                      disabled: money < storageUpgradeCost,\n                      color: 'primary',\n                      onClick: handleStorageExpansionPurchase,\n                      variant: 'contained',\n                    }}\n                  >\n                    Buy\n                  </Button>\n                </CardActions>\n              </Card>\n            </li>\n          )}\n\n          <li>\n            <TierPurchase\n              {...{\n                handleTierPurchase: handleFieldPurchase,\n                maxedOutPlaceholder:\n                  \"You've purchased the largest field available!\",\n                purchasedTier: purchasedField,\n                renderTierLabel: ({ columns, price, rows }) =>\n                  `${dollarString(price)}: ${columns} x ${rows}`,\n                tiers: PURCHASEABLE_FIELD_SIZES,\n                title: 'Expand field',\n              }}\n            />\n          </li>\n          <li>\n            <TierPurchase\n              {...{\n                handleTierPurchase: handleCowPenPurchase,\n                maxedOutPlaceholder:\n                  \"You've purchased the largest cow pen available!\",\n                purchasedTier: purchasedCowPen,\n                renderTierLabel: ({ cows, price }) =>\n                  `${dollarString(price)}: ${cows} cow pen`,\n                tiers: PURCHASEABLE_COW_PENS,\n                title: 'Buy cow pen',\n              }}\n            />\n          </li>\n          <li>\n            <TierPurchase\n              {...{\n                description:\n                  'You can purchase a combine to automatically harvest your mature crops at the start of every day.',\n                handleTierPurchase: handleCombinePurchase,\n                maxedOutPlaceholder:\n                  \"You've purchased the best combine harvester available!\",\n                purchasedTier: purchasedCombine,\n                renderTierLabel: ({ type, price }) =>\n                  `${dollarString(price)}: ${type} combine harvester`,\n                tiers: PURCHASEABLE_COMBINES,\n                title: 'Buy combine harvester',\n              }}\n            />\n          </li>\n          {features.MINING && toolLevels[toolType.SHOVEL] ? (\n            <li>\n              <TierPurchase\n                {...{\n                  description:\n                    'You can purchase a Smelter to convert ore into ingots and other useful items.',\n                  handleTierPurchase: handleSmelterPurchase,\n                  maxedOutPlaceholder: \"You've already purchased the smelter!\",\n                  purchasedTier: purchasedSmelter,\n                  renderTierLabel: ({ type, price }) =>\n                    `${dollarString(price)}: ${type} Smelter`,\n                  tiers: PURCHASEABLE_SMELTERS,\n                  title: 'Buy smelter',\n                }}\n              />\n            </li>\n          ) : null}\n        </ul>\n      </TabPanel>\n    </div>\n  )\n}\n\nShop.propTypes = {\n  handleCombinePurchase: func.isRequired,\n  handleCowPenPurchase: func.isRequired,\n  handleFieldPurchase: func.isRequired,\n  handleStorageExpansionPurchase: func.isRequired,\n  inventoryLimit: number.isRequired,\n  money: number.isRequired,\n  purchasedCowPen: number.isRequired,\n  purchasedField: number.isRequired,\n  purchasedSmelter: number.isRequired,\n  purchasedCombine: number.isRequired,\n  shopInventory: array.isRequired,\n  toolLevels: object.isRequired,\n  valueAdjustments: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Shop {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport classNames from 'classnames'\nimport { object, shape, string } from 'prop-types'\n\nimport { INGREDIENTS_LIST_ITEM } from '../../templates'\n\nimport { integerString } from '../../utils'\nimport { itemsMap } from '../../data/maps'\n\nexport default function IngredientsList({\n  playerInventoryQuantities,\n  recipe: { ingredients, name },\n}) {\n  return (\n    <ul {...{ className: 'card-list', title: `Ingredients for ${name}` }}>\n      <li>\n        <h4>Ingredients required:</h4>\n      </li>\n      {Object.keys(ingredients).map(itemId => (\n        <li {...{ key: itemId }} data-testid=\"ingredient\">\n          <p\n            {...{\n              className: classNames(\n                playerInventoryQuantities[itemId] >= ingredients[itemId]\n                  ? 'in-stock'\n                  : 'out-of-stock'\n              ),\n            }}\n          >\n            {INGREDIENTS_LIST_ITEM`${ingredients[itemId]}${\n              itemsMap[itemId].name\n            }${integerString(playerInventoryQuantities[itemId])}\n            `}\n          </p>\n        </li>\n      ))}\n    </ul>\n  )\n}\n\nIngredientsList.propTypes = {\n  playerInventoryQuantities: object.isRequired,\n  recipe: shape({ ingredients: object.isRequired, name: string.isRequired })\n    .isRequired,\n}\n","import React, { useEffect, useState } from 'react'\nimport classNames from 'classnames'\nimport Button from '@material-ui/core/Button'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardActions from '@material-ui/core/CardActions'\nimport { array, func, number, object } from 'prop-types'\n\nimport {\n  canMakeRecipe,\n  doesInventorySpaceRemain,\n  dollarString,\n  maxYieldOfRecipe,\n  integerString,\n  totalIngredientsInRecipe,\n} from '../../utils'\nimport { itemsMap } from '../../data/maps'\nimport { craftedItems } from '../../img'\nimport QuantityInput from '../QuantityInput'\nimport IngredientsList from '../IngredientsList'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './Recipe.sass'\n\nconst Recipe = ({\n  handleMakeRecipeClick,\n  inventory,\n  inventoryLimit,\n  playerInventoryQuantities,\n  recipe,\n  recipe: { id, name },\n}) => {\n  const [quantity, setQuantity] = useState(1)\n\n  useEffect(() => {\n    setQuantity(\n      Math.min(maxYieldOfRecipe(recipe, inventory), Math.max(1, quantity))\n    )\n  }, [inventory, recipe, quantity])\n\n  // Fixes https://github.com/jeremyckahn/farmhand/issues/25\n  const spaceFreedByIngredientsConsumed =\n    quantity * totalIngredientsInRecipe(recipe)\n\n  const canBeMade =\n    quantity > 0 &&\n    canMakeRecipe(recipe, inventory, quantity) &&\n    doesInventorySpaceRemain({\n      inventory,\n      // Without the Infinity coercion, this would break recipes for unlimited\n      // inventoryLimits.\n      inventoryLimit:\n        (inventoryLimit === -1 ? Infinity : inventoryLimit) +\n        spaceFreedByIngredientsConsumed,\n    })\n\n  const handleMakeRecipe = () => {\n    if (canBeMade) {\n      handleMakeRecipeClick(recipe, quantity)\n    }\n  }\n\n  const maxQuantity = maxYieldOfRecipe(recipe, inventory)\n\n  return (\n    <Card\n      {...{\n        className: classNames('Recipe', { 'can-be-made': canBeMade }),\n      }}\n    >\n      <CardHeader\n        {...{\n          avatar: <img {...{ src: craftedItems[id], alt: name }} />,\n          title: name,\n          subheader: (\n            <>\n              <p>Sell price: {dollarString(itemsMap[id].value)}</p>\n              <p>\n                In Inventory: {integerString(playerInventoryQuantities[id])}\n              </p>\n              <IngredientsList {...{ playerInventoryQuantities, recipe }} />\n            </>\n          ),\n        }}\n      />\n      <CardActions>\n        <Button\n          {...{\n            className: 'make-recipe',\n            color: 'primary',\n            disabled: !canBeMade || !quantity,\n            onClick: handleMakeRecipe,\n            variant: 'contained',\n          }}\n        >\n          Make\n        </Button>\n        <QuantityInput\n          {...{\n            handleSubmit: handleMakeRecipe,\n            handleUpdateNumber: setQuantity,\n            maxQuantity,\n            setQuantity,\n            value: quantity,\n          }}\n        />\n      </CardActions>\n    </Card>\n  )\n}\n\nRecipe.propTypes = {\n  handleMakeRecipeClick: func.isRequired,\n  inventory: array.isRequired,\n  inventoryLimit: number.isRequired,\n  playerInventoryQuantities: object.isRequired,\n  recipe: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Recipe {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport classNames from 'classnames'\nimport Button from '@material-ui/core/Button'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardActions from '@material-ui/core/CardActions'\nimport { array, func, number, object } from 'prop-types'\n\nimport IngredientsList from '../IngredientsList'\n\nimport {\n  canMakeRecipe,\n  doesInventorySpaceRemain,\n  totalIngredientsInRecipe,\n} from '../../utils'\n\nimport { craftedItems } from '../../img'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport './UpgradePurchase.sass'\n\nexport function UpgradePurchase({\n  handleUpgradeTool,\n  inventory,\n  inventoryLimit,\n  playerInventoryQuantities,\n  upgrade,\n}) {\n  const { id, name, description } = upgrade\n\n  const spaceFreedByIngredientsConsumed = totalIngredientsInRecipe(upgrade)\n\n  const canBeMade =\n    canMakeRecipe(upgrade, inventory, 1) &&\n    doesInventorySpaceRemain({\n      inventory,\n      // Without the Infinity coercion, this would break recipes for unlimited\n      // inventoryLimits.\n      inventoryLimit:\n        (inventoryLimit === -1 ? Infinity : inventoryLimit) +\n        spaceFreedByIngredientsConsumed,\n    })\n\n  const handleUpgrade = () => handleUpgradeTool(upgrade)\n\n  return (\n    <Card\n      {...{\n        className: classNames('Recipe', { 'can-be-made': canBeMade }),\n      }}\n    >\n      <CardHeader\n        {...{\n          avatar: <img {...{ src: craftedItems[id], alt: name }} />,\n          title: name,\n          subheader: (\n            <>\n              <p>{description}</p>\n              <IngredientsList\n                {...{ playerInventoryQuantities, recipe: upgrade }}\n              />\n            </>\n          ),\n        }}\n      />\n\n      <CardActions>\n        <Button\n          color=\"primary\"\n          onClick={handleUpgrade}\n          variant=\"contained\"\n          disabled={!canBeMade}\n        >\n          Upgrade Tool\n        </Button>\n      </CardActions>\n    </Card>\n  )\n}\n\nUpgradePurchase.propTypes = {\n  handleUpgradeTool: func.isRequired,\n  inventory: array.isRequired,\n  inventoryLimit: number.isRequired,\n  playerInventoryQuantities: object.isRequired,\n  toolLevels: object,\n  upgrade: object,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <UpgradePurchase {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { node, number } from 'prop-types'\n\nexport const TabPanel = props => {\n  const { children, value, index, ...other } = props\n\n  return (\n    <section\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`workshop-tabpanel-${index}`}\n      aria-labelledby={`workshop-tab-${index}`}\n      {...other}\n    >\n      {value === index ? children : null}\n    </section>\n  )\n}\n\nTabPanel.propTypes = {\n  children: node,\n  index: number.isRequired,\n  value: number.isRequired,\n}\n\nexport const a11yProps = index => ({\n  id: `workshop-tab-${index}`,\n  'aria-controls': `workshop-tabpanel-${index}`,\n})\n","import React, { useState } from 'react'\nimport { object } from 'prop-types'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport Divider from '@material-ui/core/Divider'\nimport ReactMarkdown from 'react-markdown'\nimport AppBar from '@material-ui/core/AppBar'\nimport Tab from '@material-ui/core/Tab'\nimport Tabs from '@material-ui/core/Tabs'\n\nimport { features } from '../../config'\nimport { recipeType } from '../../enums'\n\nimport { recipeCategories, recipesMap } from '../../data/maps'\nimport toolUpgrades from '../../data/upgrades'\n\nimport Recipe from '../Recipe'\nimport UpgradePurchase from '../UpgradePurchase'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport { TabPanel, a11yProps } from './TabPanel'\n\nimport './Workshop.sass'\n\n/**\n * @param {Array.<Object.<string, true>>} learnedRecipes\n * @returns {{ learnedKitchenRecipes: Array.<farmhand.recipe>, learnedForgeRecipes: Array.<farmhand.recipe>}}\n */\nconst getLearnedRecipeCategories = learnedRecipes => {\n  const learnedKitchenRecipes = []\n  const learnedForgeRecipes = []\n\n  for (const learnedRecipeId of Object.keys(learnedRecipes)) {\n    const learnedRecipe = recipesMap[learnedRecipeId]\n\n    switch (learnedRecipe.recipeType) {\n      case recipeType.KITCHEN:\n        learnedKitchenRecipes.push(learnedRecipe)\n        break\n      case recipeType.FORGE:\n        learnedForgeRecipes.push(learnedRecipe)\n        break\n      default:\n        throw new Error(`Received invalid recipe ID: ${learnedRecipeId}`)\n    }\n  }\n\n  return { learnedKitchenRecipes, learnedForgeRecipes }\n}\n\n/**\n * Get available upgrades based on current tool levels and unlocked recipes\n * @param {object} toolLevels - the current level of each tool\n * @param {array} learnedRecipes - list of learned recipes from farmhand state\n * @returns {array} a list of all applicable upgrades\n */\nconst getUpgradesAvailable = (toolLevels, learnedRecipes) => {\n  let upgradesAvailable = []\n  const learnedRecipeIds = learnedRecipes.map(r => r.id)\n\n  for (let type of Object.keys(toolUpgrades)) {\n    let upgrade = toolUpgrades[type][toolLevels[type]]\n\n    if (upgrade && !upgrade.isMaxLevel && upgrade.nextLevel) {\n      const nextLevelUpgrade = toolUpgrades[type][upgrade.nextLevel]\n      let allIngredientsUnlocked = true\n\n      for (let ingredient of Object.keys(nextLevelUpgrade.ingredients)) {\n        allIngredientsUnlocked =\n          allIngredientsUnlocked &&\n          !!(!recipesMap[ingredient] || learnedRecipeIds.includes(ingredient))\n      }\n\n      if (allIngredientsUnlocked) {\n        upgradesAvailable.push(nextLevelUpgrade)\n      }\n    }\n  }\n\n  return upgradesAvailable\n}\n\nconst Workshop = ({ learnedRecipes, purchasedSmelter, toolLevels }) => {\n  const [currentTab, setCurrentTab] = useState(0)\n\n  const {\n    learnedKitchenRecipes,\n    learnedForgeRecipes,\n  } = getLearnedRecipeCategories(learnedRecipes)\n\n  const upgradesAvailable = getUpgradesAvailable(\n    toolLevels,\n    learnedForgeRecipes\n  )\n\n  const showForge = features.MINING && purchasedSmelter\n\n  return (\n    <div className=\"Workshop\">\n      <AppBar position=\"static\" color=\"primary\">\n        <Tabs\n          value={currentTab}\n          onChange={(e, newTab) => setCurrentTab(newTab)}\n          aria-label=\"Workshop tabs\"\n        >\n          <Tab {...{ label: 'Kitchen', ...a11yProps(0) }} />\n          {showForge ? <Tab {...{ label: 'Forge', ...a11yProps(1) }} /> : null}\n        </Tabs>\n      </AppBar>\n      <TabPanel value={currentTab} index={0}>\n        <h3>\n          Learned Recipes ({learnedKitchenRecipes.length} /{' '}\n          {Object.keys(recipeCategories[recipeType.KITCHEN]).length})\n        </h3>\n        <ul className=\"card-list\">\n          {learnedKitchenRecipes.map(({ id: recipeId }) => (\n            <li key={recipeId}>\n              <Recipe\n                {...{\n                  recipe: recipeCategories[recipeType.KITCHEN][recipeId],\n                }}\n              />\n            </li>\n          ))}\n        </ul>\n        <Divider />\n        <ul className=\"card-list\">\n          {/*\n          This really isn't a list, but it makes it easy to keep the UI\n          consistent.\n        */}\n          <li>\n            <Card>\n              <CardContent>\n                <ReactMarkdown\n                  {...{\n                    linkTarget: '_blank',\n                    className: 'markdown',\n                    source: `Kitchen recipes are learned by selling crops and animal products. Sell as much as you can of a wide variety of items!`,\n                  }}\n                />\n              </CardContent>\n            </Card>\n          </li>\n        </ul>\n      </TabPanel>\n      {showForge ? (\n        <TabPanel value={currentTab} index={1}>\n          <h3>\n            Learned Recipes ({learnedForgeRecipes.length} /{' '}\n            {Object.keys(recipeCategories[recipeType.FORGE]).length})\n          </h3>\n          <ul className=\"card-list\">\n            {learnedForgeRecipes.map(({ id: recipeId }) => (\n              <li key={recipeId}>\n                <Recipe\n                  {...{\n                    recipe: recipeCategories[recipeType.FORGE][recipeId],\n                  }}\n                />\n              </li>\n            ))}\n          </ul>\n          {upgradesAvailable.length ? (\n            <>\n              <Divider />\n              <ul className=\"card-list\">\n                <li>\n                  <h4>Tool Upgrades</h4>\n                </li>\n                {upgradesAvailable.map(upgrade => (\n                  <li key={upgrade.id}>\n                    <UpgradePurchase upgrade={upgrade} />\n                  </li>\n                ))}\n              </ul>\n            </>\n          ) : null}\n          <Divider />\n          <ul className=\"card-list\">\n            <li>\n              <Card>\n                <CardContent>\n                  <ReactMarkdown\n                    {...{\n                      linkTarget: '_blank',\n                      className: 'markdown',\n                      source: `Forge Recipes are learned by selling resources mined from the field.`,\n                    }}\n                  />\n                </CardContent>\n              </Card>\n            </li>\n          </ul>\n        </TabPanel>\n      ) : null}\n    </div>\n  )\n}\n\nWorkshop.propTypes = {\n  learnedRecipes: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Workshop {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useEffect, useRef } from 'react'\nimport { array, arrayOf, bool, string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Field from '../Field'\nimport Home from '../Home'\nimport CowPen from '../CowPen'\nimport Shop from '../Shop'\nimport Workshop from '../Workshop'\nimport { stageFocusType } from '../../enums'\n\nimport './Stage.sass'\n\nexport const Stage = ({\n  field,\n  isMenuOpen,\n  playerInventory,\n  stageFocus,\n  viewTitle,\n}) => {\n  const ref = useRef(null)\n\n  useEffect(() => {\n    const {\n      current,\n      current: { style },\n    } = ref\n    // Set scroll position to the top\n    current.scrollTop = 0\n\n    // Stop any intertial scrolling\n    style.overflow = 'hidden'\n    setTimeout(() => (style.overflow = ''), 0)\n  }, [stageFocus])\n\n  return (\n    <div\n      {...{\n        className: 'Stage',\n        'data-stage-focus': stageFocus,\n        ref,\n      }}\n    >\n      <h2 className=\"view-title\">{viewTitle}</h2>\n      {stageFocus === stageFocusType.HOME && <Home />}\n      {stageFocus === stageFocusType.FIELD && (\n        <Field\n          {...{\n            columns: field[0].length,\n            rows: field.length,\n          }}\n        />\n      )}\n      {stageFocus === stageFocusType.SHOP && <Shop />}\n      {stageFocus === stageFocusType.COW_PEN && <CowPen />}\n      {stageFocus === stageFocusType.WORKSHOP && <Workshop />}\n      <div {...{ className: 'spacer' }} />\n    </div>\n  )\n}\n\nStage.propTypes = {\n  field: arrayOf(array).isRequired,\n  isMenuOpen: bool.isRequired,\n  playerInventory: array.isRequired,\n  stageFocus: string.isRequired,\n  viewTitle: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Stage {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useEffect } from 'react'\nimport { func, shape, string } from 'prop-types'\nimport Alert from '@material-ui/lab/Alert'\nimport ReactMarkdown from 'react-markdown'\nimport { withSnackbar } from 'notistack'\n\nimport { NOTIFICATION_DURATION } from '../../constants'\nimport FarmhandContext from '../../Farmhand.context'\nimport './NotificationSystem.sass'\n\nexport const snackbarProviderContentCallback = (\n  key,\n  { message, onClick, severity }\n) => (\n  <Alert\n    {...{\n      elevation: 3,\n      key,\n      onClick,\n      severity,\n    }}\n  >\n    <ReactMarkdown {...{ source: message }} />\n  </Alert>\n)\n\nexport const NotificationSystem = ({\n  closeSnackbar,\n  enqueueSnackbar,\n  latestNotification,\n}) => {\n  useEffect(() => {\n    if (latestNotification) {\n      enqueueSnackbar(latestNotification, {\n        autoHideDuration: NOTIFICATION_DURATION,\n        onClose: () => closeSnackbar(),\n        preventDuplicate: true,\n      })\n    }\n  }, [closeSnackbar, enqueueSnackbar, latestNotification])\n\n  return null\n}\n\nNotificationSystem.propTypes = {\n  latestNotification: shape({\n    message: string.isRequired,\n    onClick: func,\n    severity: string.isRequired,\n  }),\n}\n\nexport default withSnackbar(function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <NotificationSystem {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n})\n","import { createMuiTheme } from '@material-ui/core'\n\nexport default createMuiTheme({\n  typography: {\n    // Needed to silence this warning:\n    // https://material-ui.com/style/typography/#migration-to-typography-v2\n    useNextVariants: true,\n  },\n})\n","// https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\nconst commonFetchConfig = {\n  mode: 'cors', // no-cors, *cors, same-origin\n  cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n  credentials: 'same-origin', // include, *same-origin, omit\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  redirect: 'follow', // manual, *follow, error\n  referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n}\n\nexport async function getData(url = '', data = {}) {\n  const params = new URLSearchParams()\n\n  Object.keys(data).forEach(key =>\n    params.append(encodeURIComponent(key), encodeURIComponent(data[key]))\n  )\n\n  // Default options are marked with *\n  const response = await fetch(`${url}?${params}`, {\n    ...commonFetchConfig,\n    method: 'GET',\n  })\n\n  return response.json() // parses JSON response into native JavaScript objects\n}\n\nexport async function postData(url = '', data = {}) {\n  // Default options are marked with *\n  const response = await fetch(url, {\n    ...commonFetchConfig,\n    method: 'POST',\n    body: JSON.stringify(data), // body data type must match \"Content-Type\" header\n  })\n\n  return response.json() // parses JSON response into native JavaScript objects\n}\n","import React, { Component } from 'react'\nimport window from 'global/window'\nimport { Redirect } from 'react-router-dom'\nimport { GlobalHotKeys } from 'react-hotkeys'\nimport localforage from 'localforage'\nimport { v4 as uuid } from 'uuid'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport Drawer from '@material-ui/core/Drawer'\nimport Fab from '@material-ui/core/Fab'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport HotelIcon from '@material-ui/icons/Hotel'\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft'\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport MobileStepper from '@material-ui/core/MobileStepper'\nimport { joinRoom } from 'trystero'\nimport { SnackbarProvider } from 'notistack'\nimport debounce from 'lodash.debounce'\nimport throttle from 'lodash.throttle'\nimport classNames from 'classnames'\nimport { object } from 'prop-types'\n\nimport FarmhandContext from './Farmhand.context'\nimport eventHandlers from './handlers/ui-events'\nimport {\n  handlePeerMetadataRequest,\n  handleCowTradeRequest,\n  handleCowTradeRequestAccept,\n  handleCowTradeRequestReject,\n} from './handlers/peer-events'\nimport * as reducers from './game-logic/reducers'\n// This must be imported here so that it can be overridden by component styles.\nimport './Farmhand.sass'\n\nimport AppBar from './components/AppBar'\nimport Navigation from './components/Navigation'\nimport ContextPane from './components/ContextPane'\nimport Stage from './components/Stage'\nimport NotificationSystem, {\n  snackbarProviderContentCallback,\n} from './components/NotificationSystem'\nimport DebugMenu from './components/DebugMenu'\nimport theme from './mui-theme'\nimport {\n  computeMarketPositions,\n  createNewField,\n  doesMenuObstructStage,\n  farmProductsSold,\n  getAvailableShopInventory,\n  getItemCurrentValue,\n  getLevelEntitlements,\n  getPeerMetadata,\n  inventorySpaceRemaining,\n  levelAchieved,\n  memoize,\n  moneyTotal,\n  nullArray,\n  reduceByPersistedKeys,\n  sleep,\n  transformStateDataForImport,\n} from './utils'\nimport { getData, postData } from './fetch-utils'\nimport { itemsMap, recipesMap } from './data/maps'\nimport {\n  dialogView,\n  fieldMode,\n  stageFocusType,\n  toolLevel,\n  toolType,\n} from './enums'\nimport {\n  COW_TRADE_TIMEOUT,\n  DEFAULT_ROOM,\n  INITIAL_STORAGE_LIMIT,\n  PURCHASEABLE_COW_PENS,\n  STAGE_TITLE_MAP,\n  STANDARD_LOAN_AMOUNT,\n} from './constants'\nimport { HEARTBEAT_INTERVAL_PERIOD, SERVER_ERRORS } from './common/constants'\nimport {\n  CONNECTED_TO_ROOM,\n  COW_PEN_PURCHASED,\n  LOAN_INCREASED,\n  POSITIONS_POSTED_NOTIFICATION,\n  RECIPE_LEARNED,\n  RECIPES_LEARNED,\n  ROOM_FULL_NOTIFICATION,\n} from './templates'\nimport {\n  CONNECTING_TO_SERVER,\n  COW_ALREADY_OWNED,\n  DATA_DELETED,\n  DISCONNECTED_FROM_SERVER,\n  INVENTORY_FULL_NOTIFICATION,\n  PROGRESS_SAVED_MESSAGE,\n  REQUESTED_COW_TRADE_UNAVAILABLE,\n  SERVER_ERROR,\n  UPDATE_AVAILABLE,\n} from './strings'\nimport { endpoints } from './config'\n\nconst { CLEANUP, HARVEST, MINE, OBSERVE, WATER } = fieldMode\n\nconst itemIds = Object.freeze(Object.keys(itemsMap))\n\n// Utility object for reuse in no-ops to save on memory\nconst emptyObject = Object.freeze({})\n\n/*!\n * @param {Array.<{ id: farmhand.item, quantity: number }>} inventory\n * @param {Object.<number>} valueAdjustments\n * @returns {Array.<farmhand.item>}\n */\nexport const computePlayerInventory = memoize((inventory, valueAdjustments) =>\n  inventory.map(({ quantity, id }) => ({\n    quantity,\n    ...itemsMap[id],\n    value: getItemCurrentValue(itemsMap[id], valueAdjustments),\n  }))\n)\n\n/*!\n * @param {Array.<{ id: farmhand.item }>} inventory\n * @returns {Array.<{ id: farmhand.item }>}\n */\nexport const getFieldToolInventory = memoize(inventory =>\n  inventory\n    .filter(({ id }) => {\n      const { enablesFieldMode } = itemsMap[id]\n\n      return (\n        typeof enablesFieldMode === 'string' &&\n        enablesFieldMode !== fieldMode.PLANT\n      )\n    })\n    .map(({ id }) => itemsMap[id])\n)\n\n/*!\n * @param {Array.<{ id: farmhand.item }>} inventory\n * @returns {Array.<{ id: farmhand.item }>}\n */\nexport const getPlantableCropInventory = memoize(inventory =>\n  inventory\n    .filter(({ id }) => itemsMap[id].isPlantableCrop)\n    .map(({ id }) => itemsMap[id])\n)\n\n/**\n * @param {Object.<number>} valueAdjustments\n * @param {farmhand.priceEvent} priceCrashes\n * @param {farmhand.priceEvent} priceSurges\n * @returns {Object.<number>}\n */\nconst applyPriceEvents = (valueAdjustments, priceCrashes, priceSurges) => {\n  const patchedValueAdjustments = { ...valueAdjustments }\n\n  Object.keys(priceCrashes).forEach(itemId => {\n    patchedValueAdjustments[itemId] = 0.5\n  })\n  Object.keys(priceSurges).forEach(itemId => {\n    patchedValueAdjustments[itemId] = 1.5\n  })\n\n  return patchedValueAdjustments\n}\n\n/**\n * @typedef farmhand.state\n * @type {Object}\n * @property {number?} activePlayers\n * @property {boolean} allowCustomPeerCowNames\n * @property {farmhand.module:enums.dialogView} currentDialogView\n * @property {Object.<string, boolean>} completedAchievements Keys are\n * achievement ids.\n * @property {farmhand.cow} cowForSale\n * @property {farmhand.cowBreedingPen} cowBreedingPen\n * @property {Array.<farmhand.cow>} cowInventory\n * @property {Object.<farmhand.module:enums.cowColors, number>}\n * cowColorsPurchased Keys are color enums, values are the number of that color\n * of cow purchased.\n * @property {string} cowIdOfferedForTrade The ID of the cow that is currently\n * set to be traded with online peers.\n * @property {Object} cowsSold Keys are items IDs, values are the id references\n * of cow colors (rainbow-cow, etc.).\n * @property {number} cowsTraded\n * @property {number?} cowTradeTimeoutId\n * @property {Object.<farmhand.module:enums.cropType, number>} cropsHarvested A\n * map of totals of crops harvested. Keys are crop type IDs, values are the\n * number of that crop harvested.\n * @property {number} dayCount\n * @property {Array.<Array.<?farmhand.plotContent>>} field\n * @property {farmhand.module:enums.fieldMode} fieldMode\n * @property {Function?} getCowAccept https://github.com/dmotz/trystero#receiver\n * @property {Function?} getCowReject https://github.com/dmotz/trystero#receiver\n * @property {Function?} getCowTradeRequest https://github.com/dmotz/trystero#receiver\n * @property {Function?} getPeerMetadata https://github.com/dmotz/trystero#receiver\n * @property {number?} heartbeatTimeoutId\n * @property {Array.<number>} historicalDailyLosses\n * @property {Array.<number>} historicalDailyRevenue\n * @property {Array.<Object.<number>>} historicalValueAdjustments Currently\n * there is only one element in this array, but it will be used for more\n * historical price data analysis in the future. It is an array for\n * future-facing flexibility.\n * @property {number} hoveredPlotRangeSize\n * @property {string} id\n * @property {Array.<{ id: farmhand.item, quantity: number }>} inventory\n * @property {number} inventoryLimit Is -1 if inventory is unlimited.\n * @property {boolean} isAwaitingCowTradeRequest\n * @property {boolean} isAwaitingNetworkRequest\n * @property {boolean} isCombineEnabled\n * @property {boolean} isMenuOpen\n * @property {Object} itemsSold Keys are items IDs, values are the number of\n * that item sold.\n * @property {boolean} isDialogViewOpen\n * @property {boolean} isOnline Whether the player is playing online.\n * @property {boolean} isWaitingForDayToCompleteIncrementing\n * @property {Object} learnedRecipes Keys are recipe IDs, values are `true`.\n * @property {number} loanBalance\n * @property {number} loansTakenOut\n * @property {number} money\n * @property {farmhand.notification} latestNotification\n * @property {Array.<farmhand.notification>} newDayNotifications\n * @property {Array.<farmhand.notification>} notificationLog\n * @property {Object} peers Keys are (Trystero) peer ids, values are their respective metadata or null.\n * @property {Object?} peerRoom See https://github.com/dmotz/trystero\n * @property {Array.<farmhand.peerMessage>} pendingPeerMessages An array of\n * messages to be sent to the Trystero peer room upon the next broadcast.\n * @property {Array.<farmhand.peerMessage>} latestPeerMessages An array of\n * messages that have been received from peers.\n * @property {function?} sendPeerMetadata See https://github.com/dmotz/trystero\n * @property {string} selectedCowId\n * @property {string} selectedItemId\n * @property {Object.<string, farmhand.priceEvent>} priceCrashes Keys are\n * itemIds.\n * @property {Object.<string, farmhand.priceEvent>} priceSurges Keys are\n * itemIds.\n * @property {number} purchasedCombine\n * @property {number} purchasedCowPen\n * @property {number} purchasedField\n * @property {number} profitabilityStreak\n * @property {number} record7dayProfitAverage\n * @property {number} recordProfitabilityStreak\n * @property {number} recordSingleDayProfit\n * @property {number} revenue The amount of money the player has generated in\n * @property {string} redirect Transient value used to drive router redirection.\n * @property {string} room What online room the player is in.\n * @property {Function?} sendCowAccept https://github.com/dmotz/trystero#sender\n * @property {Function?} sendCowReject https://github.com/dmotz/trystero#sender\n * @property {Function?} sendCowTradeRequest https://github.com/dmotz/trystero#sender\n * @property {Function?} sendPeerMetadata https://github.com/dmotz/trystero#sender\n * @property {boolean} showHomeScreen Option to show the Home Screen\n * @property {boolean} showNotifications\n * @property {farmhand.module:enums.stageFocusType} stageFocus\n * @property {Array.<farmhand.notification>} todaysNotifications\n * @property {number} todaysLosses Should always be a negative number.\n * @property {Object} todaysPurchases Keys are item names, values are their\n * respective quantities.\n * @property {number} todaysRevenue Should always be a positive number.\n * @property {Object} todaysStartingInventory Keys are item names, values are\n * their respective quantities.\n * @property {boolean} useAlternateEndDayButtonPosition Option to display the\n * Bed button on the left side of the screen.\n * @property {Object.<number>} valueAdjustments\n * @property {string} version Comes from the `version` property in\n * package.json.\n */\n\nexport default class Farmhand extends Component {\n  // Bind event handlers\n\n  localforage = localforage.createInstance({\n    name: 'farmhand',\n    description: 'Persisted game data for Farmhand',\n  })\n\n  /*!\n   * @member farmhand.Farmhand#state\n   * @type {farmhand.state}\n   */\n  state = this.createInitialState()\n\n  constructor() {\n    super(...arguments)\n\n    this.initInputHandlers()\n    this.initReducers()\n\n    // This is antipattern, but it's useful for debugging. The Farmhand\n    // component assumes that it is a singleton.\n    window.farmhand = this\n  }\n\n  getData = getData\n  postData = postData\n\n  get viewTitle() {\n    return STAGE_TITLE_MAP[this.state.stageFocus]\n  }\n\n  get fieldToolInventory() {\n    return getFieldToolInventory(this.state.inventory)\n  }\n\n  get playerInventory() {\n    const { inventory, valueAdjustments } = this.state\n    return computePlayerInventory(inventory, valueAdjustments)\n  }\n\n  get playerInventoryQuantities() {\n    const { inventory } = this.state\n\n    return itemIds.reduce((acc, itemId) => {\n      const itemInInventory = inventory.find(({ id }) => id === itemId)\n      acc[itemId] = itemInInventory ? itemInInventory.quantity : 0\n\n      return acc\n    }, {})\n  }\n\n  get plantableCropInventory() {\n    return getPlantableCropInventory(this.state.inventory)\n  }\n\n  get viewList() {\n    const { COW_PEN, FIELD, HOME, WORKSHOP, SHOP } = stageFocusType\n    const viewList = [SHOP, FIELD]\n\n    if (this.state.showHomeScreen) {\n      viewList.unshift(HOME)\n    }\n\n    if (this.state.purchasedCowPen) {\n      viewList.push(COW_PEN)\n    }\n\n    viewList.push(WORKSHOP)\n\n    return viewList\n  }\n\n  get levelEntitlements() {\n    return getLevelEntitlements(\n      levelAchieved(farmProductsSold(this.state.itemsSold))\n    )\n  }\n\n  get shopInventory() {\n    return getAvailableShopInventory(this.levelEntitlements)\n  }\n\n  get peerMetadata() {\n    return getPeerMetadata(this.state)\n  }\n\n  get isInputBlocked() {\n    return (\n      this.state.isAwaitingNetworkRequest ||\n      this.state.isAwaitingCowTradeRequest ||\n      this.state.isWaitingForDayToCompleteIncrementing\n    )\n  }\n\n  /**\n   * @returns {farmhand.state}\n   */\n  createInitialState() {\n    return {\n      activePlayers: null,\n      allowCustomPeerCowNames: false,\n      currentDialogView: dialogView.NONE,\n      completedAchievements: {},\n      cowForSale: {},\n      cowBreedingPen: {\n        cowId1: null,\n        cowId2: null,\n        daysUntilBirth: -1,\n      },\n      cowColorsPurchased: {},\n      cowIdOfferedForTrade: '',\n      cowInventory: [],\n      cowsSold: {},\n      cowsTraded: 0,\n      cropsHarvested: {},\n      dayCount: 0,\n      farmName: 'Unnamed',\n      field: createNewField(),\n      hasBooted: false,\n      heartbeatTimeoutId: null,\n      historicalDailyLosses: [],\n      historicalDailyRevenue: [],\n      historicalValueAdjustments: [],\n      hoveredPlotRangeSize: 0,\n      id: uuid(),\n      inventory: [],\n      inventoryLimit: INITIAL_STORAGE_LIMIT,\n      isAwaitingCowTradeRequest: false,\n      isAwaitingNetworkRequest: false,\n      isCombineEnabled: false,\n      isMenuOpen: !doesMenuObstructStage(),\n      itemsSold: {},\n      isDialogViewOpen: false,\n      isOnline: this.props.match.path.startsWith('/online'),\n      isWaitingForDayToCompleteIncrementing: false,\n      learnedRecipes: {},\n      loanBalance: STANDARD_LOAN_AMOUNT,\n      loansTakenOut: 1,\n      money: STANDARD_LOAN_AMOUNT,\n      latestNotification: null,\n      newDayNotifications: [],\n      notificationLog: [],\n      peers: {},\n      peerRoom: null,\n      pendingPeerMessages: [],\n      latestPeerMessages: [],\n      sendPeerMetadata: null,\n      selectedCowId: '',\n      selectedItemId: '',\n      fieldMode: OBSERVE,\n      priceCrashes: {},\n      priceSurges: {},\n      profitabilityStreak: 0,\n      record7dayProfitAverage: 0,\n      recordProfitabilityStreak: 0,\n      recordSingleDayProfit: 0,\n      revenue: 0,\n      redirect: '',\n      room: decodeURIComponent(this.props.match.params.room || DEFAULT_ROOM),\n      purchasedCombine: 0,\n      purchasedCowPen: 0,\n      purchasedField: 0,\n      purchasedSmelter: 0,\n      showHomeScreen: true,\n      showNotifications: true,\n      stageFocus: stageFocusType.HOME,\n      todaysNotifications: [],\n      todaysLosses: 0,\n      todaysPurchases: {},\n      todaysRevenue: 0,\n      todaysStartingInventory: {},\n      toolLevels: {\n        [toolType.HOE]: toolLevel.DEFAULT,\n        [toolType.SCYTHE]: toolLevel.DEFAULT,\n        [toolType.SHOVEL]: toolLevel.UNAVAILABLE,\n        [toolType.WATERING_CAN]: toolLevel.DEFAULT,\n      },\n      useAlternateEndDayButtonPosition: false,\n      valueAdjustments: {},\n      version: process.env.REACT_APP_VERSION,\n    }\n  }\n\n  initInputHandlers() {\n    const debouncedInputRate = 50\n\n    this.handlers = { debounced: {} }\n\n    Object.keys(eventHandlers).forEach(method => {\n      this.handlers[method] = eventHandlers[method].bind(this)\n\n      this.handlers.debounced[method] = debounce(\n        this.handlers[method],\n        debouncedInputRate\n      )\n    })\n\n    // NOTE: The dialog view mappings here MUST be kept in sync with the\n    // dialogTriggerTextMap map in Navigation.js. They MUST also be kept in\n    // sync with the player-facing documentation in KeybindingsView.js\n    this.keyMap = {\n      incrementDay: 'shift+c',\n      nextView: 'right',\n      openAccounting: 'b',\n      openAchievements: 'a',\n      openLog: 'l',\n      openPriceEvents: 'e',\n      openStats: 's',\n      openSettings: ',',\n      openKeybindings: 'shift+?',\n      previousView: 'left',\n      toggleMenu: 'm',\n    }\n\n    this.keyHandlers = {\n      incrementDay: () => this.incrementDay(),\n      nextView: this.focusNextView.bind(this),\n      openAccounting: () => this.openDialogView(dialogView.ACCOUNTING),\n      openAchievements: () => this.openDialogView(dialogView.ACHIEVEMENTS),\n      openLog: () => this.openDialogView(dialogView.FARMERS_LOG),\n      openPriceEvents: () => this.openDialogView(dialogView.PRICE_EVENTS),\n      openStats: () => this.openDialogView(dialogView.STATS),\n      openSettings: () => this.openDialogView(dialogView.SETTINGS),\n      openKeybindings: () => this.openDialogView(dialogView.KEYBINDINGS),\n      previousView: this.focusPreviousView.bind(this),\n      selectHoe: () => this.handlers.handleFieldModeSelect(CLEANUP),\n      selectScythe: () => this.handlers.handleFieldModeSelect(HARVEST),\n      selectWateringCan: () => this.handlers.handleFieldModeSelect(WATER),\n      selectShovel: () => this.handlers.handleFieldModeSelect(MINE),\n      toggleMenu: () => this.handlers.handleMenuToggle(),\n    }\n\n    nullArray(9).forEach((_, i) => {\n      const index = i + 1\n      const key = `numberKey${index}`\n      this.keyMap[key] = String(index)\n      this.keyHandlers[key] = () => {\n        const viewName = this.viewList[i]\n\n        if (typeof viewName === 'string') {\n          this.setState({ stageFocus: stageFocusType[viewName] })\n        }\n      }\n    })\n\n    if (process.env.NODE_ENV === 'development') {\n      Object.assign(this.keyMap, {\n        clearPersistedData: 'shift+d',\n        waterAllPlots: 'w',\n      })\n    }\n\n    Object.assign(this.keyHandlers, {\n      clearPersistedData: () => this.clearPersistedData(),\n      waterAllPlots: () => this.waterAllPlots(this.state),\n    })\n  }\n\n  initReducers() {\n    ;[\n      'addCowToInventory',\n      'addPeer',\n      'adjustLoan',\n      'changeCowAutomaticHugState',\n      'changeCowBreedingPenResident',\n      'changeCowName',\n      'clearPlot',\n      'computeStateForNextDay',\n      'fertilizePlot',\n      'forRange',\n      'harvestPlot',\n      'hugCow',\n      'makeRecipe',\n      'modifyCow',\n      'offerCow',\n      'plantInPlot',\n      'prependPendingPeerMessage',\n      'purchaseCombine',\n      'purchaseCow',\n      'purchaseCowPen',\n      'purchaseField',\n      'purchaseItem',\n      'purchaseSmelter',\n      'purchaseStorageExpansion',\n      'removeCowFromInventory',\n      'removePeer',\n      'selectCow',\n      'sellCow',\n      'sellItem',\n      'setScarecrow',\n      'setSprinkler',\n      'showNotification',\n      'updatePeer',\n      'upgradeTool',\n      'waterAllPlots',\n      'waterField',\n      'waterPlot',\n      'withdrawCow',\n    ].forEach(reducerName => {\n      const reducer = reducers[reducerName]\n\n      this[reducerName] = (...args) => {\n        this.setState(state => reducer(state, ...args))\n      }\n    })\n  }\n\n  async componentDidMount() {\n    const state = await this.localforage.getItem('state')\n\n    if (state) {\n      const sanitizedState = transformStateDataForImport({\n        ...this.createInitialState(),\n        ...state,\n      })\n      const { isCombineEnabled, newDayNotifications } = sanitizedState\n\n      this.setState({ ...sanitizedState, newDayNotifications: [] }, () => {\n        newDayNotifications.forEach(({ message, severity }) => {\n          // Defer these notifications so that notistack doesn't swallow all\n          // but the last one.\n          setTimeout(() => this.showNotification(message, severity), 0)\n\n          if (isCombineEnabled) {\n            this.forRange(reducers.harvestPlot, Infinity, 0, 0)\n          }\n        })\n      })\n    } else {\n      // Initialize new game\n      await this.incrementDay(true)\n      this.setState(() => ({ historicalValueAdjustments: [] }))\n      this.showNotification(LOAN_INCREASED`${STANDARD_LOAN_AMOUNT}`, 'info')\n    }\n\n    this.syncToRoom().catch(errorCode => this.handleRoomSyncError(errorCode))\n\n    this.setState({ hasBooted: true, ...this.props.initialState })\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      hasBooted,\n      heartbeatTimeoutId,\n      isMenuOpen,\n      isOnline,\n      money,\n      peerRoom,\n      room,\n      stageFocus,\n    } = this.state\n\n    // The operations after this if block concern transient gameplay state, but\n    // componentDidUpdate runs as part of the rehydration/bootup process. So,\n    // check to see if the app has completed booting before doing anything with\n    // this transient state.\n    if (!hasBooted) {\n      return\n    }\n\n    const {\n      match: {\n        path,\n        params: { room: newRoom = room },\n      },\n    } = this.props\n\n    const decodedRoom = decodeURIComponent(newRoom)\n\n    const newIsOnline = path.startsWith('/online')\n\n    if (newIsOnline !== this.state.isOnline || decodedRoom !== room) {\n      this.setState(() => ({\n        isOnline: newIsOnline,\n        redirect: '',\n        room: decodedRoom,\n      }))\n    }\n\n    if (isOnline !== prevState.isOnline || room !== prevState.room) {\n      this.syncToRoom().catch(errorCode => this.handleRoomSyncError(errorCode))\n\n      if (!isOnline) {\n        clearTimeout(heartbeatTimeoutId)\n        this.setState({\n          activePlayers: null,\n          heartbeatTimeoutId: null,\n          peerRoom: null,\n        })\n      }\n    }\n\n    if (isOnline === false && prevState.isOnline === true) {\n      this.showNotification(DISCONNECTED_FROM_SERVER, 'info')\n    }\n\n    const updatedAchievementsState = reducers.updateAchievements(\n      this.state,\n      prevState\n    )\n\n    if (updatedAchievementsState !== this.state) {\n      this.setState(() => updatedAchievementsState)\n    }\n\n    if (\n      this.state.stageFocus === stageFocusType.COW_PEN &&\n      prevState.stageFocus !== stageFocusType.COW_PEN\n    ) {\n      this.setState(() => ({ selectedCowId: '' }))\n    }\n\n    if (stageFocus !== prevState.stageFocus) {\n      if (isMenuOpen) {\n        this.setState(() => ({ isMenuOpen: !doesMenuObstructStage() }))\n      }\n    }\n\n    if (money < prevState.money) {\n      this.setState(({ todaysLosses }) => ({\n        todaysLosses: moneyTotal(todaysLosses, money - prevState.money),\n      }))\n    }\n\n    if (peerRoom !== prevState.peerRoom) {\n      if (peerRoom) {\n        peerRoom.onPeerJoin(id => {\n          this.addPeer(id)\n        })\n\n        peerRoom.onPeerLeave(id => {\n          this.removePeer(id)\n        })\n\n        const [sendPeerMetadata, getPeerMetadata] = peerRoom.makeAction(\n          'peerMetadata'\n        )\n        getPeerMetadata((...args) => handlePeerMetadataRequest(this, ...args))\n\n        const [sendCowTradeRequest, getCowTradeRequest] = peerRoom.makeAction(\n          'cowTrade'\n        )\n        getCowTradeRequest((...args) => handleCowTradeRequest(this, ...args))\n\n        const [sendCowAccept, getCowAccept] = peerRoom.makeAction('cowAccept')\n        getCowAccept((...args) => handleCowTradeRequestAccept(this, ...args))\n\n        const [sendCowReject, getCowReject] = peerRoom.makeAction('cowReject')\n        getCowReject((...args) => handleCowTradeRequestReject(this, ...args))\n\n        this.setState({\n          getCowAccept,\n          getCowReject,\n          getCowTradeRequest,\n          getPeerMetadata,\n          pendingPeerMessages: [],\n          sendCowAccept,\n          sendCowReject,\n          sendCowTradeRequest,\n          sendPeerMetadata: this.wrapSendPeerMetadata(sendPeerMetadata),\n        })\n\n        sendPeerMetadata(this.peerMetadata)\n      } else {\n        // This player has gone offline.\n        prevState.peerRoom.leave()\n        this.setState({ peers: {}, sendPeerMetadata: null })\n      }\n    }\n\n    ;[\n      'showCowPenPurchasedNotifications',\n      'showInventoryFullNotifications',\n      'showRecipeLearnedNotifications',\n    ].forEach(fn => this[fn](prevState))\n\n    this.state.sendPeerMetadata?.(this.peerMetadata)\n  }\n\n  /**\n   * @param {Function} sendPeerMetadata Raw send action callback created by\n   * Trystero's makeAction function.\n   * @return {Function}\n   */\n  wrapSendPeerMetadata(sendPeerMetadata) {\n    return throttle(\n      (...args) => {\n        sendPeerMetadata(...args)\n\n        this.setState(() => ({\n          pendingPeerMessages: [],\n        }))\n      },\n      5000,\n      {\n        trailing: true,\n      }\n    )\n  }\n\n  /**\n   * @param {farmhand.cow} peerPlayerCow\n   */\n  tradeForPeerCow(peerPlayerCow) {\n    this.setState(\n      state => {\n        const {\n          cowIdOfferedForTrade,\n          cowInventory,\n          peers,\n          sendCowTradeRequest,\n        } = state\n\n        if (!sendCowTradeRequest) return null\n\n        const { ownerId } = peerPlayerCow\n\n        const [peerId] =\n          Object.entries(peers).find(\n            ([peerId, peer]) => peer?.id === ownerId\n          ) ?? []\n\n        if (!peerId) {\n          console.error(\n            `Owner not found for cow ${JSON.stringify(peerPlayerCow)}`\n          )\n          return null\n        }\n\n        const playerAlreadyOwnsRequestedCow = cowInventory.find(\n          ({ id }) => id === peerPlayerCow.id\n        )\n\n        if (playerAlreadyOwnsRequestedCow) {\n          console.error(`Cow ID ${peerPlayerCow.id} is already in inventory`)\n          return reducers.showNotification(state, COW_ALREADY_OWNED, 'error')\n        }\n\n        const cowToTradeAway = cowInventory.find(\n          ({ id }) => id === cowIdOfferedForTrade\n        )\n\n        if (!cowToTradeAway) {\n          console.error(`Cow ID ${cowIdOfferedForTrade} not found`)\n          return null\n        }\n\n        const cowTradeTimeoutId = setTimeout(\n          this.handleCowTradeTimeout,\n          COW_TRADE_TIMEOUT\n        )\n\n        sendCowTradeRequest(\n          {\n            cowOffered: { ...cowToTradeAway, isUsingHuggingMachine: false },\n            cowRequested: peerPlayerCow,\n          },\n          peerId\n        )\n\n        return { cowTradeTimeoutId, isAwaitingCowTradeRequest: true }\n      },\n      () => {}\n    )\n  }\n\n  handleCowTradeTimeout = () => {\n    if (typeof this.state.cowTradeTimeoutId === 'number') {\n      this.showNotification(REQUESTED_COW_TRADE_UNAVAILABLE, 'error')\n      this.setState({\n        cowTradeTimeoutId: null,\n        isAwaitingCowTradeRequest: false,\n      })\n\n      console.error('Cow trade request timed out')\n    }\n  }\n\n  async clearPersistedData() {\n    await this.localforage.clear()\n\n    this.showNotification(DATA_DELETED)\n  }\n\n  async syncToRoom() {\n    const { isOnline, priceCrashes, priceSurges, room } = this.state\n\n    if (!isOnline) {\n      return\n    }\n\n    this.showNotification(CONNECTING_TO_SERVER, 'info')\n\n    try {\n      this.setState({\n        isAwaitingNetworkRequest: true,\n        peers: {},\n      })\n\n      this.state.peerRoom?.leave()\n\n      const { activePlayers, errorCode, valueAdjustments } = await getData(\n        endpoints.getMarketData,\n        {\n          farmId: this.state.id,\n          room: room,\n        }\n      )\n\n      if (errorCode) {\n        // Bail out and move control to this try's catch\n        throw new Error(errorCode)\n      }\n\n      this.scheduleHeartbeat()\n\n      this.setState({\n        activePlayers,\n        peerRoom: joinRoom({ appId: process.env.REACT_APP_NAME }, room),\n        valueAdjustments: applyPriceEvents(\n          valueAdjustments,\n          priceCrashes,\n          priceSurges\n        ),\n      })\n\n      this.showNotification(CONNECTED_TO_ROOM`${room}`, 'success')\n    } catch (e) {\n      // TODO: Add some reasonable fallback behavior in case the server request\n      // fails. Possibility: Regenerate valueAdjustments and notify the user\n      // they are offline.\n\n      if (SERVER_ERRORS[e.message]) {\n        // Bubble up the errorCode to be handled by game logic\n        throw e.message\n      }\n\n      this.showNotification(SERVER_ERROR, 'error')\n\n      console.error(e)\n    }\n\n    this.setState({\n      isAwaitingNetworkRequest: false,\n      isAwaitingCowTradeRequest: false,\n    })\n  }\n\n  handleRoomSyncError(errorCode) {\n    const { room } = this.state\n\n    switch (errorCode) {\n      case SERVER_ERRORS.ROOM_FULL:\n        const roomNameChunks = room.split('-')\n        const roomNumber = parseInt(roomNameChunks.slice(-1)) // May be NaN\n        const nextRoomNumber = isNaN(roomNumber) ? 2 : roomNumber + 1\n        const roomBaseName = roomNameChunks\n          .slice(0, isNaN(roomNumber) ? undefined : -1)\n          .join('-')\n        const nextRoom = `${roomBaseName}-${nextRoomNumber}`\n\n        this.showNotification(\n          ROOM_FULL_NOTIFICATION`${room}${nextRoom}`,\n          'warning'\n        )\n\n        this.setState(() => ({\n          redirect: `/online/${encodeURIComponent(nextRoom)}`,\n        }))\n\n        break\n\n      default:\n    }\n  }\n\n  scheduleHeartbeat() {\n    const { heartbeatTimeoutId, id, room } = this.state\n    clearTimeout(heartbeatTimeoutId)\n\n    this.setState(() => ({\n      heartbeatTimeoutId: setTimeout(async () => {\n        try {\n          const { activePlayers, errorCode } = await getData(\n            endpoints.getMarketData,\n            {\n              farmId: id,\n              room,\n            }\n          )\n\n          if (errorCode) {\n            // Bail out and move control to this try's catch\n            throw new Error(errorCode)\n          }\n\n          // If the player has been previously disconnected due to network\n          // flakiness (see the catch block below), attempt to rejoin the peer\n          // room.\n          const peerRoom =\n            this.state.peerRoom ||\n            joinRoom({ appId: process.env.REACT_APP_NAME }, room)\n\n          this.setState(({ money }) => ({\n            activePlayers,\n            money: moneyTotal(money, activePlayers),\n            peerRoom,\n          }))\n        } catch (e) {\n          if (SERVER_ERRORS[e.message]) {\n            // Bubble up the errorCode to be handled by game logic\n            throw e.message\n          }\n\n          this.showNotification(SERVER_ERROR, 'error')\n\n          this.setState({ peerRoom: null })\n\n          console.error(e)\n        }\n\n        this.scheduleHeartbeat()\n      }, HEARTBEAT_INTERVAL_PERIOD),\n    }))\n  }\n\n  /*!\n   * @param {farmhand.state} prevState\n   */\n  showCowPenPurchasedNotifications(prevState) {\n    const {\n      state: { purchasedCowPen },\n    } = this\n\n    if (purchasedCowPen !== prevState.purchasedCowPen) {\n      const { cows } = PURCHASEABLE_COW_PENS.get(purchasedCowPen)\n\n      this.showNotification(COW_PEN_PURCHASED`${cows}`)\n    }\n  }\n\n  /*!\n   * @param {farmhand.state} prevState\n   */\n  showInventoryFullNotifications(prevState) {\n    if (\n      inventorySpaceRemaining(prevState) > 0 &&\n      inventorySpaceRemaining(this.state) <= 0\n    ) {\n      this.showNotification(INVENTORY_FULL_NOTIFICATION, 'warning')\n    }\n  }\n\n  /*!\n   * @param {farmhand.state} prevState\n   */\n  showRecipeLearnedNotifications({ learnedRecipes: previousLearnedRecipes }) {\n    let learnedRecipes = []\n\n    Object.keys(this.state.learnedRecipes).forEach(recipeId => {\n      if (!previousLearnedRecipes.hasOwnProperty(recipeId)) {\n        learnedRecipes.push(recipesMap[recipeId])\n      }\n    })\n\n    if (learnedRecipes.length > 1) {\n      this.showNotification(RECIPES_LEARNED`${learnedRecipes}`)\n    } else if (learnedRecipes.length === 1) {\n      this.showNotification(RECIPE_LEARNED`${learnedRecipes[0]}`)\n    }\n  }\n\n  /*!\n   * @param {Object} [overrides] Data to patch into this.state when persisting.\n   * @return {Promise}\n   */\n  persistState(overrides = {}) {\n    return this.localforage.setItem(\n      'state',\n      reduceByPersistedKeys({\n        ...this.state,\n        ...overrides,\n      })\n    )\n  }\n\n  /*!\n   * @param {boolean} [isFirstDay=false]\n   */\n  async incrementDay(isFirstDay = false) {\n    const {\n      inventory,\n      isCombineEnabled,\n      isOnline,\n      room,\n      stageFocus,\n      todaysPurchases,\n      todaysStartingInventory,\n    } = this.state\n    const nextDayState = reducers.computeStateForNextDay(this.state, isFirstDay)\n    const serverMessages = []\n    let broadcastedPositionMessage\n\n    if (isOnline) {\n      try {\n        this.setState({ isAwaitingNetworkRequest: true })\n\n        const positions = computeMarketPositions(\n          todaysStartingInventory,\n          todaysPurchases,\n          inventory\n        )\n\n        if (Object.keys(positions).length) {\n          serverMessages.push({\n            message: POSITIONS_POSTED_NOTIFICATION`${'You'}${positions}`,\n            severity: 'info',\n          })\n\n          broadcastedPositionMessage = POSITIONS_POSTED_NOTIFICATION`${''}${positions}`\n        }\n\n        const { valueAdjustments } = await postData(endpoints.postDayResults, {\n          positions,\n          room,\n        })\n\n        nextDayState.valueAdjustments = applyPriceEvents(\n          valueAdjustments,\n          nextDayState.priceCrashes,\n          nextDayState.priceSurges\n        )\n      } catch (e) {\n        serverMessages.push({\n          message: SERVER_ERROR,\n          severity: 'error',\n        })\n\n        console.error(e)\n      }\n\n      this.setState({ isAwaitingNetworkRequest: false })\n    }\n\n    const pendingNotifications = [\n      ...serverMessages,\n      ...nextDayState.newDayNotifications,\n    ]\n\n    // This would be cleaner if setState was called after localForage.setItem,\n    // but updating the state first makes for a more responsive user\n    // experience. The persisted state is computed post-update and stored\n    // asynchronously, thus avoiding state changes from being blocked.\n\n    this.setState(\n      {\n        ...nextDayState,\n        isWaitingForDayToCompleteIncrementing: true,\n        newDayNotifications: [],\n        todaysNotifications: [],\n      },\n      async () => {\n        try {\n          await this.persistState({\n            // Old pendingNotifications are persisted so that they can be\n            // shown to the player when the app reloads.\n            newDayNotifications: pendingNotifications,\n          })\n          ;[]\n            .concat(pendingNotifications)\n            .concat(\n              isFirstDay\n                ? []\n                : [{ message: PROGRESS_SAVED_MESSAGE, severity: 'info' }]\n            )\n            .forEach(({ message, severity }) =>\n              this.showNotification(message, severity)\n            )\n\n          if (isCombineEnabled) {\n            if (stageFocus === stageFocusType.FIELD) {\n              // Allow the mature crops' animation to complete.\n              await sleep(1000)\n            }\n\n            this.forRange(reducers.harvestPlot, Infinity, 0, 0)\n          }\n        } catch (e) {\n          console.error(e)\n\n          this.showNotification(JSON.stringify(e), 'error')\n        } finally {\n          this.setState(() => ({\n            isWaitingForDayToCompleteIncrementing: false,\n          }))\n\n          if (broadcastedPositionMessage) {\n            this.messagePeers(broadcastedPositionMessage)\n          }\n        }\n      }\n    )\n  }\n\n  /*!\n   * @param {farmhand.module:enums.dialogView} dialogView\n   */\n  openDialogView(dialogView) {\n    this.setState({ currentDialogView: dialogView, isDialogViewOpen: true })\n  }\n\n  closeDialogView() {\n    this.setState({ isDialogViewOpen: false })\n  }\n\n  focusNextView() {\n    if (document.activeElement.getAttribute('role') === 'tab') return\n\n    const { viewList } = this\n\n    this.setState(({ stageFocus }) => {\n      const currentViewIndex = viewList.indexOf(stageFocus)\n\n      return { stageFocus: viewList[(currentViewIndex + 1) % viewList.length] }\n    })\n  }\n\n  focusPreviousView() {\n    if (document.activeElement.getAttribute('role') === 'tab') return\n\n    const { viewList } = this\n\n    this.setState(({ stageFocus }) => {\n      const currentViewIndex = viewList.indexOf(stageFocus)\n\n      return {\n        stageFocus:\n          viewList[\n            currentViewIndex === 0\n              ? viewList.length - 1\n              : (currentViewIndex - 1) % viewList.length\n          ],\n      }\n    })\n  }\n\n  /**\n   * @param {string} message\n   * @param {string?} [severity]\n   */\n  messagePeers(message, severity) {\n    this.prependPendingPeerMessage(message, severity)\n  }\n\n  /*!\n   * @param {ServiceWorkerRegistration} registration\n   */\n  showUpdateNotification(registration) {\n    // @see https://github.com/jeremyckahn/farmhand/blob/dd1dd502b079be39f50c7d62a54a2027ba83360c/src/service-worker.js#L65-L71\n    // @see https://github.com/pwa-builder/pwa-update/blob/1b709e339e1bde6b13cc71eb4812618d2d28fd54/src/pwa-update.ts#L169-L171\n    registration.waiting.postMessage({ type: 'SKIP_WAITING' })\n\n    this.showNotification(UPDATE_AVAILABLE, 'success', () => {\n      window.location.reload()\n    })\n  }\n\n  render() {\n    const {\n      props: { features = {} },\n      state: { redirect },\n      fieldToolInventory,\n      handlers,\n      keyHandlers,\n      keyMap,\n      levelEntitlements,\n      plantableCropInventory,\n      playerInventory,\n      playerInventoryQuantities,\n      shopInventory,\n      viewList,\n      viewTitle,\n    } = this\n\n    const blockInput = this.isInputBlocked\n\n    // Bundle up the raw state and the computed state into one object to be\n    // passed down through the component tree.\n    const gameState = {\n      ...this.state,\n      blockInput,\n      features,\n      fieldToolInventory,\n      levelEntitlements,\n      plantableCropInventory,\n      playerInventory,\n      playerInventoryQuantities,\n      shopInventory,\n      viewList,\n      viewTitle,\n    }\n\n    return (\n      <GlobalHotKeys\n        {...{\n          allowChanges: true,\n          keyMap: blockInput ? emptyObject : keyMap,\n          handlers: blockInput ? emptyObject : keyHandlers,\n        }}\n      >\n        <MuiThemeProvider theme={theme}>\n          <SnackbarProvider\n            {...{\n              anchorOrigin: { vertical: 'top', horizontal: 'right' },\n              classes: {\n                containerRoot: 'Farmhand notification-container',\n              },\n              content: snackbarProviderContentCallback,\n              maxSnack: 4,\n            }}\n          >\n            {redirect && <Redirect {...{ to: redirect }} />}\n            <FarmhandContext.Provider value={{ gameState, handlers }}>\n              <div\n                {...{\n                  className: classNames(\n                    'Farmhand farmhand-root fill',\n                    this.state.isMenuOpen ? 'menu-open' : 'menu-closed',\n                    {\n                      'use-alternate-end-day-button-position': this.state\n                        .useAlternateEndDayButtonPosition,\n                      'block-input': blockInput,\n                      'has-booted': this.state.hasBooted,\n                    }\n                  ),\n                }}\n              >\n                <AppBar />\n                <Drawer\n                  {...{\n                    className: 'sidebar-wrapper',\n                    open: gameState.isMenuOpen,\n                    variant: 'persistent',\n                    PaperProps: {\n                      className: 'sidebar',\n                    },\n                  }}\n                >\n                  <Navigation />\n                  <ContextPane />\n                  {process.env.NODE_ENV === 'development' && <DebugMenu />}\n                  <div {...{ className: 'spacer' }} />\n                </Drawer>\n                <Stage />\n\n                {/*\n              These controls need to be at this top level instead of the Stage\n              because of scrolling issues in iOS.\n              */}\n                <div className=\"bottom-controls\">\n                  <MobileStepper\n                    variant=\"dots\"\n                    steps={viewList.length}\n                    position=\"static\"\n                    activeStep={viewList.indexOf(this.state.stageFocus)}\n                    className=\"\"\n                  />\n                  <div className=\"fab-buttons buttons\">\n                    <Fab\n                      {...{\n                        'aria-label': 'Previous view',\n                        color: 'primary',\n                        onClick: () => this.focusPreviousView(),\n                      }}\n                    >\n                      <KeyboardArrowLeft />\n                    </Fab>\n                    <Fab\n                      {...{\n                        className: classNames('menu-button', {\n                          'is-open': this.state.isMenuOpen,\n                        }),\n                        color: 'primary',\n                        'aria-label': 'Open drawer',\n                        onClick: () => handlers.handleMenuToggle(),\n                      }}\n                    >\n                      <MenuIcon />\n                    </Fab>\n                    <Fab\n                      {...{\n                        'aria-label': 'Next view',\n                        color: 'primary',\n                        onClick: () => this.focusNextView(),\n                      }}\n                    >\n                      <KeyboardArrowRight />\n                    </Fab>\n                  </div>\n                </div>\n                <Tooltip\n                  {...{\n                    placement: 'left',\n                    title: (\n                      <>\n                        <p>\n                          End the day to save your progress and advance the\n                          game.\n                        </p>\n                        <p>(shift + c)</p>\n                      </>\n                    ),\n                  }}\n                >\n                  <Fab\n                    {...{\n                      'aria-label':\n                        'End the day to save your progress and advance the game.',\n                      className: 'end-day',\n                      color: 'secondary',\n                      onClick: handlers.handleClickEndDayButton,\n                    }}\n                  >\n                    <HotelIcon />\n                  </Fab>\n                </Tooltip>\n              </div>\n              <NotificationSystem />\n            </FarmhandContext.Provider>\n          </SnackbarProvider>\n        </MuiThemeProvider>\n      </GlobalHotKeys>\n    )\n  }\n}\n\nFarmhand.propTypes = {\n  features: object,\n  history: object,\n  location: object,\n  match: object.isRequired,\n  initialState: object,\n}\n","/**\n * @namespace farmhand\n */\n\n/**\n * Lookup table for the lifecycle durations of a crop (in days).\n * @typedef farmhand.cropTimetable\n * @readonly\n * @type {Object}\n * @property {number} seed\n * @property {number} growing\n */\n\n/**\n * Reference object for an item.\n * @typedef farmhand.item\n * @type {Object}\n * @readonly\n * @property {string} id\n * @property {string} name\n * @property {string} type\n * @property {farmhand.cropTimetable} [cropTimetable]\n * @property {farmhand.module:enums.cropType} [cropType]\n * @property {string} [description] A user-friendly description of the item.\n * @property {string} [enablesFieldMode] The fieldMode that this item enables.\n * @property {string} [growsInto] The id of another farmhand.item.\n * @property {boolean} [doesPriceFluctuate] Whether or not this item has a\n * value that fluctuates from day to day.\n * @property {number} [hoveredPlotRange] The number to set.\n * farmhand.state.hoveredPlotRange to when the item is active.\n * @property {boolean} [isPlantableCrop]\n * @property {boolean} [isReplantable]\n * @property {number} [quantity] How many of the item the player has.\n * @property {number} [tier] The value tier that the item belongs to.\n */\n\n/**\n * This is a minimalist base type to be inherited and expanded on by types like\n * farmhand.crop. This also represents non-crop plot content like scarecrows\n * and sprinklers.\n * @typedef farmhand.plotContent\n * @type {Object}\n * @property {string} itemId\n */\n\n/**\n * Represents a crop as it proceeds through the lifecycle.\n * @typedef farmhand.crop\n * @type {farmhand.plotContent}\n * @property {number} daysOld\n * @property {number} daysWatered\n * @property {boolean?} isFertilized Deprecated by fertilizerType.\n * @property {farmhand.module:enums.fertilizerType} fertilizerType\n * @property {boolean} wasWateredToday\n */\n\n/**\n * Represents a shoveled plot\n * @typedef farmhand.shoveledPlot\n * @type {Object}\n * @property {boolean} isShoveled\n * @property {number}  daysUntilClear\n * @property {string?} oreId Only exists if ore was spawned\n */\n\n// Note: At some point farmhand.cow will be abstracted to farmhand.animal, but\n// there's only one animal so far so the abstraction isn't helpful yet.\n/**\n * @typedef farmhand.cow\n * @type {Object}\n * @property {number} baseWeight\n * @property {string} color\n * @property {Object.<farmhand.module:enums.cowColors, boolean>} colorsInBloodline\n * @property {number} daysOld\n * @property {number} daysSinceMilking Only applies to female cows.\n * @property {number} daysSinceProducingFertilizer Only applies to male cows.\n * @property {string} gender\n * @property {number} happiness 0-1.\n * @property {number} happinessBoostsToday\n * @property {string} id\n * @property {boolean} isBred\n * @property {boolean} isUsingHuggingMachine\n * @property {string} name\n * @property {string} originalOwnerId\n * @property {string} ownerId\n * @property {number} timesTraded\n * @property {number} weightMultiplier Clamped between 0.5 and 1.5.\n */\n\n/**\n * @typedef farmhand.cowBreedingPen\n * @type {Object}\n * @property {string?} cowId1\n * @property {string?} cowId2\n * @property {number} daysUntilBirth\n */\n\n/**\n * @callback farmhand.recipeCondition\n * @param {farmhand.state} state\n * @returns {boolean}\n */\n\n/**\n * @typedef farmhand.recipe\n * @readonly\n * @type {farmhand.item}\n * @property {farmhand.module:enums.recipeType} recipeType The type of recipe\n * this is.\n * @property {{string: number}} ingredients An object where each\n * key is the id of a farmhand.item and the value is the quantity of that item.\n * @property {farmhand.recipeCondition} condition This must return `true` for\n * the recipe to be made available to the player.\n */\n\n/**\n * @typedef farmhand.priceEvent\n * @type {Object}\n * @property {string} itemId\n * @property {number} daysRemaining\n */\n\n/**\n * @callback farmhand.achievementCondition\n * @param {farmhand.state} state\n * @param {farmhand.state} prevState\n * @returns {boolean}\n */\n\n/**\n * @callback farmhand.achievementReward\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\n\n/**\n * @typedef farmhand.achievement\n * @readonly\n * @type {Object}\n * @property {string} id\n * @property {string} name\n * @property {string} description\n * @property {string} rewardDescription\n * @property {farmhand.achievementCondition} condition\n * @property {farmhand.achievementReward} reward\n */\n\n/**\n * @typedef farmhand.level\n * @readonly\n * @type {Object}\n * @property {number} id\n * @property {boolean} [increasesSprinklerRange]\n * @property {string} [unlocksShopItem] Must reference a farmhand.item id.\n */\n\n/**\n * @typedef farmhand.notification\n * @type {Object}\n * @property {'error'|'info'|'success'|'warning'} severity\n * @property {Function?} onClick\n * @property {string} message\n */\n\n/**\n * @typedef farmhand.peerMessage\n * @type {Object}\n * @property {string} id The farmhand.state.id of the peer.\n * @property {'error'|'info'|'success'|'warning'} severity\n * @property {string} message\n */\n\n/**\n * @typedef farmhand.upgradesMetadatum\n * @type {Object}\n * @property {string} id\n * @property {string?} description\n * @property {string} name\n * @property {Object.<farmhand.item.id, number>?} ingredients\n * @property {farmhand.module:enums.toolLevel?} nextLevel\n * @property {boolean?} isMaxLevel\n */\n\n/**\n * @typedef farmhand.upgradesMetadata\n * @type {Object.<farmhand.module:enums.toolType, farmhand.upgradesMetadatum>}\n */\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter as Router, Route } from 'react-router-dom'\n\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration'\nimport './index.sass'\nimport Farmhand from './Farmhand'\nimport { features } from './config'\nimport 'typeface-francois-one'\nimport 'typeface-public-sans'\n\nconst FarmhandRoute = props => <Farmhand {...{ ...props, features }} />\n\nReactDOM.render(\n  <Router\n    {...{\n      hashType: 'noslash',\n    }}\n  >\n    <Route\n      {...{\n        path: ['/online/:room', '/online', '/'],\n        component: FarmhandRoute,\n      }}\n    />\n  </Router>,\n  document.getElementById('root')\n)\n\nserviceWorkerRegistration.register()\n"],"sourceRoot":""}